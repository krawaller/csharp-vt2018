<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>JavaScript app construction</title>

  <link rel="icon" type="image/x-icon" href="mc2/images/favicon.ico">

  <link rel="stylesheet" href="mc2/styles/print.css">
<link rel="stylesheet" href="mc2/styles/print-code.css">
  <link rel="stylesheet" href="styles/print.css">
</head>
<body>

<div id="bodycontainer">
  <div id="frontpage">
    <h1>JavaScript app construction</h1>
    <div class="splash"><p>Learning the tools of the trade</p>
</div>
    <img class="logo" src="mc2/images/edument_logo_blue.svg">
  </div>
  <div id="footer">
    <span id="delivery">Academy C#, mar 2018</span>
    <span id="copyright">&copy; Edument 2018</span>
  </div>
  <div id="overview">
    <h2>Course overview</h2>
    <div class="overviewlist"><div class="detailedoverview"><div><h4><span>1.</span> Introduction</h4><ol><li>Your teacher</li><li>Course structure</li><li>The masterplan</li><li>The Web platform</li><li>Exercise - Gearing up</li></ol></div><div><h4><span>2.</span> Getting started</h4><ol><li>CSS refresher</li><li>Exercise - static content</li><li>Git and Github</li><li>Exercise - set up repo</li><li>DOM nodes</li><li>Exercise - Data migration</li><li>DOM event refresher</li><li>Exercise - add user rating</li><li>jQuery refresher</li><li>Exercise - jQuerify</li></ol></div><div><h4><span>3.</span> Enter the build step</h4><ol><li>CSS preprocessing</li><li>Exercise - LESS</li><li>Package.JSON</li><li>Exercise - Build step</li><li>Webpack</li><li>Exercise - Webpack</li><li>Webpack dev server</li><li>Exercise - Webpack</li><li>Distribution files</li><li>Exercise - Distribution</li></ol></div><div><h4><span>4.</span> The world</h4><ol><li>Code quality</li><li>Exercise - hooking up linters</li><li>Continuous Integration</li><li>Exercise - CircleCI</li><li>Pull requests</li><li>Exercise - Run CircleCI on PR:s</li><li>Netlify</li><li>Exercise - Netlify</li></ol></div></div><div><div><h4><span>5.</span> The next level</h4><ol><li>TypeScript</li><li>Exercise - Converting to TypeScript</li><li>Exercise - Using TypeScript</li><li>Intro to AngularJS</li><li>Exercise - installing AngularJS</li><li>More AngularJS</li><li>Exercise - AngularJS Controller</li><li>Controller variant</li><li>Exercise - Controller, take 2</li><li>What comes next?</li><li>Exercise - Exploring AngularJS Component</li></ol></div><div><h4><span>6.</span> Appendix: ES2015</h4><ol><li>Versatile object definitions</li><li>Destructuring and rest</li><li>Versatile function definitions</li><li>Spreads</li><li>Modules</li><li>Classes</li><li>Decorators</li><li>Miscellaneous</li></ol></div></div></div>
  </div>
  <div id="slides">
    <div class="chaptercontainer">
  <div class="chapterstart">
    <span>chapter 1 / 6</span>
    <h2>Introduction</h2>
    <p>Setting the scene</p>
</p>
  </div>
  <section class="slide">

<div class="slidecontent"><p>JavaScript time! Woohoo! :)</p>
</div></section>
  <div class="chaptersectionlist">
  <h3>Sections in this chapter:</h3>
  <ul>
    <li>1. Your teacher</li>
<li>2. Course structure</li>
<li>3. The masterplan</li>
<li>4. The Web platform</li>
<li>5. Exercise - Gearing up</li>
  </ul>
</div>

  <div class="chaptersections">
    <section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>1-1.</span> Your teacher</h3>
      <p>The preacher</p>
</p>
    </div>
  </section>
  <section class="slide" data-pos="1-1-1">
<span class="pos">1-1-1</span>
<div class="slidecontent"><p>Let&#39;s <strong>start with the most important</strong> - me!</p>
<p><img src="resources/1-1-1-47.svg" alt="dot"></p>
</div></section><section class="slide" data-pos="1-1-2">
<span class="pos">1-1-2</span>
<div class="slidecontent"><p>Contact information: </p>
<ul>
<li><strong>Email</strong>: <a href="mailto:david.waller@edument.se">david.waller@edument.se</a></li>
<li><strong>Blog</strong>: <a href="http://blog.krawaller.se">http://blog.krawaller.se</a></li>
<li><strong>Twitter</strong>: <a href="http://twitter.com/krawaller">krawaller</a></li>
<li><strong>Phone</strong>: 0708-293094</li>
</ul>
<p>Don&#39;t be a stranger!</p>
</div></section><section class="slide" data-pos="1-1-3">
<span class="pos">1-1-3</span>
<div class="slidecontent"><p>But, <strong>fair warning</strong> - I spend my days singing this gospel:</p>
<div class="equality">
  <img src="resources/images/js-logo.png" alt="js">
  <span>=</span>
  <img src="resources/images/heart.png" alt="heart">
</div></div></section><section class="slide" data-pos="1-1-4">
<span class="pos">1-1-4</span>
<div class="slidecontent"><p>Now for what&#39;s actually most important - <strong>you</strong>! :)</p>
</div></section>
</section>
<section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>1-2.</span> Course structure</h3>
      <p>How we&#39;ll go about things</p>
</p>
    </div>
  </section>
  <section class="slide" data-pos="1-2-1">
<span class="pos">1-2-1</span>
<div class="slidecontent"><p>The course is divided into several <strong>chapters</strong>, where you&#39;re currently in the first.</p>
<p><img src="resources/1-2-1-87.svg" alt="dot"></p>
<p>We access the chapters from an <strong>index</strong>, giving you a <strong>birds-eye view</strong> of the entire contents.</p>
</div></section><section class="slide" data-pos="1-2-2">
<span class="pos">1-2-2</span>
<div class="slidecontent"><p>Each <strong>chapter</strong> has many <strong>sections</strong>:</p>
<p><img src="resources/1-2-2-41.svg" alt="dot"></p>
</div></section><section class="slide" data-pos="1-2-3">
<span class="pos">1-2-3</span>
<div class="slidecontent"><p>In the <strong>printed material</strong> (or PDF) and in the <strong>presentation top-right corner</strong>, the slides are numbered <strong><code>X‑Y‑Z</code></strong> where...</p>
<ul>
<li><code>X</code> is the number of the current <strong>chapter</strong></li>
<li><code>Y</code> is the number of the section <strong>section</strong> within that chapter</li>
<li><code>Z</code> is the number of the <strong>slide</strong> within that section</li>
</ul>
</div></section><section class="slide" data-pos="1-2-4">
<span class="pos">1-2-4</span>
<div class="slidecontent"><p>From now on, all <strong>sections</strong> will be one of <strong>two types</strong>:</p>
<ul>
<li>Learning sections</li>
<li>Exercise sections</li>
</ul>
</div></section><section class="slide" data-pos="1-2-5">
<span class="pos">1-2-5</span>
<div class="slidecontent"><div class="learn"></div>

<p>When you see this symbol at the top of a section, that means it is a <strong>learning resource</strong>.</p>
<p>A short sentence or two will say <strong>what we want to learn</strong>.</p>
</div></section><section class="slide" data-pos="1-2-6">
<span class="pos">1-2-6</span>
<div class="slidecontent"><div class="goal"></div>

<p>This symbol means the section is an <strong>exercise</strong>.</p>
</div></section><section class="slide" data-pos="1-2-7">
<span class="pos">1-2-7</span>
<div class="slidecontent"><div class="checklist"></div>

<p>Towards the <strong>bottom of the exercise sections</strong> you&#39;ll find a <strong>Definition of Done</strong> slide</p>
<ul>
<li>which gives you</li>
<li>a check list</li>
<li>to know when</li>
<li>you are finished</li>
</ul>
</div></section><section class="slide" data-pos="1-2-8">
<span class="pos">1-2-8</span>
<div class="slidecontent"><div class="solution"></div>

<p>Below that, if it is a coding exercise, you&#39;ll also find a <strong>link to a solution</strong> on a slide with this symbol.</p>
</div></section>
</section>
<section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>1-3.</span> The masterplan</h3>
      <p>tajmad och klar <span style='text-decoration: line-through;'>in i minsta detalj</span></p>
</p>
    </div>
  </section>
  <section class="slide" data-pos="1-3-1">
<span class="pos">1-3-1</span>
<div class="slidecontent"><div class="learn"></div>

<p>Synchronizing expectations for the course</p>
</div></section><section class="slide" data-pos="1-3-2">
<span class="pos">1-3-2</span>
<div class="slidecontent"><p>So - for the next 3 days, we&#39;ll talk about</p>
<ul>
<li><strong>JS app development</strong></li>
<li>...but we&#39;ll splice in some <strong>general JS fu</strong>...</li>
<li>...including the <strong>build step</strong>,</li>
<li>...leading up to <strong>AngularJS</strong>,</li>
<li>...and lots of stuff in between</li>
</ul>
</div></section><section class="slide" data-pos="1-3-3">
<span class="pos">1-3-3</span>
<div class="slidecontent"><p>My <strong>unofficial goal</strong> is that you should be able to <strong>chat up a web developer in a bar</strong>.</p>
<p>...or <strong>survive an interview without faux pas</strong>, whichever you find more interesting.</p>
</div></section><section class="slide" data-pos="1-3-4">
<span class="pos">1-3-4</span>
<div class="slidecontent"><ul>
<li>It is <strong>forbidden to keep a question to yourself</strong>. Ask away! Because,</li>
<li><strong>there are no stupid questions</strong>. <span style='text-decoration: line-through;'>Only stupid people.</span></li>
</ul>
</div></section><section class="slide" data-pos="1-3-5">
<span class="pos">1-3-5</span>
<div class="slidecontent"><p>These slides are available at <a href="http://blog.krawaller.se/csharp-vt2018/">http://blog.krawaller.se/csharp-vt2018/</a></p>
<p>Or put a <code>print.html</code> at the end of the above for a <strong>print-friendly version</strong>.</p>
<p>I&#39;ll be <strong>updating these slides</strong> during these 3 days.</p>
</div></section>
</section>
<section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>1-4.</span> The Web platform</h3>
      <p>a.k.a. the holy trinity</p>
</p>
    </div>
  </section>
  <section class="slide" data-pos="1-4-1">
<span class="pos">1-4-1</span>
<div class="slidecontent"><div class="learn"></div>

<p>The web whatnow?</p>
</div></section><section class="slide" data-pos="1-4-2">
<span class="pos">1-4-2</span>
<div class="slidecontent"><p>The <strong>Web platform</strong> is really the combination of three separate technologies:</p>
<p><img src="resources/diagrams/platform.svg" alt=""></p>
</div></section><section class="slide" data-pos="1-4-3">
<span class="pos">1-4-3</span>
<div class="slidecontent"><p>(There was also a dark time when <strong>Java applets</strong> were used in webpages, but we don&#39;t talk about that...)</p>
<p><img src="resources/diagrams/platform-java.svg" alt=""></p>
</div></section><section class="slide" data-pos="1-4-4">
<span class="pos">1-4-4</span>
<div class="slidecontent"><p>(And we don&#39;t acknowledge the existence of <strong>flash</strong> either)</p>
<p><img src="resources/diagrams/platform-flash.svg" alt=""></p>
</div></section><section class="slide" data-pos="1-4-5">
<span class="pos">1-4-5</span>
<div class="slidecontent"><p>Traditionally, <strong>web apps looked like this</strong>:</p>
<p><img src="resources/diagrams/webapp-before.svg" alt=""></p>
<p>Web tech was <strong>just the UI</strong>. The real coding was done in <code>php</code> / <code>ruby</code> / <code>java</code> / <code>.NET</code>.</p>
</div></section><section class="slide" data-pos="1-4-6">
<span class="pos">1-4-6</span>
<div class="slidecontent"><p>But a <strong>modern SPA</strong> (Single Page Application) is more like this:</p>
<p><img src="resources/diagrams/webapp-now.svg" alt=""></p>
</div></section><section class="slide" data-pos="1-4-7">
<span class="pos">1-4-7</span>
<div class="slidecontent"><p>Additionally, web tech has <strong>escaped from the browser</strong>:</p>
<p><img src="resources/diagrams/webapp-deploy.svg" alt=""></p>
</div></section><section class="slide" data-pos="1-4-8">
<span class="pos">1-4-8</span>
<div class="slidecontent"><p>And blurring the lines even further - there are framework to <strong>compile web to native code</strong>:</p>
<p><img src="resources/diagrams/webapp-deploy-compile.svg" alt=""></p>
</div></section><section class="slide" data-pos="1-4-9">
<span class="pos">1-4-9</span>
<div class="slidecontent"><p>In essence: <strong>web tech is on the (high) rise</strong>, and even if you intend to stay in a sheltered C# garden, knowledge about the web platform will serve you well.</p>
</div></section>
</section>
<section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>1-5.</span> Exercise - Gearing up</h3>
      <p>Assembling the toolkit</p>
</p>
    </div>
  </section>
  <section class="slide" data-pos="1-5-1">
<span class="pos">1-5-1</span>
<div class="slidecontent"><div class="goal"></div>

<p>Before we can get started for real we must make sure that you&#39;re <strong>adequately equipped</strong>!</p>
</div></section><section class="slide" data-pos="1-5-2">
<span class="pos">1-5-2</span>
<div class="slidecontent"><p>This isn&#39;t really an exercise as such, just me telling you to <strong>install a bunch of stuff</strong>.</p>
<p>We won&#39;t talk about <strong>what the stuff does here</strong>, that&#39;ll come later!</p>
</div></section><section class="slide list" data-pos="1-5-3">
<span class="pos">1-5-3</span>
<div class="slidecontent">
<p>We&#39;re going to ensure we have the following installed:</p>
<ul>
<li><span>a</span>Node</li>
<li><span>b</span>Python</li>
<li><span>c</span>Git</li>
<li><span>d</span>Visual Studio Code</li>
<li><span>e</span>MDN (not a program, but a tool nontheless!)</li>
</ul>
<p>If you already have some/all of it, simply skip that instruction!</p>
</div></section><section class="slide num numA" data-pos="1-5-4">
<span class="pos">1-5-4</span>
<div class="slidecontent">
<p>First we install <em>NodeJS</em>!</p>
<p><img src="resources/images/node.jpg" alt=""></p>
<p>Surf over to <a href="https://nodejs.org/">https://nodejs.org/</a>.</p>
</div></section><section class="slide" data-pos="1-5-5">
<span class="pos">1-5-5</span>
<div class="slidecontent"><p>You&#39;ll get to <strong>choose between &quot;Recommended&quot; and &quot;Latest&quot;</strong>:</p>
<p><img src="resources/images/nodeversions.png" alt=""></p>
<p>It doesn&#39;t really matter, but you can <strong>pick &quot;Recommended&quot;</strong>.</p>
</div></section><section class="slide" data-pos="1-5-6">
<span class="pos">1-5-6</span>
<div class="slidecontent"><p>When you go through the installer, it is important that you <strong>make Node available in the terminals</strong>!</p>
<p>This option is usually a checkbox called something like &quot;Add to path&quot;, or &quot;Add to environment variables&quot;.</p>
</div></section><section class="slide num numB" data-pos="1-5-7">
<span class="pos">1-5-7</span>
<div class="slidecontent">
<p>Next up - <strong>Python</strong>!</p>
<p><img src="resources/images/python.png" alt=""></p>
<p>Surf to <a href="https://www.python.org/downloads/">https://www.python.org/downloads/</a>.</p>
</div></section><section class="slide" data-pos="1-5-8">
<span class="pos">1-5-8</span>
<div class="slidecontent"><p>Again there is a <strong>choice between versions</strong>:</p>
<p><img src="resources/images/pythonversions.png" alt=""></p>
<p>You can <strong>select the latest</strong> which is 3, but if you already have 2 installed, that&#39;s ok too.</p>
</div></section><section class="slide" data-pos="1-5-9">
<span class="pos">1-5-9</span>
<div class="slidecontent"><p>And also like Node, we must <strong>make Python available in the terminals</strong>!</p>
<p>Same thing again: This option is usually a checkbox called something like &quot;Add to path&quot;, or &quot;Add to environment variables&quot;.</p>
</div></section><section class="slide num numC" data-pos="1-5-10">
<span class="pos">1-5-10</span>
<div class="slidecontent">
<p>Now, time for <strong>Git</strong>!</p>
<div class="whitebg">
<img src="resources/images/git.png" alt="">
</div>

<p>You likely already have it, but if not, get it from <a href="https://git-scm.com/downloads">https://git-scm.com/downloads</a>.</p>
</div></section><section class="slide" data-pos="1-5-11">
<span class="pos">1-5-11</span>
<div class="slidecontent"><p>And, same as before, we must <strong>make Git available in the terminals</strong> by checking the relevant box in the installation.</p>
</div></section><section class="slide num numD" data-pos="1-5-12">
<span class="pos">1-5-12</span>
<div class="slidecontent">
<p>Finally we need to install <strong>Visual Studio Code</strong>.</p>
<p><img src="resources/images/vsc.png" alt=""></p>
<p>Get it from <a href="https://code.visualstudio.com/download">https://code.visualstudio.com/download</a>.</p>
</div></section><section class="slide question" data-pos="1-5-13">
<span class="pos">1-5-13</span>
<div class="slidecontent">
<p>But, I want to use <code>SomeOtherEditor</code> instead!</p>
</div></section><section class="slide answer" data-pos="1-5-14">
<span class="pos">1-5-14</span>
<div class="slidecontent">
<p>Tough luck! :)</p>
</div></section><section class="slide" data-pos="1-5-15">
<span class="pos">1-5-15</span>
<div class="slidecontent"><p>Serious answer: You&#39;re welcome to use whatever you want, but throughout these days I&#39;ll provide support for VSC.</p>
</div></section><section class="slide num numE" data-pos="1-5-16">
<span class="pos">1-5-16</span>
<div class="slidecontent">
<p>Finally we need to have access to a <strong>reference</strong>! We recommend <a href="https://developer.mozilla.org/en-US/">Mozilla Developer Networks</a> (or MDN for short), which generally is better than the more-well-known W3Schools.</p>
<p>Surf to <a href="https://developer.mozilla.org">https://developer.mozilla.org</a> and explore for a bit!</p>
</div></section><section class="slide" data-pos="1-5-17">
<span class="pos">1-5-17</span>
<div class="slidecontent"><div class="checklist"></div>

<p>You are done when...</p>
<ul>
<li>You can type <code>python --version</code> in any terminal</li>
<li>You can type <code>git --version</code> in any terminal</li>
<li>You can type <code>node --version</code> in any terminal</li>
<li>You have VSC installed (or cling on to sth else)</li>
<li>You&#39;ve familiarised yourself with MDN</li>
</ul>
</div></section>
</section>

  </div>
  
</div>
<div class="chaptercontainer">
  <div class="chapterstart">
    <span>chapter 2 / 6</span>
    <h2>Getting started</h2>
    
  </div>
  
  <div class="chaptersectionlist">
  <h3>Sections in this chapter:</h3>
  <ul>
    <li>1. CSS refresher</li>
<li>2. Exercise - static content</li>
<li>3. Git and Github</li>
<li>4. Exercise - set up repo</li>
<li>5. DOM nodes</li>
<li>6. Exercise - Data migration</li>
<li>7. DOM event refresher</li>
<li>8. Exercise - add user rating</li>
<li>9. jQuery refresher</li>
<li>10. Exercise - jQuerify</li>
  </ul>
</div>

  <div class="chaptersections">
    <section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>2-1.</span> CSS refresher</h3>
      <p>Some useful patterns</p>
</p>
    </div>
  </section>
  <section class="slide" data-pos="2-1-1">
<span class="pos">2-1-1</span>
<div class="slidecontent"><div class="learn"></div>

<p>Make sure we have the <strong>CSS skills</strong> needed for the task ahead.</p>
</div></section><section class="slide list" data-pos="2-1-2">
<span class="pos">2-1-2</span>
<div class="slidecontent">
<p>Let&#39;s repeat a few <strong>useful CSS patterns</strong>:</p>
<ul>
<li><span>a</span>packing the box</li>
<li><span>b</span>centering a block horisontally</li>
<li><span>c</span>selecting via attributes</li>
<li><span>d</span>limiting an image width</li>
<li><span>e</span>preventing text selection</li>
<li><span>f</span>column layout</li>
</ul>
</div></section><section class="slide num numA" data-pos="2-1-3">
<span class="pos">2-1-3</span>
<div class="slidecontent">
<p>The <strong>box model</strong> used to represent a node looks like this:</p>
<p><img src="resources/diagrams/boxmodel.svg" alt=""></p>
</div></section><section class="slide" data-pos="2-1-4">
<span class="pos">2-1-4</span>
<div class="slidecontent"><p>This means that if you apply <strong>padding</strong> it goes inside an eventual border, and will be coloured by the background.</p>
<p>While <strong>margin</strong> won&#39;t be, since it is in essence <em>outside</em> the element.</p>
</div></section><section class="slide num numB" data-pos="2-1-5">
<span class="pos">2-1-5</span>
<div class="slidecontent">
<p>We can <strong>center a block horisontally</strong> in many different ways. Here&#39;s a common solution:</p>
<pre><code class="lang-css"><span class="hljs-selector-class">.contentBlock</span> {
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto;
}
</code></pre>
</div></section><section class="slide" data-pos="2-1-6">
<span class="pos">2-1-6</span>
<div class="slidecontent"><p>Note that this <strong>only works if the block has a set width</strong>, otherwise it&#39;ll take up the full width and we won&#39;t see any centering!</p>
</div></section><section class="slide num numC" data-pos="2-1-7">
<span class="pos">2-1-7</span>
<div class="slidecontent">
<p>There is a distinct possibility you might soon need to <strong>select element via attributes</strong>. This is done using <strong>square brackets</strong>:</p>
<pre><code class="lang-css"><span class="hljs-selector-attr">[data-class=skeleton]</span> {
  <span class="hljs-comment">/* spooky styles go here */</span>
}
</code></pre>
<p>See the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Attribute_selectors">MDN rating docs</a> for the full available syntax.</p>
</div></section><section class="slide num numD" data-pos="2-1-8">
<span class="pos">2-1-8</span>
<div class="slidecontent">
<p>We can <strong>limit an image&#39;s width</strong> using the <code>max-</code> prefixed dimensions:</p>
<pre><code><span class="hljs-selector-class">.myImage</span> {
  <span class="hljs-attribute">max-width</span>: <span class="hljs-number">300px</span>;
  <span class="hljs-attribute">max-height</span>: <span class="hljs-number">400px</span>;
}
</code></pre></div></section><section class="slide num numE" data-pos="2-1-9">
<span class="pos">2-1-9</span>
<div class="slidecontent">
<p>When we <strong>use text elements for interaction</strong> we often want to...</p>
<ul>
<li>prevent selection</li>
<li>make pointer indicate clickability</li>
</ul>
<pre><code><span class="hljs-selector-class">.myElem</span> {
  <span class="hljs-attribute">user-select</span>: none;
  <span class="hljs-attribute">cursor</span>: pointer;
}
</code></pre></div></section><section class="slide num numF" data-pos="2-1-10">
<span class="pos">2-1-10</span>
<div class="slidecontent">
<p>To lay out children of an element as columns we use <strong>flexbox</strong>:</p>
<pre><code class="lang-css"><span class="hljs-selector-class">.container</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">flex-direction</span>: row;
}
</code></pre>
</div></section><section class="slide" data-pos="2-1-11">
<span class="pos">2-1-11</span>
<div class="slidecontent"><p>By default the columns will get equal width. If you have <strong>fixed-width</strong> columns you can make the other columns share the leftover space by giving them:</p>
<pre><code><span class="hljs-selector-class">.columnThatShouldGrow</span> {
  <span class="hljs-attribute">flex-grow</span>: <span class="hljs-number">1</span>;
}
</code></pre></div></section><section class="slide" data-pos="2-1-12">
<span class="pos">2-1-12</span>
<div class="slidecontent"><p>Note that <strong>sized images can behave weirdly</strong> when used as flexbox children.</p>
<p>Prevent this by <strong>wrapping them in a div</strong>!</p>
</div></section>
</section>
<section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>2-2.</span> Exercise - static content</h3>
      <p>Laying the foundation</p>
</p>
    </div>
  </section>
  <section class="slide" data-pos="2-2-1">
<span class="pos">2-2-1</span>
<div class="slidecontent"><p><div class="goal"></div>
Goal: Make <strong>HTML</strong> and <strong>CSS</strong> to show a <strong>movie review</strong> page</p>
</div></section><section class="slide" data-pos="2-2-2">
<span class="pos">2-2-2</span>
<div class="slidecontent"><p>Here&#39;s what we&#39;re going for:</p>
<p><img src="resources/images/moviereview.png" alt=""></p>
</div></section><section class="slide list" data-pos="2-2-3">
<span class="pos">2-2-3</span>
<div class="slidecontent">
<p>Here&#39;s the battle plan</p>
<ul>
<li><span>a</span>create a <strong>project folder</strong></li>
<li><span>b</span>add <strong>html file</strong></li>
<li><span>c</span>add <strong>css file</strong></li>
</ul>
</div></section><section class="slide num numA" data-pos="2-2-4">
<span class="pos">2-2-4</span>
<div class="slidecontent">
<p>Create <strong>folder</strong> somewhere to host our movie review project. Open that folder in Visual Studio Code.</p>
</div></section><section class="slide num numB" data-pos="2-2-5">
<span class="pos">2-2-5</span>
<div class="slidecontent">
<p>Add a new file called <strong><code>index.html</code></strong>.</p>
<p><img src="resources/images/vcs-createfile.png" alt=""></p>
</div></section><section class="slide" data-pos="2-2-6">
<span class="pos">2-2-6</span>
<div class="slidecontent"><p>Make VSC give you a <strong>base to start</strong> by entering...</p>
<pre><code><span class="hljs-selector-tag">html</span>:<span class="hljs-number">5</span>
</code></pre><p>...at the top of the file and then <strong>hit tab</strong>. Voilà, you get a full HTML document!</p>
</div></section><section class="slide" data-pos="2-2-7">
<span class="pos">2-2-7</span>
<div class="slidecontent"><p>Now <strong>flesh out the document</strong> with the HTML needed to get the same contents as in the screenshot!</p>
<p>Although, of course, you are free to <strong>choose any movie</strong>.</p>
</div></section><section class="slide" data-pos="2-2-8">
<span class="pos">2-2-8</span>
<div class="slidecontent"><p>Your review should contain the <strong>exact same parts</strong> as mine:</p>
<ul>
<li>an image</li>
<li>a title</li>
<li>a short text</li>
<li>a list of notable actors</li>
</ul>
</div></section><section class="slide" data-pos="2-2-9">
<span class="pos">2-2-9</span>
<div class="slidecontent"><p>Regarding the image, <strong>don&#39;t download it locally</strong>! Instead simply <strong>link to it online</strong>.</p>
<pre><code>&lt;img <span class="hljs-attribute">src</span>=<span class="hljs-string">"http://bit.ly/kvalitetsrullebild"</span>&gt;
</code></pre></div></section><section class="slide num numC" data-pos="2-2-10">
<span class="pos">2-2-10</span>
<div class="slidecontent">
<p>Time to add a <strong>coat of paint</strong>!</p>
<p>Create a new file in our folder called <strong><code>styles.css</code></strong>:</p>
<p><img src="resources/images/cssfile.png" alt=""></p>
</div></section><section class="slide" data-pos="2-2-11">
<span class="pos">2-2-11</span>
<div class="slidecontent"><p>Connect it via a <strong>link element</strong> in the head of <code>index.html</code>.</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"styles.css"</span>&gt;</span>
</code></pre>
</div></section><section class="slide" data-pos="2-2-12">
<span class="pos">2-2-12</span>
<div class="slidecontent"><p>Now add some CSS in that file to...</p>
<ul>
<li>make the site <strong>centered horisontally</strong></li>
<li>lay it out in <strong>two columns</strong></li>
<li><strong>size the image</strong> so it isn&#39;t too big or small</li>
<li>tweak the rest as you please!</li>
</ul>
</div></section><section class="slide" data-pos="2-2-13">
<span class="pos">2-2-13</span>
<div class="slidecontent"><div class="checklist"></div>

<p>You are done when...</p>
<ul>
<li>double-clicking <code>index.html</code> shows the review in a browser</li>
<li>it looks ok (don&#39;t spend too long!)</li>
</ul>
</div></section><section class="slide" data-pos="2-2-14">
<span class="pos">2-2-14</span>
<div class="slidecontent"><div class="solution"></div>

<p>If you get stuck, see the <a href="https://github.com/krawaller/js-app-solutions/tree/master/static">Static</a> solution.</p>
</div></section>
</section>
<section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>2-3.</span> Git and Github</h3>
      <p>The tools of the trade</p>
</p>
    </div>
  </section>
  <section class="slide" data-pos="2-3-1">
<span class="pos">2-3-1</span>
<div class="slidecontent"><div class="learn"></div>

<p>Make sure we have an understanding of <strong>Git and Github</strong>.</p>
</div></section><section class="slide" data-pos="2-3-2">
<span class="pos">2-3-2</span>
<div class="slidecontent"><p>Chances are very slim that you&#39;ll be able to do modern web work without using...</p>
<ul>
<li>Git for version controlling and collaboration</li>
<li>Github for an online-hosted master Git repo</li>
</ul>
</div></section><section class="slide list" data-pos="2-3-3">
<span class="pos">2-3-3</span>
<div class="slidecontent">
<p>Probably you&#39;re already up and running (?), but here&#39;s a <strong>condenced guide</strong> for common patterns:</p>
<ul>
<li><span>a</span>First-time setup</li>
<li><span>b</span>The idea of a commit </li>
<li><span>c</span>The commit flow</li>
<li><span>d</span>Excluding files</li>
<li><span>e</span>Seeing what changed</li>
<li><span>f</span>A log of changes</li>
<li><span>g</span>Central master repo</li>
</ul>
</div></section><section class="slide num numA" data-pos="2-3-4">
<span class="pos">2-3-4</span>
<div class="slidecontent">
<p>If this is your first time with Git, you will want to start by <strong>configuring Git</strong>
to recognize your name and email address.</p>
<pre><code>git<span class="hljs-built_in"> config </span>--global user.name <span class="hljs-string">"Your Name Here"</span>
git<span class="hljs-built_in"> config </span>--global user.email <span class="hljs-string">"your_email@youremail.com"</span>
</code></pre></div></section><section class="slide num numB" data-pos="2-3-5">
<span class="pos">2-3-5</span>
<div class="slidecontent">
<p>Git centers around the idea of a <strong>commit</strong>. We <em>make a commit for each change</em> you wish
to record in the system</p>
<div class="warning-border">
    Some version control systems keep track of history
    per file. Git versions the whole tree. 
</div></div></section><section class="slide" data-pos="2-3-6">
<span class="pos">2-3-6</span>
<div class="slidecontent"><p>A <strong>commit consists of</strong>:</p>
<ul>
<li>A snapshot of all the files</li>
<li>A commit message</li>
<li>An author</li>
<li>A date</li>
</ul>
</div></section><section class="slide num numC" data-pos="2-3-7">
<span class="pos">2-3-7</span>
<div class="slidecontent">
<p>In Git, committing is a two-step process</p>
<p><img class="img_no_border"
     src="resources/images/adding_and_committing.png"
     alt="Git-add-commit"
     style="max-height: 500px" /></p>
</div></section><section class="slide" data-pos="2-3-8">
<span class="pos">2-3-8</span>
<div class="slidecontent"><p>The <code>add</code> command <strong>places a file in the staging area</strong>
<small>Below is given that the README file exists</small></p>
<pre><code class="lang-diff">$ git add README.md
</code></pre>
<p>The <code>commit</code> command then takes the contents of the
staging area, and creates a commit</p>
<pre><code class="lang-diff">$ git commit

[master (root-commit) beb9dfd] Add a README.
 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 README
</code></pre>
</div></section><section class="slide" data-pos="2-3-9">
<span class="pos">2-3-9</span>
<div class="slidecontent"><p>For <strong>existing files</strong>, <code>add</code> will place the changes to that
file into the staging area, so you can commit changes
with two commands:</p>
<pre><code class="lang-diff">$ git add README
$ git commit
</code></pre>
<p><small>
(A shorthand for these steps: <code>git commit README</code>)
</small></p>
</div></section><section class="slide num numD" data-pos="2-3-11">
<span class="pos">2-3-11</span>
<div class="slidecontent">
<p>We want to avoid tracking <strong>generated files</strong> with Git. Let&#39;s say these are created by our build step:</p>
<pre class="custom-code">
    <code># On branch master
# Untracked files:
#
#       <span class="warning-text">main.exe</span>
#       <span class="warning-text">main.obj</span>
#       <span class="warning-text">util.obj</span></code>
</pre></div></section><section class="slide" data-pos="2-3-12">
<span class="pos">2-3-12</span>
<div class="slidecontent"><p>The solution avoid tracking them is to <em>add a .gitignore</em> file</p>
<p>Content for .gitignore</p>
<pre><code class="lang-diff">*.exe
*.obj
</code></pre>
<p>Then commit the file</p>
<pre><code class="lang-diff">$ git add .gitignore
$ git commit
</code></pre>
</div></section><section class="slide" data-pos="2-3-13">
<span class="pos">2-3-13</span>
<div class="slidecontent"><p>The <code>.gitignore</code> file won&#39;t be of immediate use, but we&#39;ll employ it in the <strong>next chapter</strong>.</p>
</div></section><section class="slide num numE" data-pos="2-3-14">
<span class="pos">2-3-14</span>
<div class="slidecontent">
<p>While <code>git status</code> gives you an overview of your changes, <strong><code>git diff</code> shows what changed</strong>.</p>
<pre><code class="lang-diff">$ git diff
</code></pre>
<pre><code class="lang-diff">diff --git a/src/util.c b/src/util.c
index 9fe5927..e826a45 100644
<span class="hljs-comment">--- a/src/util.c</span>
<span class="hljs-comment">+++ b/src/util.c</span>
<span class="hljs-meta">@@ -1,7 +1,7 @@</span>
 #include &lt;stdio.h&gt;

<span class="hljs-deletion">-void print_ten_times(char *msg) {</span>
<span class="hljs-addition">+void print_n_times(char *msg, int n) {</span>
     int i;
<span class="hljs-deletion">-    for (i = 0; i &lt; 10; i++)</span>
<span class="hljs-addition">+    for (i = 0; i &lt; n; i++)</span>
         printf(msg);
}
</code></pre>
</div></section><section class="slide" data-pos="2-3-15">
<span class="pos">2-3-15</span>
<div class="slidecontent"><p>This is so useful that <strong>VSC has a tab for it</strong>:</p>
<p><img src="resources/images/gitdiffvsc.png" alt=""></p>
</div></section><section class="slide num numF" data-pos="2-3-16">
<span class="pos">2-3-16</span>
<div class="slidecontent">
<p>Typing <code>git log</code> shows a log of all the commits, most recent commit first</p>
<pre class="custom-code">
    <code><span class="gold-text">commit e20962ebed7b0288922320f217a6a3ab9371727c</span>
Author: jnthn <jnthn@jnthn.net>
Date:   Wed Apr 18 18:09:02 2012 +0200

  Add a .gitignore.

<span class="gold-text">commit eae16e7a7f34d1208ca8267c2fabbbc1eb8e3640</span>
Author: jnthn <jnthn@jnthn.net>
Date:   Wed Apr 18 17:56:55 2012 +0200

  Factor printing out to a utility file.

...</code>
</pre></div></section><section class="slide" data-pos="2-3-17">
<span class="pos">2-3-17</span>
<div class="slidecontent"><p>The log command has more options than you can possibly imagine;
one fairly useful one is:</p>
<pre><code class="lang-diff">$ git log --oneline
</code></pre>
<pre class="custom-code">
    <code><span class="gold-text">e20962e</span> Add a .gitignore.
<span class="gold-text">eae16e7</span> Factor printing out to a utility file.
<span class="gold-text">887f06c</span> Start le coding!
<span class="gold-text">869cec3</span> Update README.
<span class="gold-text">8356287</span> Add a README.</code>
</pre>


<p>To learn about (literally) dozens more, see:</p>
<pre><code class="lang-diff">$ git help log
</code></pre>
</div></section><section class="slide num numG" data-pos="2-3-18">
<span class="pos">2-3-18</span>
<div class="slidecontent">
<p>The most common use of remotes is to set up a <strong>central repository</strong></p>
<p><img src="resources/images/a_central_repository.png"
     alt="Merge commits"
     class="img_no_border no_margin"></p>
<div class="info-border">
    It&#39;s the central repository because everyone
    agrees it is. To Git, it&#39;s just another copy.
</div></div></section><section class="slide" data-pos="2-3-19">
<span class="pos">2-3-19</span>
<div class="slidecontent"><p>There are a range of hosted Git services out there,
which can host your central repository for you</p>
<p><strong>GitHub</strong> is the largest today, offering free hosting
for public repositories (used by thousands of open
source projects) and private hosting for individuals
and organizations</p>
</div></section><section class="slide" data-pos="2-3-20">
<span class="pos">2-3-20</span>
<div class="slidecontent"><p>Creating an account is free, and easy.</p>
<p>If you haven&#39;t already got one, simply go to <code>https://github.com/</code> and follow the directions!</p>
</div></section><section class="slide" data-pos="2-3-21">
<span class="pos">2-3-21</span>
<div class="slidecontent"><p>After creating a repository on GitHub, we need to
tell our local Git repository about it by <strong>adding
it as a remote</strong>:</p>
<pre><code class="lang-diff">$ git remote add origin https://github.com/&lt;user&gt;/&lt;repo&gt;.git
</code></pre>
</div></section><section class="slide" data-pos="2-3-22">
<span class="pos">2-3-22</span>
<div class="slidecontent"><p>Since you <strong>can have multiple remotes</strong>, you have to <strong>specify a name</strong> as well as the address</p>
<p>The convention used by almost all Git users is to give the <strong>central repository</strong> remote the name <code>origin</code>, but there&#39;s no technical magic to the name.</p>
</div></section><section class="slide" data-pos="2-3-23">
<span class="pos">2-3-23</span>
<div class="slidecontent"><p><strong>Pushing</strong> is taking commits we have locally and
<strong>copying them to a remote</strong>.</p>
<p>Our <strong>first push</strong> should use the -u flag:</p>
<pre><code class="lang-diff">$ git push -u origin master
</code></pre>
<p>After that you can simply push:</p>
<pre><code class="lang-bash">$ git push
</code></pre>
</div></section>
</section>
<section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>2-4.</span> Exercise - set up repo</h3>
      <p>Becoming part of the world</p>
</p>
    </div>
  </section>
  <section class="slide" data-pos="2-4-1">
<span class="pos">2-4-1</span>
<div class="slidecontent"><div class="goal"></div>

<p>Goal: <strong>Track our code</strong> in an <strong>online git repo</strong>!</p>
</div></section><section class="slide list" data-pos="2-4-2">
<span class="pos">2-4-2</span>
<div class="slidecontent">
<p>Here&#39;s what we need to do:</p>
<ul>
<li><span>a</span>init git repo locally</li>
<li><span>b</span>create github repo</li>
<li><span>c</span>add remote to local repo</li>
<li><span>d</span>start tracking files</li>
<li><span>e</span>do initial commit</li>
<li><span>f</span>push to github repo</li>
</ul>
</div></section><section class="slide num numA" data-pos="2-4-3">
<span class="pos">2-4-3</span>
<div class="slidecontent">
<p><strong>Initialise a git repo</strong> in the project folder by <strong>navigating to it in a terminal</strong> and type:</p>
<pre><code class="lang-bash">git init
</code></pre>
</div></section><section class="slide" data-pos="2-4-4">
<span class="pos">2-4-4</span>
<div class="slidecontent"><p>This will create an <strong>invisible <code>.git</code> folder</strong> where Git does its magic:</p>
<p><img src="resources/images/invisiblegitfolder.png" alt=""></p>
<p>(depending on your OS settings this might be hidden)</p>
</div></section><section class="slide num numB" data-pos="2-4-5">
<span class="pos">2-4-5</span>
<div class="slidecontent">
<p>Now <strong>log into Github</strong> and <strong>create a new repo</strong> using the plus button in the top-right corner:</p>
<p><img src="resources/images/newgithubrepo.png" alt=""></p>
</div></section><section class="slide" data-pos="2-4-6">
<span class="pos">2-4-6</span>
<div class="slidecontent"><p>Give the new repo a <strong>fitting name</strong>:</p>
<p><img src="resources/images/newreponame.png" alt=""></p>
<p>No other settings need to be filled. When you&#39;re done, hit the green <strong>Create repository</strong> button at the bottom!</p>
</div></section><section class="slide" data-pos="2-4-7">
<span class="pos">2-4-7</span>
<div class="slidecontent"><p>This will transition you to <code>github.com/yourusername/yourreponame</code>. Here, make sure <strong><code>HTTPS</code> is selected</strong> and then hit the far-right button to <strong>copy the HTTPS path</strong>!</p>
<p><img src="resources/images/copynewrepoaddress.png" alt=""></p>
</div></section><section class="slide" data-pos="2-4-8">
<span class="pos">2-4-8</span>
<div class="slidecontent"><p><strong>If you get tired of typing your password all the time:</strong></p>
<p>You can switch your remote to use <strong>ssh</strong> if you have time left after finishing the exercise.</p>
</div></section><section class="slide num numC" data-pos="2-4-9">
<span class="pos">2-4-9</span>
<div class="slidecontent">
<p>Now we need to add the Github repo as a <strong>remote</strong> in our local one! In the terminal, while somewhere inside your local gitrepo, type:</p>
<pre><code class="lang-bash">git remote add origin https://some.url
</code></pre>
<p>...where you simply <strong>paste</strong> the final part to be the correct URL for your repo!</p>
</div></section><section class="slide num numD" data-pos="2-4-10">
<span class="pos">2-4-10</span>
<div class="slidecontent">
<p>We must now tell our local repo to <strong>track the files</strong>!</p>
<p>Since we want to <strong>track everything</strong>, we can cheat by simply doing this...</p>
<pre><code class="lang-bash">git add .
</code></pre>
<p>...in the root of our repo.</p>
</div></section><section class="slide num numE" data-pos="2-4-11">
<span class="pos">2-4-11</span>
<div class="slidecontent">
<p>The former command will stage the initial state of those files. Let&#39;s commit it!</p>
<pre><code class="lang-bash">git commit -m <span class="hljs-string">"initial commit"</span>
</code></pre>
</div></section><section class="slide num numF" data-pos="2-4-12">
<span class="pos">2-4-12</span>
<div class="slidecontent">
<p>Now we must tell our remote repo about the changes we&#39;ve made:</p>
<pre><code class="lang-bash">git push -u origin master
</code></pre>
<p>If you reload your repo in the weppage, you should now see your files!</p>
</div></section><section class="slide" data-pos="2-4-13">
<span class="pos">2-4-13</span>
<div class="slidecontent"><div class="checklist"></div>

<p>You are done when...</p>
<ul>
<li>There&#39;s a repo on Github...</li>
<li>...that contains all of the code</li>
</ul>
</div></section>
</section>
<section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>2-5.</span> DOM nodes</h3>
      <p>node juggling</p>
</p>
    </div>
  </section>
  <section class="slide" data-pos="2-5-1">
<span class="pos">2-5-1</span>
<div class="slidecontent"><div class="learn"></div>

<p>Repeating some <strong>DOM node handling</strong> methods.</p>
</div></section><section class="slide list" data-pos="2-5-2">
<span class="pos">2-5-2</span>
<div class="slidecontent">
<p>Let&#39;s refresh...</p>
<ul>
<li><span>a</span>how to get references to DOM nodes</li>
<li><span>b</span>how to manipulate a DOM node</li>
<li><span>c</span>how to create DOM nodes</li>
</ul>
</div></section><section class="slide num numA" data-pos="2-5-3">
<span class="pos">2-5-3</span>
<div class="slidecontent">
<p>We can <strong>get a reference to a DOM node</strong> in a bunch of different ways. Some methods return <strong>a single element</strong>:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">let</span> node = <span class="hljs-built_in">document</span>.body;
<span class="hljs-keyword">let</span> node = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"someId"</span>);
<span class="hljs-keyword">let</span> node = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">"div &gt; p:first-child"</span>);
</code></pre>
</div></section><section class="slide" data-pos="2-5-4">
<span class="pos">2-5-4</span>
<div class="slidecontent"><p>..while others give us a <strong>list of matching nodes</strong>:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">let</span> nodes = <span class="hljs-built_in">document</span>.getElementsByTagName(<span class="hljs-string">"div"</span>);
<span class="hljs-keyword">let</span> nodes = <span class="hljs-built_in">document</span>.getElementsByClassName(<span class="hljs-string">"someClass"</span>);
<span class="hljs-keyword">let</span> nodes = <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">"div &gt; p:first-child"</span>);
</code></pre>
</div></section><section class="slide" data-pos="2-5-5">
<span class="pos">2-5-5</span>
<div class="slidecontent"><p>From a node reference we can access the <strong>element above that element</strong>...</p>
<pre><code><span class="hljs-keyword">node</span>.<span class="hljs-title">parent</span>
</code></pre><p>...or the <strong>elements below</strong>:</p>
<pre><code><span class="hljs-keyword">node</span>.<span class="hljs-title">children</span>
</code></pre></div></section><section class="slide num numB" data-pos="2-5-6">
<span class="pos">2-5-6</span>
<div class="slidecontent">
<p>Once we have a node reference there&#39;s a <strong>huge number of things</strong> we can do with it! The DOM API is enormous.</p>
<p>But here we&#39;ll just show a few useful things!</p>
</div></section><section class="slide" data-pos="2-5-7">
<span class="pos">2-5-7</span>
<div class="slidecontent"><p>We can <strong>add a class</strong>...</p>
<pre><code class="lang-javascript">node.classList.add(<span class="hljs-string">"someClass"</span>);
</code></pre>
<p>...or <strong>remove it</strong>...</p>
<pre><code class="lang-javascript">node.classList.remove(<span class="hljs-string">"someClass"</span>);
</code></pre>
<p>...or <strong>test if it has a certain class</strong>:</p>
<pre><code class="lang-javascript">node.classList.contains(<span class="hljs-string">"someClass"</span>) <span class="hljs-comment">// true or false</span>
</code></pre>
</div></section><section class="slide" data-pos="2-5-8">
<span class="pos">2-5-8</span>
<div class="slidecontent"><p>We can <strong>change the text content of a node</strong>...</p>
<pre><code class="lang-javascript">node.innerText = <span class="hljs-string">"Hello world!"</span>;
</code></pre>
<p>...or <strong>HTML content</strong>:</p>
<pre><code class="lang-javascript">node.innerHTML = <span class="hljs-string">"&lt;strong&gt;Hello world!&lt;/strong&gt;"</span>;
</code></pre>
<p>In both cases we <strong>erase eventual previous content</strong>.</p>
</div></section><section class="slide" data-pos="2-5-9">
<span class="pos">2-5-9</span>
<div class="slidecontent"><p>What about <strong>attributes</strong> on elements?</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">data-ref</span>=<span class="hljs-string">"Ek#AfZW2"</span>&gt;</span>
</code></pre>
<p>We can <strong>query them</strong>...</p>
<pre><code class="lang-javascript">node.getAttribute(<span class="hljs-string">"data-ref"</span>); <span class="hljs-comment">// "Ek#AfZW2"</span>
</code></pre>
<p>...and <strong>set them</strong>:</p>
<pre><code class="lang-javascript">node.setAttribute(<span class="hljs-string">"data-ref"</span>,<span class="hljs-string">"someNewRef"</span>);
</code></pre>
</div></section><section class="slide num numC" data-pos="2-5-10">
<span class="pos">2-5-10</span>
<div class="slidecontent">
<p>Finally, let&#39;s see how we <strong>create DOM nodes</strong>!</p>
<pre><code><span class="hljs-attribute">let newNode</span> = document.createElement(<span class="hljs-string">"div"</span>);
</code></pre><p>Just instantiating a node like this doesn&#39;t do anything - it <strong>isn&#39;t connected to the document</strong>.</p>
</div></section><section class="slide" data-pos="2-5-11">
<span class="pos">2-5-11</span>
<div class="slidecontent"><p>In order to accomplish that we need to <strong>append</strong> or <strong>prepend</strong> the node to a parent node:</p>
<pre><code>let existingNode = document.getElementById(<span class="hljs-string">"someId"</span>)<span class="hljs-comment">;</span>
existingNode.appendChild(newNode)<span class="hljs-comment">;</span>
</code></pre><p>There is of course a corresponding <code>.prependChild</code> too.</p>
</div></section>
</section>
<section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>2-6.</span> Exercise - Data migration</h3>
      
    </div>
  </section>
  <section class="slide" data-pos="2-6-1">
<span class="pos">2-6-1</span>
<div class="slidecontent"><div class="goal"></div>

<p>Goal: no more hardcoded data in the HTML!</p>
</div></section><section class="slide list" data-pos="2-6-2">
<span class="pos">2-6-2</span>
<div class="slidecontent">
<p>Here&#39;s the plan to accomplish this:</p>
<ul>
<li><span>a</span>migrate data</li>
<li><span>b</span>make HTML elements referrable</li>
<li><span>c</span>make renderMovie function</li>
<li><span>d</span>bootstrap application</li>
</ul>
</div></section><section class="slide num numA" data-pos="2-6-3">
<span class="pos">2-6-3</span>
<div class="slidecontent">
<p>As a first step, let&#39;s <strong>move the data</strong> from the HTML to a <strong>data variable</strong>. Create a <strong>new <code>data.js</code> file</strong> where we can do our work!</p>
<p><img src="resources/images/datafile.png" alt=""></p>
<p>Then <strong>include this in <code>index.html</code></strong> via a script element:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"./data.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
</div></section><section class="slide" data-pos="2-6-4">
<span class="pos">2-6-4</span>
<div class="slidecontent"><p>in this file, declare a <strong><code>movieData</code></strong> variable. This will hold an <strong>object containing the movie data</strong>!</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">let</span> movieData = {
  <span class="hljs-comment">// movie info will go here</span>
};
</code></pre>
</div></section><section class="slide" data-pos="2-6-5">
<span class="pos">2-6-5</span>
<div class="slidecontent"><p>Now start <strong>strip out the data</strong> from the template and <strong>move it into the object</strong>!</p>
<p>For each piece of data you&#39;ll have to...</p>
<ul>
<li><strong>make up a suitable key</strong>.</li>
<li><strong>add the key</strong> and the <strong>corresponding value</strong> to the object</li>
<li><strong>remove the data</strong> from the HTML</li>
</ul>
</div></section><section class="slide" data-pos="2-6-6">
<span class="pos">2-6-6</span>
<div class="slidecontent"><p>For instance, the <strong>movie title</strong>...</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Inception<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
</code></pre>
<p>...might end up like this...</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">let</span> movieData = {
  <span class="hljs-attr">title</span>: <span class="hljs-string">"Inception"</span>,
  <span class="hljs-comment">// rest of data will follow here</span>
};
</code></pre>
<p>...leaving the HTML like this:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
</code></pre>
</div></section><section class="slide" data-pos="2-6-7">
<span class="pos">2-6-7</span>
<div class="slidecontent"><p>Keep adding the other pieces of data to the object until <strong>no data remains in the HTML template</strong>!</p>
</div></section><section class="slide" data-pos="2-6-8">
<span class="pos">2-6-8</span>
<div class="slidecontent"><p>The <strong>list of actors</strong> should end up as an <strong>array of strings</strong>...</p>
<pre><code class="lang-javascript">[<span class="hljs-string">"Leonardo DiCaprio"</span>, <span class="hljs-string">"Ellen Page"</span>, <span class="hljs-string">"Tom Hardy"</span>]
</code></pre>
<p>...and the HTML list should be an <strong>empty <code>ul</code></strong>:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
</code></pre>
</div></section><section class="slide num numB" data-pos="2-6-9">
<span class="pos">2-6-9</span>
<div class="slidecontent">
<p>The plan of course is to <strong>programmatically add the data</strong> to the document instead. This requires <strong>getting references to the nodes</strong> to insert the various pieces of data in the correct places!</p>
</div></section><section class="slide" data-pos="2-6-10">
<span class="pos">2-6-10</span>
<div class="slidecontent"><p>To make this easier, <strong>add id:s or classes</strong> as you see fit to the now-empty elements in <code>index.html</code>. For example:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"movietitle"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
</code></pre>
</div></section><section class="slide" data-pos="2-6-11">
<span class="pos">2-6-11</span>
<div class="slidecontent"><p>Side note; with some clever use of CSS selectors it&#39;s possible to get the correct nodes <strong>without classes or id:s</strong>.</p>
<p>So, if you feel up for it, feel free to <strong>skip this step</strong>!</p>
</div></section><section class="slide num numC" data-pos="2-6-12">
<span class="pos">2-6-12</span>
<div class="slidecontent">
<p>Let&#39;s create a <strong>new <code>code.js</code> file</strong> to hold the movie rendering logic:</p>
<p><img src="resources/images/codefile.png" alt=""></p>
<p>Add this too to <code>index.html</code> via a <strong><code>script</code> element</strong>.</p>
</div></section><section class="slide" data-pos="2-6-13">
<span class="pos">2-6-13</span>
<div class="slidecontent"><p>Inside that file, create a <strong><code>renderMovie</code> function</strong>:</p>
<pre><code class="lang-javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">renderMovie</span>(<span class="hljs-params">movie</span>)</span>{
  <span class="hljs-comment">// rendering logic will go here</span>
}
</code></pre>
<p>This function will <strong>receive a movie object</strong> like the one in <code>data.js</code>, and <strong>update the document</strong> by mutating the right nodes with the right data!</p>
</div></section><section class="slide" data-pos="2-6-14">
<span class="pos">2-6-14</span>
<div class="slidecontent"><p>For example, dealing with the title:</p>
<pre><code class="lang-javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">renderMovie</span>(<span class="hljs-params">movie</span>)</span>{
  <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"movietitle"</span>).innerText = movie.title;
  <span class="hljs-comment">// rest of data will be inserted here</span>
}
</code></pre>
<p>Now <strong>finish the function</strong> so that it renders all movie data!</p>
</div></section><section class="slide" data-pos="2-6-15">
<span class="pos">2-6-15</span>
<div class="slidecontent"><p>For the <strong>list of actors</strong> you have a choice; you can...</p>
<ul>
<li><strong>create list nodes individually</strong> and append them to the <code>ul</code></li>
<li><strong>build an HTML string</strong> of all actor li:s and use <code>innerHTML</code> on the <code>ul</code> instead.</li>
</ul>
</div></section><section class="slide num numD" data-pos="2-6-16">
<span class="pos">2-6-16</span>
<div class="slidecontent">
<p>Finally we need to <strong>bootstrap our application</strong>. In our case this is easy - simply <strong>call <code>renderMovie</code> with the data</strong><code>at the bottom of</code>code.js`!</p>
<pre><code class="lang-javascript">renderMovie(movieData); <span class="hljs-comment">// movieData variable created in data.js</span>
</code></pre>
</div></section><section class="slide" data-pos="2-6-17">
<span class="pos">2-6-17</span>
<div class="slidecontent"><div class="checklist"></div>

<p>You are done when...</p>
<ul>
<li>The review looks just like before</li>
<li>There&#39;s no data in the HTML</li>
</ul>
</div></section><section class="slide" data-pos="2-6-18">
<span class="pos">2-6-18</span>
<div class="slidecontent"><p>And of course you&#39;ll be a good citizen and <strong>keep doing the git flow</strong> while you work!</p>
</div></section><section class="slide" data-pos="2-6-19">
<span class="pos">2-6-19</span>
<div class="slidecontent"><div class="solution"></div>

<p>If you get stuck, see the <a href="https://github.com/krawaller/js-app-solutions/tree/master/data">Data</a> solution.</p>
</div></section>
</section>
<section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>2-7.</span> DOM event refresher</h3>
      <p>Gotta catch &#39;em all</p>
</p>
    </div>
  </section>
  <section class="slide" data-pos="2-7-1">
<span class="pos">2-7-1</span>
<div class="slidecontent"><div class="learn"></div>

<p>Make sure we have <strong>DOM event handling</strong> fresh in our heads.</p>
</div></section><section class="slide" data-pos="2-7-2">
<span class="pos">2-7-2</span>
<div class="slidecontent"><p>Another thing we can do with a <strong>node reference</strong> is to <strong>make code run when things happen to it</strong>.</p>
<p>The API for this is simple:</p>
<pre><code class="lang-javascript">node.addEventListener(<span class="hljs-string">"nameOfEvent"</span>, functionToRun);
</code></pre>
<p>The function we pass in is called an <strong>event handler</strong>.</p>
</div></section><section class="slide" data-pos="2-7-3">
<span class="pos">2-7-3</span>
<div class="slidecontent"><p>Here&#39;s a <strong>simple example</strong>:</p>
<pre><code class="lang-javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">goBoom</span>(<span class="hljs-params"></span>)</span>{
  alert(<span class="hljs-string">"You pushed the button. BOOM goes the world!"</span>);
}

node.addEventListener(<span class="hljs-string">"click"</span>, goBoom);
</code></pre>
</div></section><section class="slide" data-pos="2-7-4">
<span class="pos">2-7-4</span>
<div class="slidecontent"><p>Remember to pass in a <strong>reference</strong> to the event handler, as opposed to <strong>executing it</strong>!</p>
<pre><code class="lang-javascript"><span class="hljs-comment">// this is wrong!</span>
node.addEventListener(<span class="hljs-string">"click"</span>, goBoom());
</code></pre>
</div></section><section class="slide" data-pos="2-7-5">
<span class="pos">2-7-5</span>
<div class="slidecontent"><p>It is quite common to <strong>define the event handler in place</strong> as an anonymous function:</p>
<pre><code class="lang-javascript">node.addEventListener(<span class="hljs-string">"click"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
  alert(<span class="hljs-string">"You pushed the button. BOOM goes the world!"</span>);
});
</code></pre>
</div></section><section class="slide" data-pos="2-7-6">
<span class="pos">2-7-6</span>
<div class="slidecontent"><p>The event handler is called with an <strong>event object</strong>, which might be useful for some events:</p>
<pre><code>inputFieldNode.addEventListener(<span class="hljs-string">"keyup"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
  <span class="hljs-keyword">if</span> (e.key === <span class="hljs-string">"Enter"</span> || e.keyCode === <span class="hljs-number">13</span>){
    submitForm();
  }
});
</code></pre></div></section>
</section>
<section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>2-8.</span> Exercise - add user rating</h3>
      <p>Because your opinion matters</p>
</p>
    </div>
  </section>
  <section class="slide" data-pos="2-8-1">
<span class="pos">2-8-1</span>
<div class="slidecontent"><div class="goal"></div>

<p>Goal: allow the user to rate the movie!</p>
</div></section><section class="slide list" data-pos="2-8-2">
<span class="pos">2-8-2</span>
<div class="slidecontent">
<p>Here&#39;s the plan:</p>
<ul>
<li><span>a</span>add a row of rating stars</li>
<li><span>b</span>make <code>changeStarRating</code> func</li>
<li><span>c</span>add event listeners to all stars</li>
</ul>
</div></section><section class="slide num numA" data-pos="2-8-3">
<span class="pos">2-8-3</span>
<div class="slidecontent">
<p>Let&#39;s add a <strong>ratings row</strong> to the review! Here&#39;s what we want:</p>
<p><img src="resources/images/rating.png" alt=""></p>
</div></section><section class="slide" data-pos="2-8-4">
<span class="pos">2-8-4</span>
<div class="slidecontent"><p>We&#39;ll make it easy for us and <strong>use an HTML entity for the star</strong>:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&amp;#9733;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
</code></pre>
<p>Our ratings row should be a <code>&lt;div&gt;</code> with 5 such stars.</p>
</div></section><section class="slide" data-pos="2-8-5">
<span class="pos">2-8-5</span>
<div class="slidecontent"><p>Each <strong>filled star should be black</strong>:</p>
<pre><code class="lang-css"><span class="hljs-selector-tag">selectorForFilledStars</span> {
  <span class="hljs-attribute">color</span>: black;
}
</code></pre>
<p>...and the <strong>empty stars grey</strong>:</p>
<pre><code class="lang-css"><span class="hljs-selector-tag">selectorForEmptyStars</span> {
  <span class="hljs-attribute">color</span>: <span class="hljs-built_in">rgb</span>(180, 180, 180);
}
</code></pre>
</div></section><section class="slide" data-pos="2-8-6">
<span class="pos">2-8-6</span>
<div class="slidecontent"><p>...what the <strong>selectors for filled and empty</strong> should be? Up to you! :)</p>
<p>The easiest way is probably to <strong>add a <code>starX</code> id</strong> to each star, where <code>X</code> is the number 1-5. Then use that id to select the star as necessary.</p>
<p>But there are <strong>many ways</strong> to solve this problem!</p>
</div></section><section class="slide num numB" data-pos="2-8-7">
<span class="pos">2-8-7</span>
<div class="slidecontent">
<p>In our <code>code.js</code> file, create a <code>changeStarRating</code> func! It should take a grade between 1-5, and manipulate the DOM accordingly:</p>
<pre><code><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">changeStarRating</span><span class="hljs-params">(grade)</span></span>{
  <span class="hljs-comment">// Update stars so they appear correctly according to given grade!</span>
}
</code></pre></div></section><section class="slide" data-pos="2-8-8">
<span class="pos">2-8-8</span>
<div class="slidecontent"><p>To test your work, simply add a call to the bottom of <code>code.js</code>:</p>
<pre><code>changeStarRating(<span class="hljs-number">3</span>)<span class="hljs-comment">;</span>
</code></pre></div></section><section class="slide num numC" data-pos="2-8-9">
<span class="pos">2-8-9</span>
<div class="slidecontent">
<p>Now for the interaction - <strong>allow the user to click on the stars</strong>!</p>
<p>Clicking on the first star should trigger <code>changeStarRating(1)</code>, etc.</p>
</div></section><section class="slide" data-pos="2-8-10">
<span class="pos">2-8-10</span>
<div class="slidecontent"><div class="checklist"></div>

<p>You are done when...</p>
<ul>
<li>There&#39;s a row of stars</li>
<li>Clicking a star fills all stars to that point</li>
</ul>
</div></section><section class="slide" data-pos="2-8-11">
<span class="pos">2-8-11</span>
<div class="slidecontent"><div class="solution"></div>

<p>If you get stuck, see the <a href="https://github.com/krawaller/js-app-solutions/tree/master/interaction">Interaction</a> or <a href="https://github.com/krawaller/js-app-solutions/tree/master/interaction_alt">Interaction alt</a> solutions.</p>
</div></section>
</section>
<section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>2-9.</span> jQuery refresher</h3>
      <p>What the fuzz is about</p>
</p>
    </div>
  </section>
  <section class="slide" data-pos="2-9-1">
<span class="pos">2-9-1</span>
<div class="slidecontent"><div class="learn"></div>

<p>Reacquaint ourselves with <strong>jQuery</strong>.</p>
</div></section><section class="slide" data-pos="2-9-2">
<span class="pos">2-9-2</span>
<div class="slidecontent"><p>You&#39;ve likely come across <strong>jQuery</strong>, a library that <strong>makes the DOM easier</strong> to work with.</p>
<p><img src="resources/images/jquery.png" alt=""></p>
</div></section><section class="slide list" data-pos="2-9-3">
<span class="pos">2-9-3</span>
<div class="slidecontent">
<p>Let&#39;s see how some <strong>common tasks</strong> are done with jQuery:</p>
<ul>
<li><span>a</span>node references</li>
<li><span>b</span>node manipulation</li>
<li><span>c</span>node creation</li>
<li><span>d</span>event handling</li>
<li><span>e</span>event delegation</li>
</ul>
</div></section><section class="slide num numA" data-pos="2-9-4">
<span class="pos">2-9-4</span>
<div class="slidecontent">
<p>We <strong>get node references</strong> by passing a <strong>CSS selector</strong> to the jQuery function:</p>
<pre><code class="lang-javascript"><span class="hljs-comment">// returns a jQuery collection of all elements matching that selector</span>
<span class="hljs-keyword">let</span> collection = jQuery(<span class="hljs-string">".someClass"</span>);
</code></pre>
</div></section><section class="slide" data-pos="2-9-5">
<span class="pos">2-9-5</span>
<div class="slidecontent"><p>You&#39;ll rarely see <code>jQuery</code> being used though, instead we work with the <code>$</code> alias:</p>
<pre><code><span class="hljs-attribute">let collection</span> = $(<span class="hljs-string">".someClass"</span>);
</code></pre></div></section><section class="slide num numB" data-pos="2-9-6">
<span class="pos">2-9-6</span>
<div class="slidecontent">
<p>Here&#39;s some common <strong>manipulations</strong>:</p>
<pre><code class="lang-javascript">collection.html(<span class="hljs-string">"&lt;strong&gt;verboten&lt;/strong&gt;"</span>);
collection.text(<span class="hljs-string">"unavailable"</span>);
collection.addClass(<span class="hljs-string">"hide"</span>);
collection.attr(<span class="hljs-string">"data-ref"</span>,<span class="hljs-string">"Ek#AfZW2"</span>);
collection.empty(); <span class="hljs-comment">// killing all children</span>
</code></pre>
</div></section><section class="slide" data-pos="2-9-7">
<span class="pos">2-9-7</span>
<div class="slidecontent"><p>Note that unlike the DOM, jQuery <strong>doesn&#39;t have different methods</strong> for getting 1 or many nodes.</p>
<p>We can manipulate the resulting collection as if it was one node, and <strong>jQuery will do the changes to all nodes</strong>.</p>
</div></section><section class="slide" data-pos="2-9-8">
<span class="pos">2-9-8</span>
<div class="slidecontent"><p>That means that <strong>this regular JS</strong>...</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">let</span> nodes = <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">".french"</span>);
<span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> node <span class="hljs-keyword">in</span> nodes){
  node.innerHTML = <span class="hljs-string">"&lt;em&gt;click to translate&lt;/em&gt;"</span>;
}
</code></pre>
</div></section><section class="slide" data-pos="2-9-9">
<span class="pos">2-9-9</span>
<div class="slidecontent"><p>...can be done like this in jQuery:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">let</span> collection = $(<span class="hljs-string">".french"</span>);
collection.html(<span class="hljs-string">"&lt;em&gt;click to translate&lt;/em&gt;"</span>);
</code></pre>
<p>Commonly we skip the variable and <strong>chain</strong> instead:</p>
<pre><code class="lang-javascript">$(<span class="hljs-string">".french"</span>).html(<span class="hljs-string">"&lt;em&gt;click to translate&lt;/em&gt;"</span>);
</code></pre>
</div></section><section class="slide num numC" data-pos="2-9-10">
<span class="pos">2-9-10</span>
<div class="slidecontent">
<p>Now to see how we <strong>create new elements</strong> with jQuery!</p>
<p>Normally, if you <strong>pass a string</strong> to jQuery, it&#39;ll treat it as a <strong>CSS selector</strong> and collect all matching element:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">let</span> collection = $(<span class="hljs-string">".blogpost &gt; p:first-child"</span>);
</code></pre>
</div></section><section class="slide" data-pos="2-9-11">
<span class="pos">2-9-11</span>
<div class="slidecontent"><p>However, if we pass in a string containing HTML code, jQuery will instead <strong>create the matching element</strong>!</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">let</span> newCollection = $(<span class="hljs-string">"&lt;span&gt;"</span>);
</code></pre>
</div></section><section class="slide" data-pos="2-9-12">
<span class="pos">2-9-12</span>
<div class="slidecontent"><p>This HTML code can contain multiple elements as well as attributes:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">let</span> newCollection = $(<span class="hljs-string">`
  &lt;div class="container"&gt;
    &lt;h2&gt;Hello world!&lt;/h2&gt;
    &lt;p&gt;All this was created in a multiline string sent to jQuery!&lt;/p&gt;
  &lt;/div&gt;
`</span>);
</code></pre>
</div></section><section class="slide" data-pos="2-9-13">
<span class="pos">2-9-13</span>
<div class="slidecontent"><p>Then we can <strong>append the new node</strong>:</p>
<pre><code class="lang-javascript">$(selectorForParent).append(newCollection);
</code></pre>
<p>There&#39;s also a reversed syntax:</p>
<pre><code class="lang-javascript">newCollection.appendTo(selectorForParent);
</code></pre>
</div></section><section class="slide" data-pos="2-9-14">
<span class="pos">2-9-14</span>
<div class="slidecontent"><p>Of course we could have simply used the <code>.html</code> method:</p>
<pre><code class="lang-javascript">$(selectorForParent).html(stringWithNewHtml);
</code></pre>
</div></section><section class="slide num numD" data-pos="2-9-15">
<span class="pos">2-9-15</span>
<div class="slidecontent">
<p><strong>Event listeners</strong> are added using the <code>on</code> method:</p>
<pre><code class="lang-javascript">$(<span class="hljs-string">"#submitbtn"</span>).on(<span class="hljs-string">"click"</span>,handleSubmission);
</code></pre>
<p>Although it&#39;s common to use the <strong>event-specific shorthands</strong>:</p>
<pre><code class="lang-javascript">$(<span class="hljs-string">"#submitbtn"</span>).click(handleSubmission);
</code></pre>
</div></section><section class="slide num numE" data-pos="2-9-16">
<span class="pos">2-9-16</span>
<div class="slidecontent">
<p>jQuery also makes it very easy to do <strong>event delegation</strong>.</p>
<p>This is a powerful pattern that lets us <strong>listen to events on many elements</strong> - which <strong>might not even exist yet</strong> - using only a <strong>single event listener</strong>!</p>
</div></section><section class="slide" data-pos="2-9-17">
<span class="pos">2-9-17</span>
<div class="slidecontent"><p>We accomplish this by <strong>listening for the event on an ancestor element</strong>, and then letting the event <strong>bubble</strong> up to there from the element we&#39;re actually interested in.</p>
</div></section><section class="slide" data-pos="2-9-18">
<span class="pos">2-9-18</span>
<div class="slidecontent"><p>Consider an app with <strong>this UI</strong>:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">ui</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"options"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">data-option-id</span>=<span class="hljs-string">"gowest"</span>&gt;</span>Go west<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">data-option-id</span>=<span class="hljs-string">"opendoor"</span>&gt;</span>Open the door<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">data-option-id</span>=<span class="hljs-string">"turnback"</span>&gt;</span>Turn back<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
</code></pre>
<p>The contents of the <code>#options</code> list will change as the user clicks around.</p>
</div></section><section class="slide" data-pos="2-9-19">
<span class="pos">2-9-19</span>
<div class="slidecontent"><p>Instead of <strong>adding a listener everytime we create an option</strong>, we can have a <strong>single listener on the list</strong> which we <strong>filter to only handle clicks on options</strong>:</p>
<p>In jQuery we do this by <strong>passing a filtering selector</strong> after the event name to <code>.on</code>:</p>
<pre><code class="lang-javascript">$(<span class="hljs-string">"#options"</span>).on(<span class="hljs-string">"click"</span>, <span class="hljs-string">"li"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{
  <span class="hljs-keyword">let</span> opt = $(e.target).attr(<span class="hljs-string">"data-option-id"</span>);
  gameEngine.executeOption(opt);
});
</code></pre>
</div></section>
</section>
<section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>2-10.</span> Exercise - jQuerify</h3>
      <p>Drinking the cool-aid</p>
</p>
    </div>
  </section>
  <section class="slide" data-pos="2-10-1">
<span class="pos">2-10-1</span>
<div class="slidecontent"><div class="goal"></div>

<p>Goal: Clean up our code by using jQuery</p>
</div></section><section class="slide list" data-pos="2-10-2">
<span class="pos">2-10-2</span>
<div class="slidecontent">
<ul>
<li><span>a</span>hook in jQuery in our app</li>
<li><span>b</span>refactor changeStarRating</li>
<li><span>c</span>refactor renderMovie</li>
<li><span>d</span>refactor event listeners</li>
</ul>
</div></section><section class="slide num numA" data-pos="2-10-3">
<span class="pos">2-10-3</span>
<div class="slidecontent">
<p><strong>Bring jQuery into the project</strong> via a script element in <code>index.html</code> referencing the <strong>CDN version</strong>:</p>
<pre><code><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://code.jquery.com/jquery-3.2.1.min.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre></div></section><section class="slide" data-pos="2-10-4">
<span class="pos">2-10-4</span>
<div class="slidecontent"><p>Remember to place that script element <strong>before <code>code.js</code></strong>, otherwise we won&#39;t be able to use jQuery in our code!</p>
</div></section><section class="slide num numB" data-pos="2-10-5">
<span class="pos">2-10-5</span>
<div class="slidecontent">
<p>With jQuery brought in, time to start using it! Start by <strong>refactoring <code>changeStarRating</code></strong>, using jQuery instead of naked DOM manipulation.</p>
</div></section><section class="slide num numC" data-pos="2-10-6">
<span class="pos">2-10-6</span>
<div class="slidecontent">
<p>Next, refactor <strong><code>renderMovie</code></strong> to use jQuery instead.</p>
</div></section><section class="slide num numD" data-pos="2-10-7">
<span class="pos">2-10-7</span>
<div class="slidecontent">
<p>Finally, hook up the <strong>event listeners</strong> with jQuery. The star rating is a prime candidate for some <strong>event delegation</strong>!</p>
</div></section><section class="slide" data-pos="2-10-8">
<span class="pos">2-10-8</span>
<div class="slidecontent"><div class="checklist"></div>

<p>You are done when...</p>
<ul>
<li>The app looks and works the same</li>
<li>We&#39;re using jQuery throughout</li>
</ul>
</div></section><section class="slide" data-pos="2-10-9">
<span class="pos">2-10-9</span>
<div class="slidecontent"><div class="solution"></div>

<p>If you get stuck, see the <a href="https://github.com/krawaller/js-app-solutions/tree/master/jquery">jQuery</a> or <a href="https://github.com/krawaller/js-app-solutions/tree/master/jquery_alt">jQuery alt</a> solutions.</p>
</div></section><section class="slide" data-pos="2-10-10">
<span class="pos">2-10-10</span>
<div class="slidecontent"><p>As a <strong>stretch task</strong>: Although the performance is rarely an issue, it is considered bad form to <strong>reselect the same element</strong> when we don&#39;t really have to.</p>
<p>This can be fixed by <strong>caching selected elements</strong>.</p>
</div></section><section class="slide" data-pos="2-10-11">
<span class="pos">2-10-11</span>
<div class="slidecontent"><p>For example, inside <code>renderMovie</code>, we probably do something like:</p>
<pre><code>$(<span class="hljs-string">".movietitle"</span>).<span class="hljs-keyword">text</span>(movieData.title);
</code></pre><p>But the <code>$(&quot;.movietitle&quot;)</code> selector will return the same thing each time!</p>
</div></section><section class="slide" data-pos="2-10-12">
<span class="pos">2-10-12</span>
<div class="slidecontent"><p>We can therefore <strong>do all selections</strong> in the bootstrapping part...</p>
<pre><code><span class="hljs-keyword">let</span> ui = {
  <span class="hljs-built_in">title</span>: $(<span class="hljs-string">".movietitle"</span>),
  <span class="hljs-comment">// rest here...</span>
}
</code></pre><p>...and instead use that inside the functions:</p>
<pre><code><span class="hljs-selector-tag">ui</span><span class="hljs-selector-class">.title</span><span class="hljs-selector-class">.text</span>(<span class="hljs-selector-tag">movieData</span><span class="hljs-selector-class">.title</span>);
</code></pre></div></section>
</section>

  </div>
  
</div>
<div class="chaptercontainer">
  <div class="chapterstart">
    <span>chapter 3 / 6</span>
    <h2>Enter the build step</h2>
    <p>Things&#39;re getting real</p>
</p>
  </div>
  
  <div class="chaptersectionlist">
  <h3>Sections in this chapter:</h3>
  <ul>
    <li>1. CSS preprocessing</li>
<li>2. Exercise - LESS</li>
<li>3. Package.JSON</li>
<li>4. Exercise - Build step</li>
<li>5. Webpack</li>
<li>6. Exercise - Webpack</li>
<li>7. Webpack dev server</li>
<li>8. Exercise - Webpack</li>
<li>9. Distribution files</li>
<li>10. Exercise - Distribution</li>
  </ul>
</div>

  <div class="chaptersections">
    <section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>3-1.</span> CSS preprocessing</h3>
      <p>bells and whistles</p>
</p>
    </div>
  </section>
  <section class="slide" data-pos="3-1-1">
<span class="pos">3-1-1</span>
<div class="slidecontent"><div class="learn"></div>

<p>Freshen up our <strong>LESS</strong> skills.</p>
</div></section><section class="slide" data-pos="3-1-2">
<span class="pos">3-1-2</span>
<div class="slidecontent"><p>Although CSS has grown more powerful, there is still <strong>a lot to be desired</strong>:</p>
<ul>
<li><strong>variables</strong></li>
<li><strong>computations</strong></li>
<li><strong>mixins</strong></li>
<li><strong>nested declarations</strong></li>
</ul>
</div></section><section class="slide" data-pos="3-1-3">
<span class="pos">3-1-3</span>
<div class="slidecontent"><p>This has driven many to try to <strong>add a layer on top of CSS</strong>. The two most popular solutions are <strong>SASS and LESS</strong>.</p>
<div class="equality">
  <img src="resources/images/sass.svg" alt="js">
  <span></span>
  <img src="resources/images/less.png" alt="heart">
</div>


<p>Read more at <a href="http://sass-lang.com/">http://sass-lang.com/</a> and <a href="http://lesscss.org/">http://lesscss.org/</a>.</p>
</div></section><section class="slide" data-pos="3-1-4">
<span class="pos">3-1-4</span>
<div class="slidecontent"><p>The idea is that we write in a language that <strong>compiles down to regular CSS</strong>.</p>
<p><img src="resources/diagrams/css-compile.svg" alt=""></p>
<p>In other words you will be editing a <code>.less</code> or <code>.sass</code> file, and from that generate a <code>.css</code> file that you serve to the client.</p>
</div></section><section class="slide" data-pos="3-1-5">
<span class="pos">3-1-5</span>
<div class="slidecontent"><p>For example, this LESS code:</p>
<pre><code class="lang-less"><span class="hljs-variable">@bgcolor:</span> <span class="hljs-number">#f938ab</span>;

<span class="hljs-selector-class">.sidebar</span> {
  <span class="hljs-attribute">background-color</span>: <span class="hljs-variable">@bgcolor</span>;
  <span class="hljs-selector-tag">&amp;</span> <span class="hljs-selector-tag">h2</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span> * <span class="hljs-number">2</span> / <span class="hljs-number">3</span>;
  }
}
</code></pre>
</div></section><section class="slide" data-pos="3-1-6">
<span class="pos">3-1-6</span>
<div class="slidecontent"><p>...<strong>translates</strong> to this <strong>CSS</strong>:</p>
<pre><code class="lang-css"><span class="hljs-selector-class">.sidebar</span> {
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f938ab</span>;
}

<span class="hljs-selector-class">.sidebar</span> <span class="hljs-selector-tag">h2</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">66.66666667%</span>
}
</code></pre>
</div></section>
</section>
<section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>3-2.</span> Exercise - LESS</h3>
      
    </div>
  </section>
  <section class="slide" data-pos="3-2-1">
<span class="pos">3-2-1</span>
<div class="slidecontent"><div class="goal"></div>

<p>Goal: Style our app with LESS</p>
</div></section><section class="slide list" data-pos="3-2-2">
<span class="pos">3-2-2</span>
<div class="slidecontent">
<p>Battleplan:</p>
<ul>
<li><span>a</span>install LESS globally</li>
<li><span>b</span>add a LESS file</li>
<li><span>c</span>use LESS syntax</li>
<li><span>d</span>compile LESS to CSS</li>
</ul>
</div></section><section class="slide num numA" data-pos="3-2-3">
<span class="pos">3-2-3</span>
<div class="slidecontent">
<p>First we <strong>install LESS globally</strong>! Type this in a terminal:</p>
<pre><code>npm <span class="hljs-keyword">install</span> -g <span class="hljs-keyword">less</span>
</code></pre><p>You might have to <strong>run the terminal as administrator</strong> to be allowed to do this.</p>
</div></section><section class="slide" data-pos="3-2-4">
<span class="pos">3-2-4</span>
<div class="slidecontent"><p>Then try typing this in <strong>any terminal</strong>:</p>
<pre><code><span class="hljs-attribute">lessc -v</span>
</code></pre><p>If you see a LESS version number, you&#39;re ok!</p>
</div></section><section class="slide num numB" data-pos="3-2-5">
<span class="pos">3-2-5</span>
<div class="slidecontent">
<p>Now we need to <strong>add a LESS file</strong>! Simply <strong>copy the CSS file</strong> in your project, and give the copy the ending <code>.less</code> instead.</p>
<p><img src="resources/images/lessfile.png" alt=""></p>
</div></section><section class="slide num numC" data-pos="3-2-6">
<span class="pos">3-2-6</span>
<div class="slidecontent">
<p>This is all pointless unless we <strong>use some LESS syntax</strong>!</p>
<p>Look up a feature you like (variables are easy), and <strong>use it in the LESS file</strong>!</p>
</div></section><section class="slide num numD" data-pos="3-2-7">
<span class="pos">3-2-7</span>
<div class="slidecontent">
<p>Now we must <strong>generate the CSS file</strong>! In a terminal, navigate to the project folder and type:</p>
<pre><code><span class="hljs-selector-tag">lessc</span> <span class="hljs-selector-tag">styles</span><span class="hljs-selector-class">.less</span> <span class="hljs-selector-tag">styles</span><span class="hljs-selector-class">.css</span>
</code></pre><p>You might have to <strong>tweak according to your exact file names</strong>.</p>
</div></section><section class="slide" data-pos="3-2-8">
<span class="pos">3-2-8</span>
<div class="slidecontent"><p>After this command, notice that the <code>styles.css</code> file will change accordingly!</p>
</div></section><section class="slide" data-pos="3-2-9">
<span class="pos">3-2-9</span>
<div class="slidecontent"><p>You&#39;ll <strong>redo this process</strong> every time you make a change to the LESS file.</p>
<p>(unless you add a watcher!)</p>
</div></section><section class="slide" data-pos="3-2-10">
<span class="pos">3-2-10</span>
<div class="slidecontent"><div class="checklist"></div>

<p>You are done when...</p>
<ul>
<li>The styles are controlled from a LESS file</li>
<li>The app still looks as expected in the browser</li>
</ul>
</div></section><section class="slide" data-pos="3-2-11">
<span class="pos">3-2-11</span>
<div class="slidecontent"><div class="solution"></div>

<p>If you get stuck, see the <a href="https://github.com/krawaller/js-app-solutions/tree/master/less">Less</a> solution.</p>
</div></section>
</section>
<section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>3-3.</span> Package.JSON</h3>
      <p>The heart</p>
</p>
    </div>
  </section>
  <section class="slide" data-pos="3-3-1">
<span class="pos">3-3-1</span>
<div class="slidecontent"><div class="learn"></div>

<p>Learning about <strong>npm and package.json</strong> more in depth.</p>
</div></section><section class="slide" data-pos="3-3-2">
<span class="pos">3-3-2</span>
<div class="slidecontent"><p>Let&#39;s take a closer look at npm! We acces it with the <code>npm</code> command through Node.js:</p>
<pre><code class="lang-bash">$ npm

  Usage: npm &lt;<span class="hljs-built_in">command</span>&gt;
</code></pre>
</div></section><section class="slide list" data-pos="3-3-3">
<span class="pos">3-3-3</span>
<div class="slidecontent">
<p>The npm revolves around the <strong><code>package.json</code> file</strong>. Let&#39;s explore that! Specifically, we&#39;ll look at:</p>
<ul>
<li><span>a</span>install packages globally</li>
<li><span>b</span>initiate a <code>package.json</code> file</li>
<li><span>c</span>track dependencies</li>
<li><span>d</span>semantic versioning</li>
<li><span>e</span>development dependencies</li>
<li><span>f</span>scripts</li>
</ul>
</div></section><section class="slide num numA" data-pos="3-3-4">
<span class="pos">3-3-4</span>
<div class="slidecontent">
<p>To <strong>install a package</strong> you just type:</p>
<pre><code>npm <span class="hljs-keyword">install</span> react
</code></pre><p>This will generate a <code>node_modules</code> folder with react and all its
dependencies, if any.</p>
<p><em>Hint: You probably want to ignore this folder in your VCS</em></p>
</div></section><section class="slide" data-pos="3-3-5">
<span class="pos">3-3-5</span>
<div class="slidecontent"><p>Packages can also be installed globally:</p>
<pre><code class="lang-bash">$ npm install -g eslint
</code></pre>
</div></section><section class="slide num numB" data-pos="3-3-6">
<span class="pos">3-3-6</span>
<div class="slidecontent">
<p>We can setup a <strong><code>package.json</code></strong> file to <strong>track dependencies in our project</strong>, as well as do <strong>other configurations</strong>.</p>
</div></section><section class="slide" data-pos="3-3-7">
<span class="pos">3-3-7</span>
<div class="slidecontent"><p><strong>Getting started</strong> with a new project is simple:</p>
<pre><code class="lang-bash">npm init
</code></pre>
<p>This initializes the folder as an Node.js project by <strong>creating a package.json in it</strong>.</p>
</div></section><section class="slide" data-pos="3-3-8">
<span class="pos">3-3-8</span>
<div class="slidecontent"><p>The result, after you have answered a bunch of questions, might look something like:</p>
<pre><code class="lang-json">{
  <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Install dependencies example"</span>,
  <span class="hljs-attr">"version"</span>: <span class="hljs-string">"1.0.0"</span>,
  <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Project description"</span>,
  <span class="hljs-attr">"dependencies"</span>: {},
  <span class="hljs-attr">"devDependencies"</span>: {},
  <span class="hljs-attr">"scripts"</span>: {
    <span class="hljs-attr">"test"</span>: <span class="hljs-string">"echo \"We have no tests yet\""</span>
  },
  <span class="hljs-attr">"author"</span>: <span class="hljs-string">"Eric Lavesson"</span>,
  <span class="hljs-attr">"license"</span>: <span class="hljs-string">"ISC"</span>
}
</code></pre>
</div></section><section class="slide num numC" data-pos="3-3-9">
<span class="pos">3-3-9</span>
<div class="slidecontent">
<p>Using the <code>--save</code> flag we can <strong>track dependencies</strong> in our <code>package.json</code>.</p>
<pre><code>npm <span class="hljs-keyword">install</span> <span class="hljs-comment">--save react</span>
</code></pre><ul>
<li>As of npm 5.0.0 <code>--save</code> is the default behaviour.</li>
</ul>
</div></section><section class="slide" data-pos="3-3-10">
<span class="pos">3-3-10</span>
<div class="slidecontent"><p>Here&#39;s the <code>package.json</code> file after the saved dependency (shortened for convenience):</p>
<pre><code class="lang-json">{
  <span class="hljs-attr">"dependencies"</span>: {
      <span class="hljs-attr">"react"</span>: <span class="hljs-string">"^15.3.2"</span>
  },
  <span class="hljs-attr">"devDependencies"</span>: {},
  <span class="hljs-attr">"scripts"</span>: {
    <span class="hljs-attr">"test"</span>: <span class="hljs-string">"echo \"We have no tests yet\""</span>
  }
}
</code></pre>
<p>Note how <code>react</code> is now listed as a dependency.</p>
</div></section><section class="slide num numD" data-pos="3-3-11">
<span class="pos">3-3-11</span>
<div class="slidecontent">
<p>npm uses <strong>Semantic versioning</strong> (also called <strong>semver</strong>)</p>
<p>A &quot;version&quot; is described as a string, such as <code>1.2.3</code>, where:</p>
<pre><code><span class="hljs-symbol">1 </span>- MAJOR (incompatible API changes)
<span class="hljs-symbol">2 </span>- MINOR (<span class="hljs-keyword">new</span> functionality, backwards compatible) 
<span class="hljs-symbol">3 </span>- PATCH (patches <span class="hljs-keyword">and</span> bugfixes)
</code></pre></div></section><section class="slide" data-pos="3-3-12">
<span class="pos">3-3-12</span>
<div class="slidecontent"><p>In your <code>package.json</code> (and also when installing, you can specify a
semver, together with one of several comparators. A few common examples
include:</p>
<pre><code>&gt;=<span class="hljs-number">1.2</span><span class="hljs-number">.3</span>     # Anything greater than or equal to this version

=<span class="hljs-number">1.2</span><span class="hljs-number">.3</span>      # Exactly this version

^<span class="hljs-number">1.2</span><span class="hljs-number">.3</span>      # Accept the latest major version
            # (<span class="hljs-number">1.3</span><span class="hljs-number">.0</span> OK, but not <span class="hljs-number">2.0</span><span class="hljs-number">.0</span>)

~<span class="hljs-number">1.2</span><span class="hljs-number">.3</span>      # Accept the latest minor version
            # (<span class="hljs-number">1.2</span><span class="hljs-number">.4</span> OK, but not <span class="hljs-number">1.3</span><span class="hljs-number">.0</span>)
</code></pre></div></section><section class="slide" data-pos="3-3-13">
<span class="pos">3-3-13</span>
<div class="slidecontent"><p>There&#39;s a giant heap of these. Check the following URL for the spec:</p>
<p><a href="https://docs.npmjs.com/misc/semver">https://docs.npmjs.com/misc/semver</a></p>
</div></section><section class="slide num numE" data-pos="3-3-14">
<span class="pos">3-3-14</span>
<div class="slidecontent">
<p>We can mark some dependencies as <strong>development-specific</strong> with the <code>--save-dev</code> flag:</p>
<pre><code>npm install --<span class="hljs-built_in">save</span>-<span class="hljs-built_in">dev</span> mocha
</code></pre></div></section><section class="slide" data-pos="3-3-15">
<span class="pos">3-3-15</span>
<div class="slidecontent"><p>Let&#39;s look at the resulting <code>package.json</code>:</p>
<pre><code class="lang-json">{
  <span class="hljs-attr">"dependencies"</span>: {
      <span class="hljs-attr">"react"</span>: <span class="hljs-string">"^15.3.2"</span>
  },
  <span class="hljs-attr">"devDependencies"</span>: {
      <span class="hljs-attr">"mocha"</span>: <span class="hljs-string">"^3.1.2"</span>
  },
  <span class="hljs-attr">"scripts"</span>: {
    <span class="hljs-attr">"test"</span>: <span class="hljs-string">"echo \"We have no tests yet\""</span>
  }
}
</code></pre>
</div></section><section class="slide question" data-pos="3-3-16">
<span class="pos">3-3-16</span>
<div class="slidecontent">
<p>I just cloned a repo with a <code>package.json</code> file. Since the <code>node_modules</code> folder is ignored, how do I actually install the dependencies?</p>
</div></section><section class="slide answer" data-pos="3-3-17">
<span class="pos">3-3-17</span>
<div class="slidecontent">
<p>Simple. You just run <code>npm install</code>!</p>
<p>This command will download all the <code>dependencies</code> and <code>devDependencies</code> and place them in a <code>node_modules</code> folder.</p>
</div></section><section class="slide num numF" data-pos="3-3-18">
<span class="pos">3-3-18</span>
<div class="slidecontent">
<p>Runnable <strong>scripts</strong> can be added as a <code>scripts</code> property in <code>package.json</code></p>
<pre><code class="lang-json">{
  <span class="hljs-attr">"dependencies"</span>: {},
  <span class="hljs-attr">"devDependencies"</span>: {},
  <span class="hljs-attr">"scripts"</span>: {
    <span class="hljs-attr">"printme"</span>: <span class="hljs-string">"echo \"This is a meaningless script\""</span>
  }
}
</code></pre>
</div></section><section class="slide" data-pos="3-3-19">
<span class="pos">3-3-19</span>
<div class="slidecontent"><p>Once a script is registered like that, we can run it like this:</p>
<pre><code>npm <span class="hljs-keyword">run</span><span class="bash"> printme</span>
</code></pre><p>This just runs our pointless command that we defined in <code>printme</code>. You&#39;ll use it for more useful stuff in the build step coming in later!</p>
</div></section>
</section>
<section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>3-4.</span> Exercise - Build step</h3>
      <p>Plugging in the pipe</p>
</p>
    </div>
  </section>
  <section class="slide" data-pos="3-4-1">
<span class="pos">3-4-1</span>
<div class="slidecontent"><div class="goal"></div>

<p>Goal: define building and dependencies in the project</p>
</div></section><section class="slide" data-pos="3-4-2">
<span class="pos">3-4-2</span>
<div class="slidecontent"><p>Currently our project has <strong>two big downsides</strong>:</p>
<ul>
<li>LESS must be <strong>globally installed</strong></li>
<li>You must <strong>know how to generate</strong> the CSS file</li>
</ul>
<p>Let&#39;s fix this!</p>
</div></section><section class="slide list" data-pos="3-4-3">
<span class="pos">3-4-3</span>
<div class="slidecontent">
<ul>
<li><span>a</span>Add a <code>package.json</code> file</li>
<li><span>b</span>Add <code>less</code> as a local devDep</li>
<li><span>c</span>Add a <code>.gitignore</code> file to prevent tracking of <code>node_modules</code></li>
<li><span>d</span>Add a buildscript</li>
</ul>
</div></section><section class="slide num numA" data-pos="3-4-4">
<span class="pos">3-4-4</span>
<div class="slidecontent">
<p>Create a package.json by typing...</p>
<pre><code class="lang-bash">npm init
</code></pre>
<p>...in the root of your project!</p>
</div></section><section class="slide" data-pos="3-4-5">
<span class="pos">3-4-5</span>
<div class="slidecontent"><p>This will trigger a bunch of <strong>questions</strong> - just keep hitting <code>enter</code> to give the <strong>default answers</strong>.</p>
</div></section><section class="slide num numB" data-pos="3-4-6">
<span class="pos">3-4-6</span>
<div class="slidecontent">
<p>Now let&#39;s <strong>add <code>less</code> as a local development dependency</strong>:</p>
<pre><code>npm <span class="hljs-keyword">install</span> --save-dev <span class="hljs-keyword">less</span>
</code></pre></div></section><section class="slide num numC" data-pos="3-4-7">
<span class="pos">3-4-7</span>
<div class="slidecontent">
<p>Because we have local dependencies, we now have a <strong><code>node_modules</code></strong> folder.</p>
<p><img src="resources/images/nodemodules.png" alt=""></p>
<p>Since this is just 3rd party code, we <strong>don&#39;t want to track it</strong> with Git!</p>
</div></section><section class="slide" data-pos="3-4-8">
<span class="pos">3-4-8</span>
<div class="slidecontent"><p>We prevent this by <strong>adding a <code>.gitignore</code> file</strong> in the root of our folder.</p>
<p><img src="resources/images/gitignore.png" alt=""></p>
</div></section><section class="slide" data-pos="3-4-9">
<span class="pos">3-4-9</span>
<div class="slidecontent"><p>This file should contain <strong>paths to all files and directories</strong> that we wish to <strong>ignore</strong>. So far, that&#39;s just the node modules directory!</p>
<pre><code>node_modules
</code></pre></div></section><section class="slide num numD" data-pos="3-4-10">
<span class="pos">3-4-10</span>
<div class="slidecontent">
<p>Let&#39;s now register a <strong>local command</strong> to <strong>generate our less file</strong>:</p>
<pre><code class="lang-bash">{
  <span class="hljs-string">"scripts"</span>: {
    <span class="hljs-string">"styles"</span>: <span class="hljs-string">"lessc styles.less styles.css"</span>
  }
}
</code></pre>
<p>Of course, make sure the names match your CSS file.</p>
</div></section><section class="slide" data-pos="3-4-11">
<span class="pos">3-4-11</span>
<div class="slidecontent"><p>Now, in a terminal in the project folder, try...</p>
<pre><code class="lang-bash">npm run styles
</code></pre>
<p>...and make sure the CSS file is properly regenerated!</p>
</div></section><section class="slide" data-pos="3-4-12">
<span class="pos">3-4-12</span>
<div class="slidecontent"><div class="checklist"></div>

<p>You are done when...</p>
<ul>
<li>LESS is locally installed (in <code>node_modules/less</code>)</li>
<li><code>node_modules</code> isn&#39;t tracked by Git</li>
<li>Typing <code>npm run styles</code> regenerates the CSS</li>
</ul>
</div></section><section class="slide" data-pos="3-4-13">
<span class="pos">3-4-13</span>
<div class="slidecontent"><div class="solution"></div>

<p>If you get stuck, see the <a href="https://github.com/krawaller/js-app-solutions/tree/master/build">Build</a> solution.</p>
</div></section>
</section>
<section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>3-5.</span> Webpack</h3>
      
    </div>
  </section>
  <section class="slide" data-pos="3-5-1">
<span class="pos">3-5-1</span>
<div class="slidecontent"><div class="learn"></div>

<p>Learning about <strong>Webpack</strong>.</p>
</div></section><section class="slide" data-pos="3-5-2">
<span class="pos">3-5-2</span>
<div class="slidecontent"><p>Time to get to know one of the <strong>most important tools</strong>:</p>
<div style="background-color: white;">
<img src="resources/images/webpack.png" alt="">
</div></div></section><section class="slide list" data-pos="3-5-3">
<span class="pos">3-5-3</span>
<div class="slidecontent">
<p><a href="https://webpack.js.org/">Webpack</a> solves a whole range of problems:</p>
<ul>
<li><span>a</span>it <strong>lets us use modules</strong>...</li>
<li><span>b</span>because it <strong>bundles our code</strong> into a single file</li>
<li><span>c</span>it can also do <strong>other transpilings</strong></li>
</ul>
</div></section><section class="slide num numA" data-pos="3-5-4">
<span class="pos">3-5-4</span>
<div class="slidecontent">
<p>Webpack lets us <strong>use Node module syntax in our code</strong>. This means that instead of splitting our code into files and then <strong>including them all in script elements</strong> (which means they all execute in the same scope), we can <strong>use proper modules</strong>!</p>
</div></section><section class="slide" data-pos="3-5-5">
<span class="pos">3-5-5</span>
<div class="slidecontent"><p>So instead of <strong>creating a global variable</strong> in <code>data.js</code>...</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">let</span> movieData = {
  <span class="hljs-attr">title</span>: <span class="hljs-string">'Inception'</span>, <span class="hljs-comment">// etc</span>
};
</code></pre>
<p>...and then <strong>magically be able to reference that</strong> in <code>code.js</code>...</p>
<pre><code class="lang-javascript">renderMovie(movieData);
</code></pre>
</div></section><section class="slide" data-pos="3-5-6">
<span class="pos">3-5-6</span>
<div class="slidecontent"><p>...we can <strong>explicitly export it</strong> in <code>data.js</code>...</p>
<pre><code><span class="hljs-keyword">module</span>.<span class="hljs-keyword">exports</span> = {
  title: <span class="hljs-string">'Inception'</span>, <span class="hljs-comment">// etc</span>
}
</code></pre><p>...and <strong>import it</strong> in <code>code.js</code>:</p>
<pre><code>let movieData = require(<span class="hljs-string">"./data"</span>)<span class="hljs-comment">;</span>

renderMovie(<span class="hljs-name">movieData</span>)<span class="hljs-comment">;</span>
</code></pre></div></section><section class="slide" data-pos="3-5-7">
<span class="pos">3-5-7</span>
<div class="slidecontent"><p>Note that we <strong>have to write the path as <code>&quot;./data&quot;</code></strong>.</p>
<p>If we write it as <code>&quot;data&quot;</code>, npm will assume we mean a <strong>3rd party module within <code>node_modules</code></strong> and look there instead!</p>
</div></section><section class="slide" data-pos="3-5-8">
<span class="pos">3-5-8</span>
<div class="slidecontent"><p>Working with modules in this way has many advantages;</p>
<ul>
<li>It becomes <strong>clear what a file exports and imports</strong></li>
<li>Files are executed in <strong>separate scopes</strong></li>
<li>Webpack can <strong>bundle it all into a single file</strong>, which we&#39;ll soon see!</li>
</ul>
</div></section><section class="slide" data-pos="3-5-9">
<span class="pos">3-5-9</span>
<div class="slidecontent"><p>Note that there is also an <strong>ES6 version</strong> of the module syntax. In <strong><code>data.js</code></strong> we&#39;d <strong>export</strong> it like so...</p>
<pre><code><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> movieData = {
  title: <span class="hljs-string">'Inception'</span>, <span class="hljs-comment">// etc</span>
};
</code></pre><p>...and then in <code>code.js</code> we&#39;d <strong>import</strong> like this:</p>
<pre><code><span class="hljs-keyword">import</span> {movieData} <span class="hljs-keyword">from</span> <span class="hljs-string">'./data'</span>;

renderMovie(movieData);
</code></pre></div></section><section class="slide num numB" data-pos="3-5-10">
<span class="pos">3-5-10</span>
<div class="slidecontent">
<p>The <strong>bundling into a single file</strong> is at the core of Webpack. It requires us to <strong>use a module setup</strong> as described above.</p>
<p>With such as setup we&#39;d <strong>point Webpack to the entry file</strong>. It&#39;ll then start there, <strong>dynamically follow all require calls</strong>, and bundle up everything into a <strong>single file</strong>.</p>
</div></section><section class="slide" data-pos="3-5-11">
<span class="pos">3-5-11</span>
<div class="slidecontent"><p>We do this in a <strong>configuration file</strong> with the magical name <strong><code>webpack.config.js</code></strong>. This file should <strong>export a config object</strong>:</p>
<pre><code class="lang-javascript"><span class="hljs-built_in">module</span>.exports = {
  <span class="hljs-attr">mode</span>: <span class="hljs-string">'development'</span>, <span class="hljs-comment">// whether we're building for dev or prod</span>
  entry: <span class="hljs-string">'./code.js'</span>, <span class="hljs-comment">// which file to begin with</span>
  output: {
    <span class="hljs-attr">path</span>: __dirname, <span class="hljs-comment">// what folder to put bundle in</span>
    filename: <span class="hljs-string">'bundle.js'</span> <span class="hljs-comment">// what name to use for bundle</span>
  }
};
</code></pre>
<p>There are of course <strong>many more config options</strong>!</p>
</div></section><section class="slide question" data-pos="3-5-12">
<span class="pos">3-5-12</span>
<div class="slidecontent">
<p>...wait, what was this thing?</p>
<pre><code class="lang-javascript">path.resolve(__dirname, <span class="hljs-string">"."</span>)
</code></pre>
<p>Where did <code>path</code> come from, and what is <code>__dirname</code>?</p>
</div></section><section class="slide answer" data-pos="3-5-13">
<span class="pos">3-5-13</span>
<div class="slidecontent">
<p>Well! <strong><code>__dirname</code></strong> is a global variable in Node, pointing to the <strong>current directory</strong>.</p>
<p>Node has many things like that - just like the browser has <code>document</code> etc!</p>
</div></section><section class="slide" data-pos="3-5-14">
<span class="pos">3-5-14</span>
<div class="slidecontent"><p>And <strong><code>path</code></strong> is a <strong>build-in helper</strong> in node for adding parts of a path together! We bring it in like so:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">"path"</span>);
</code></pre>
<p>And then we can do...</p>
<pre><code class="lang-javascript">path.resolve(firstPart, secondPart, thirdPart)
</code></pre>
<p>...without worrying about if we&#39;ll end up with double slashes etc.</p>
</div></section><section class="slide num numC" data-pos="3-5-15">
<span class="pos">3-5-15</span>
<div class="slidecontent">
<p>Via <strong>plugins</strong>, Webpack can also do a whole bunch of <strong>other conversions</strong> while it&#39;s at it. This might include...</p>
<ul>
<li>turning smart JS to dumb via <a href="https://babeljs.io/">Babel</a> or something similar</li>
<li>inlining images</li>
<li>minifying/uglifying</li>
<li>dealing with text resources</li>
<li>...and a whole bunch of other things!</li>
</ul>
</div></section>
</section>
<section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>3-6.</span> Exercise - Webpack</h3>
      
    </div>
  </section>
  <section class="slide" data-pos="3-6-1">
<span class="pos">3-6-1</span>
<div class="slidecontent"><div class="goal"></div>

<p>Goal: bundle our code with webpack</p>
</div></section><section class="slide list" data-pos="3-6-2">
<span class="pos">3-6-2</span>
<div class="slidecontent">
<p>Here&#39;s the plan!</p>
<ul>
<li><span>a</span>turn <code>data.js</code> into exported</li>
<li><span>b</span>add <code>jquery</code> as local dependency</li>
<li><span>c</span>add <code>webpack</code> as local development dependency</li>
<li><span>d</span>configure webpack</li>
<li><span>e</span>add script to run webpack</li>
<li><span>f</span>update <code>index.html</code></li>
</ul>
</div></section><section class="slide" data-pos="3-6-3">
<span class="pos">3-6-3</span>
<div class="slidecontent"><p>Lots of steps, but don&#39;t fret - most of them are very simple, promise! :)</p>
</div></section><section class="slide num numA" data-pos="3-6-4">
<span class="pos">3-6-4</span>
<div class="slidecontent">
<p>Right now <strong><code>data.js</code></strong> simply <strong>declares a variable</strong> which we&#39;ll then magically use in another file.</p>
<p>Let&#39;s stop this, and instead make <code>data.js</code> explicitly <strong>export the variable</strong>! There are code examples in the previous section.</p>
</div></section><section class="slide" data-pos="3-6-5">
<span class="pos">3-6-5</span>
<div class="slidecontent"><p>Then turn your attention to <strong><code>code.js</code></strong> and make it <strong>import the variable from <code>data.js</code></strong>, instead of just assuming that the variable is magically present.</p>
</div></section><section class="slide num numB" data-pos="3-6-6">
<span class="pos">3-6-6</span>
<div class="slidecontent">
<p>Let&#39;s add jQuery as a local dependency!</p>
<pre><code class="lang-bash">npm install --save jquery
</code></pre>
</div></section><section class="slide" data-pos="3-6-7">
<span class="pos">3-6-7</span>
<div class="slidecontent"><p>Again you have to <strong>update <code>code.js</code></strong> to import <code>jquery</code> instead of just assuming it exists.</p>
</div></section><section class="slide num numC" data-pos="3-6-8">
<span class="pos">3-6-8</span>
<div class="slidecontent">
<p>Next we need to <strong>import webpack as a local development dependency</strong>!</p>
<pre><code class="lang-bash">npm install --save-dev webpack webpack-cli
</code></pre>
<p>This installs both webpack and <strong><code>webpack-cli</code></strong>, for using via the terminal.</p>
</div></section><section class="slide num numD" data-pos="3-6-9">
<span class="pos">3-6-9</span>
<div class="slidecontent">
<p>The configuration for webpack lives in a separate <strong><code>webpack.config.js</code></strong> file. </p>
<p>Add such a file, and see the former section for what it should contain!</p>
</div></section><section class="slide num numE" data-pos="3-6-10">
<span class="pos">3-6-10</span>
<div class="slidecontent">
<p>Now that webpack is present and configured we can <strong>add a script</strong> to <code>package.json</code> to run it. Let&#39;s call it <strong><code>bundle</code></strong>!</p>
<pre><code>  <span class="hljs-string">"scripts"</span>: {
    <span class="hljs-string">"styles"</span>: <span class="hljs-string">"lessc styles.less styles.css"</span>,
    <span class="hljs-string">"bundle"</span>: <span class="hljs-string">"webpack"</span>
  },
</code></pre></div></section><section class="slide" data-pos="3-6-11">
<span class="pos">3-6-11</span>
<div class="slidecontent"><p>Try it by typing <code>npm run bundle</code> in the terminal, and see if <code>bundle.js</code> appears as expected!</p>
</div></section><section class="slide num numF" data-pos="3-6-12">
<span class="pos">3-6-12</span>
<div class="slidecontent">
<p>As the very final step, let&#39;s <strong>update <code>index.html</code></strong> to use our new setup.</p>
<p>This means...</p>
<ul>
<li><strong>removing all existing script elements</strong></li>
<li><strong>adding a new one for <code>bundle.js</code></strong></li>
</ul>
</div></section><section class="slide" data-pos="3-6-13">
<span class="pos">3-6-13</span>
<div class="slidecontent"><div class="checklist"></div>

<p>You are done when...</p>
<ul>
<li>Doing <code>npm run bundle</code> generates a <code>bundle.js</code></li>
<li>That&#39;s the only script file in <code>index.html</code></li>
<li>The app still works like before</li>
</ul>
</div></section><section class="slide" data-pos="3-6-14">
<span class="pos">3-6-14</span>
<div class="slidecontent"><div class="solution"></div>

<p>If you get stuck, see the <a href="https://github.com/krawaller/js-app-solutions/tree/master/webpack">Webpack</a> solution.</p>
</div></section>
</section>
<section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>3-7.</span> Webpack dev server</h3>
      <p>a smoother workflow</p>
</p>
    </div>
  </section>
  <section class="slide" data-pos="3-7-1">
<span class="pos">3-7-1</span>
<div class="slidecontent"><div class="learn"></div>

<p>Learning about <strong>Webpack dev server</strong>.</p>
</div></section><section class="slide" data-pos="3-7-2">
<span class="pos">3-7-2</span>
<div class="slidecontent"><p>Of course, having to manually press the build button every time gets old quickly.</p>
<p>But, there is a tool for solving that! Time to meet <strong><a href="https://github.com/webpack/webpack-dev-server">Webpack dev server</a></strong>.</p>
<p>This is a <strong>ridiculously powerful tool</strong>, we&#39;ll just be scratching the surface here.</p>
</div></section><section class="slide list" data-pos="3-7-3">
<span class="pos">3-7-3</span>
<div class="slidecontent">
<p>We&#39;ll walk through...</p>
<ul>
<li><span>a</span>installation</li>
<li><span>b</span>configuration</li>
<li><span>c</span>running</li>
<li><span>d</span>notifications</li>
</ul>
</div></section><section class="slide num numA" data-pos="3-7-4">
<span class="pos">3-7-4</span>
<div class="slidecontent">
<p>Webpack dev server is installed from npm like usual:</p>
<pre><code class="lang-text">npm install --save-dev webpack-dev-server
</code></pre>
</div></section><section class="slide num numB" data-pos="3-7-5">
<span class="pos">3-7-5</span>
<div class="slidecontent">
<p>We configure it by <strong>adding a <code>devServer</code> part</strong> in the webpack config:</p>
<pre><code>var path = require(<span class="hljs-string">"path"</span>);

module.exports = {
  <span class="hljs-comment">// ... other stuff excluded ...</span>
<span class="hljs-symbol">  devServer:</span> {
<span class="hljs-symbol">    contentBase:</span> __dirname, <span class="hljs-comment">// the root for the server</span>
<span class="hljs-symbol">    watchContentBase:</span> true, <span class="hljs-comment">// so we reload if other stuff like CSS changes</span>
<span class="hljs-symbol">    port:</span> <span class="hljs-number">9000</span>, <span class="hljs-comment">// it'll now be at http://localhost:9000</span>
  }
};
</code></pre></div></section><section class="slide num numC" data-pos="3-7-6">
<span class="pos">3-7-6</span>
<div class="slidecontent">
<p>Running it is as simple as running webpack. We <strong>add a script</strong> to the package.json executing the <code>webpack-dev-server</code> binary</p>
<pre><code>  <span class="hljs-string">"bundle"</span>: <span class="hljs-string">"webpack"</span>,
  <span class="hljs-string">"start:dev"</span>: <span class="hljs-string">"webpack-dev-server"</span>
</code></pre><p>This will also read from <code>webpack.config.js</code>.</p>
<p>The name <code>start:dev</code> isn&#39;t magical, just traditional.</p>
</div></section><section class="slide" data-pos="3-7-7">
<span class="pos">3-7-7</span>
<div class="slidecontent"><p>As long as this process is running, webpack will automatically... </p>
<ul>
<li><strong>regenerate <code>bundle.js</code></strong></li>
<li><strong>reload the browser</strong></li>
</ul>
<p>...whenever a file is changed!</p>
</div></section><section class="slide" data-pos="3-7-8">
<span class="pos">3-7-8</span>
<div class="slidecontent"><p>Not only that; it will...</p>
<ul>
<li>do <strong>incremental builds</strong> </li>
<li><strong>serve <code>bundle.js</code> from memory</strong></li>
</ul>
<p>...which means it is <em>faster</em> than normal!</p>
</div></section><section class="slide num numD" data-pos="3-7-9">
<span class="pos">3-7-9</span>
<div class="slidecontent">
<p>Having a watcher is convenient, but it <strong>can be dangerous</strong>. How do we know if it has reloaded or not?</p>
<p>One way to help is to have a <strong>notifier</strong> tell us whenever the bundle is regenerated!</p>
</div></section><section class="slide" data-pos="3-7-10">
<span class="pos">3-7-10</span>
<div class="slidecontent"><p>We can achieve this by installing <strong>Webpack notifier</strong>...</p>
<pre><code class="lang-text">npm install --save-dev webpack-notifier
</code></pre>
<p>...and adding it as a plugin in <code>webpack.config.js</code>:</p>
<pre><code><span class="hljs-keyword">const</span> WebpackNotifierPlugin = require(<span class="hljs-string">"webpack-notifier"</span>);

<span class="hljs-keyword">module</span>.<span class="hljs-keyword">exports</span> = {
  <span class="hljs-comment">// ... other stuff removed ...</span>
  plugins: [
    <span class="hljs-keyword">new</span> WebpackNotifierPlugin({alwaysNotify: <span class="hljs-keyword">true</span>}),
  ]
};
</code></pre></div></section>
</section>
<section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>3-8.</span> Exercise - Webpack</h3>
      
    </div>
  </section>
  <section class="slide" data-pos="3-8-1">
<span class="pos">3-8-1</span>
<div class="slidecontent"><div class="goal"></div>

<p>Goal: Hook in webpack dev server</p>
</div></section><section class="slide" data-pos="3-8-2">
<span class="pos">3-8-2</span>
<div class="slidecontent"><p>Not much else to say - we want to have <strong>webpack dev server</strong> available in our build step!</p>
</div></section><section class="slide" data-pos="3-8-3">
<span class="pos">3-8-3</span>
<div class="slidecontent"><p>You thereby need to...</p>
<ul>
<li>install it</li>
<li>add configuration</li>
<li>add a script</li>
<li>hook up a notifier</li>
</ul>
<p>...all of which you can find instructions for in the previous section.</p>
</div></section><section class="slide" data-pos="3-8-4">
<span class="pos">3-8-4</span>
<div class="slidecontent"><div class="checklist"></div>

<p>You are done when...</p>
<ul>
<li>There is a working <code>start:dev</code> script</li>
<li>You are notified upon rebuild</li>
</ul>
</div></section><section class="slide" data-pos="3-8-5">
<span class="pos">3-8-5</span>
<div class="slidecontent"><div class="solution"></div>

<p>If you get stuck, see the <a href="https://github.com/krawaller/js-app-solutions/tree/master/webpack_dev">Webpack Dev</a> solution.</p>
</div></section>
</section>
<section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>3-9.</span> Distribution files</h3>
      <p>Made to order</p>
</p>
    </div>
  </section>
  <section class="slide" data-pos="3-9-1">
<span class="pos">3-9-1</span>
<div class="slidecontent"><div class="learn"></div>

<p>The concept of <strong>distribution files</strong>.</p>
</div></section><section class="slide question" data-pos="3-9-2">
<span class="pos">3-9-2</span>
<div class="slidecontent">
<p>Two of these files are <strong>special</strong>. Which?</p>
<p><img src="resources/images/differentfilesquestion.png" alt=""></p>
</div></section><section class="slide answer" data-pos="3-9-3">
<span class="pos">3-9-3</span>
<div class="slidecontent">
<p>These! They alone are <strong>generated</strong> from the rest:</p>
<p><img src="resources/images/differentfilesanswer.png" alt=""></p>
</div></section><section class="slide" data-pos="3-9-4">
<span class="pos">3-9-4</span>
<div class="slidecontent"><p>We <strong>don&#39;t want to track generated files</strong>, and we <strong>don&#39;t really want to mix them with our source files</strong>.</p>
<p>But, it is the <strong>generated files</strong> that we want to <strong>serve to the client</strong>, and <strong>not our source files</strong>!</p>
</div></section><section class="slide" data-pos="3-9-5">
<span class="pos">3-9-5</span>
<div class="slidecontent"><p>This is what a <strong>proper build step</strong> should take care of; it should <strong>generate a directory</strong> containing <strong>everything the client needs</strong>. This directory should <strong>not contain anything not needed</strong>, but only the stuff that is needed to run the app.</p>
</div></section><section class="slide" data-pos="3-9-6">
<span class="pos">3-9-6</span>
<div class="slidecontent"><p>And, by peculiar chance, you&#39;ll now get to <strong>set up generating such a folder</strong>! :)</p>
</div></section>
</section>
<section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>3-10.</span> Exercise - Distribution</h3>
      <p>An ACTUAL build step, at last!</p>
</p>
    </div>
  </section>
  <section class="slide" data-pos="3-10-1">
<span class="pos">3-10-1</span>
<div class="slidecontent"><div class="goal"></div>

<p>Goal: Have a deployable <code>distribution</code> folder without source files</p>
</div></section><section class="slide list" data-pos="3-10-2">
<span class="pos">3-10-2</span>
<div class="slidecontent">
<p>Here&#39;s the plan:</p>
<ul>
<li><span>a</span><strong>tweak webpack</strong> to output into distribution folder</li>
<li><span>b</span><strong>tweak webpack dev server</strong> to work from that folder</li>
<li><span>c</span><strong>tweak less</strong> to output into distribution folder</li>
<li><span>d</span>add a script to <strong>copy <code>index.html</code></strong> into distribution folder</li>
<li><span>e</span>make Git <strong>ignore distribution folder</strong></li>
<li><span>f</span>add <strong>build script</strong> that runs all other scripts</li>
</ul>
</div></section><section class="slide num numA" data-pos="3-10-3">
<span class="pos">3-10-3</span>
<div class="slidecontent">
<p>We need to <strong>change webpack</strong> so that it <strong>outputs the bundle into the distribution folder</strong> instead:</p>
<p>Inside <code>webpack.config.js</code>, simply change the <code>output.path</code> in the config to <code>distribution</code></p>
</div></section><section class="slide num numB" data-pos="3-10-4">
<span class="pos">3-10-4</span>
<div class="slidecontent">
<p>We also have to <strong>change webpack dev server</strong> to work from the distribution folder.</p>
<p>Inside <code>webpack.config.js</code>, change <code>devServer.contentBase</code> to the same thing as <code>output.path</code>!</p>
</div></section><section class="slide num numC" data-pos="3-10-5">
<span class="pos">3-10-5</span>
<div class="slidecontent">
<p>Similarly, <strong>tweak the less script</strong> to output to <code>distribution/styles.css</code> instead of just <code>styles.css</code>.</p>
</div></section><section class="slide num numD" data-pos="3-10-6">
<span class="pos">3-10-6</span>
<div class="slidecontent">
<p>We want to <strong>keep <code>index.html</code> among our tracked source files</strong>.</p>
<p>But at the same time we <strong>need it inside the distribution folder</strong>!</p>
</div></section><section class="slide" data-pos="3-10-7">
<span class="pos">3-10-7</span>
<div class="slidecontent"><p>We solve this via <strong>adding a simple copying script</strong> to <code>package.json</code>:</p>
<pre><code>  <span class="hljs-string">"copyindex"</span>: <span class="hljs-string">"cp index.html distribution/index.html"</span>
</code></pre><p>Run <code>npm run copyindex</code> in the terminal to see if it works!</p>
</div></section><section class="slide" data-pos="3-10-8">
<span class="pos">3-10-8</span>
<div class="slidecontent"><p><strong><span style="color: red;">WARNING!</span></strong></p>
<p>The <code>cp</code> command does <em>not</em> work in normal Windows terminals!</p>
<p>But, since Linux is standard on web servers, we <strong>need to use this syntax</strong>.</p>
<p>To get around this: Use the <strong>Git bash</strong> terminal, that speaks Linux! :)</p>
</div></section><section class="slide num numE" data-pos="3-10-9">
<span class="pos">3-10-9</span>
<div class="slidecontent">
<p>The <code>distribution</code> folder is now full of generated files, which we <strong>don&#39;t want to track</strong>. </p>
<p>Add the whole folder to the <code>.gitignore</code> file!</p>
</div></section><section class="slide num numF" data-pos="3-10-10">
<span class="pos">3-10-10</span>
<div class="slidecontent">
<p>As a final step, let&#39;s <strong>add a <code>build</code> script</strong> that runs all other scripts.</p>
<pre><code>  <span class="hljs-string">"build"</span>: <span class="hljs-string">"npm run bundle &amp;&amp; npm run less &amp;&amp; npm run copyindex"</span>
</code></pre><p>Try it out, and see if the <code>distribution</code> folder is populated as expected.</p>
</div></section><section class="slide" data-pos="3-10-11">
<span class="pos">3-10-11</span>
<div class="slidecontent"><div class="checklist"></div>

<p>You are done when...</p>
<ul>
<li>There&#39;s a <code>distribution</code> folder</li>
<li>That folder isn&#39;t tracked by git</li>
<li>Everything the app needs to run is inside that folder</li>
<li>That folder contains no other files</li>
</ul>
</div></section><section class="slide" data-pos="3-10-12">
<span class="pos">3-10-12</span>
<div class="slidecontent"><div class="solution"></div>

<p>If you get stuck, see the <a href="https://github.com/krawaller/js-app-solutions/tree/master/distribution">Distribution</a> solution.</p>
</div></section>
</section>

  </div>
  
</div>
<div class="chaptercontainer">
  <div class="chapterstart">
    <span>chapter 4 / 6</span>
    <h2>The world</h2>
    <p>because we&#39;re a herd species</p>
</p>
  </div>
  
  <div class="chaptersectionlist">
  <h3>Sections in this chapter:</h3>
  <ul>
    <li>1. Code quality</li>
<li>2. Exercise - hooking up linters</li>
<li>3. Continuous Integration</li>
<li>4. Exercise - CircleCI</li>
<li>5. Pull requests</li>
<li>6. Exercise - Run CircleCI on PR:s</li>
<li>7. Netlify</li>
<li>8. Exercise - Netlify</li>
  </ul>
</div>

  <div class="chaptersections">
    <section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>4-1.</span> Code quality</h3>
      <p>Getting rid of the lint</p>
</p>
    </div>
  </section>
  <section class="slide" data-pos="4-1-1">
<span class="pos">4-1-1</span>
<div class="slidecontent"><div class="learn"></div>

<p>Learn about different aspects of <strong>code quality</strong> and <strong>tools</strong> to enforce it.</p>
</div></section><section class="slide" data-pos="4-1-2">
<span class="pos">4-1-2</span>
<div class="slidecontent"><p>So - <strong>code quality</strong>. What do we actually mean?</p>
</div></section><section class="slide" data-pos="4-1-3">
<span class="pos">4-1-3</span>
<div class="slidecontent"><p>There&#39;s a <strong>top-level distinction</strong> we have to make first: we can talk about the quality of the code...</p>
<ul>
<li>..as it is <strong>written</strong></li>
<li>..as it is <strong>run</strong></li>
</ul>
<p>In this part we&#39;re solely concerned about the first point.</p>
</div></section><section class="slide list" data-pos="4-1-4">
<span class="pos">4-1-4</span>
<div class="slidecontent">
<p>Talking about the quality of the code as it is written, there are (at least) <strong>3 different aspects</strong>:</p>
<ul>
<li><span>a</span>syntax errors</li>
<li><span>b</span>aesthetics</li>
<li><span>c</span>politics</li>
</ul>
</div></section><section class="slide num numA" data-pos="4-1-5">
<span class="pos">4-1-5</span>
<div class="slidecontent">
<p>First off code needs to be <strong>correct</strong>. Our editor should prevent us from writing code with <strong>syntax errors</strong>.</p>
<p>Even in a loosely typed language, catching syntax errors early is very possible.</p>
</div></section><section class="slide" data-pos="4-1-6">
<span class="pos">4-1-6</span>
<div class="slidecontent"><p>Loosely typed means having to accept a higher ratio of <strong>runtime errors</strong> and <strong>bugs</strong>, but that&#39;s another discussion.</p>
</div></section><section class="slide num numB" data-pos="4-1-7">
<span class="pos">4-1-7</span>
<div class="slidecontent">
<p>But code quality can be discussed outside of the realm of errors. </p>
<p>For instance, as a team we can make decisions on certain <strong>aesthetics</strong>.</p>
</div></section><section class="slide" data-pos="4-1-8">
<span class="pos">4-1-8</span>
<div class="slidecontent"><p>A common example is how to indent our files - <strong>tabs</strong> or <strong>spaces</strong>!</p>
<p>The important thing is not what we choose, but that we use our choice <strong>consistently</strong> throughout our codebase.</p>
<p>Having a consistent style is an important part of having <strong>quality code</strong>.</p>
</div></section><section class="slide num numC" data-pos="4-1-9">
<span class="pos">4-1-9</span>
<div class="slidecontent">
<p>Then there are things that we can be consistent about that aren&#39;t really aesthetics. For example:</p>
<ul>
<li>how large should a function be before we split it</li>
<li>how many different parameters is ok to have</li>
<li>how many branches are ok within a function</li>
</ul>
<p>This is what we mean by <strong>politics</strong>.</p>
</div></section><section class="slide" data-pos="4-1-10">
<span class="pos">4-1-10</span>
<div class="slidecontent"><p>Just as with aesthetics, a codebase is easier to read and predict if we <strong>follow the same politics</strong> throughout.</p>
<p>Again - <strong>consistency</strong>.</p>
</div></section><section class="slide" data-pos="4-1-11">
<span class="pos">4-1-11</span>
<div class="slidecontent"><p>The category of tools that help to <strong>enforce syntax, aesthetics and choices</strong> are called <strong>linters</strong>.</p>
<p>The name comes from the lint in your belly-button - a linter is a tool that picks this out!</p>
</div></section><section class="slide" data-pos="4-1-12">
<span class="pos">4-1-12</span>
<div class="slidecontent"><p>The different choices we can make (tabs or spaces, etc) are called <strong>rules</strong>.</p>
<p>We can <strong>configure a linter</strong> and tell it what our opinion is on the various rules.</p>
</div></section><section class="slide" data-pos="4-1-13">
<span class="pos">4-1-13</span>
<div class="slidecontent"><p>Because the whole point of linters is to <strong>ensure consistency</strong>, that means that all team members need to <strong>use it in the same way</strong>.</p>
<p>We achieve this by making sure that the <strong>linter configuration is part of our source code</strong>. That way everyone who clones the repo will get the <strong>same choices made</strong>.</p>
</div></section><section class="slide" data-pos="4-1-14">
<span class="pos">4-1-14</span>
<div class="slidecontent"><p>We can <strong>run the linters</strong> (in other words, test if our source code obeys the rules) in a variety of ways:</p>
<ul>
<li>show <strong>feedback in our editor as we code</strong></li>
<li>have a <strong>linter command that tests the entire source</strong></li>
<li>run it on a <strong>central repo</strong> when ppl try to check in code.</li>
</ul>
<p>We&#39;ll explore the last point later, and the first two now!</p>
</div></section>
</section>
<section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>4-2.</span> Exercise - hooking up linters</h3>
      
    </div>
  </section>
  <section class="slide" data-pos="4-2-1">
<span class="pos">4-2-1</span>
<div class="slidecontent"><div class="goal"></div>

<p>Goal: Have commands to lint our code</p>
</div></section><section class="slide list" data-pos="4-2-2">
<span class="pos">4-2-2</span>
<div class="slidecontent">
<p>Since we are using <strong>two separate languages</strong> in our project, we need two different linting solutions!</p>
<ul>
<li><span>a</span>Lint our LESS code</li>
<li><span>b</span>Lint our JavaScript</li>
</ul>
</div></section><section class="slide num numA" data-pos="4-2-3">
<span class="pos">4-2-3</span>
<div class="slidecontent">
<p>One of the most popular tools for linting CSS is <a href="https://stylelint.io/">Stylelint</a>.</p>
<p><img src="resources/images/stylelint.svg" alt=""></p>
<p>Stylelint also understands both SASS and LESS.</p>
</div></section><section class="slide" data-pos="4-2-4">
<span class="pos">4-2-4</span>
<div class="slidecontent"><p>We <strong>install it from npm</strong> as per usual:</p>
<pre><code>npm install --<span class="hljs-built_in">save</span>-<span class="hljs-built_in">dev</span> stylelint
</code></pre></div></section><section class="slide" data-pos="4-2-5">
<span class="pos">4-2-5</span>
<div class="slidecontent"><p>We <strong>configure Stylelint</strong> by adding a <strong><code>.stylelintrc</code></strong> file:</p>
<p><img src="resources/images/stylelintfile.png" alt=""></p>
</div></section><section class="slide" data-pos="4-2-6">
<span class="pos">4-2-6</span>
<div class="slidecontent"><p>Here&#39;s what the content looks like:</p>
<pre><code>{
  <span class="hljs-attr">"rules"</span>: {
    <span class="hljs-attr">"max-empty-lines"</span>: <span class="hljs-number">4</span>
  }
}
</code></pre><p>The <code>max-empty-lines</code> rule is just an example. You can find a <a href="https://stylelint.io/user-guide/rules/">full list of rules</a> on the Stylelint homepage. Glance through it and <strong>add the rules you like</strong>!</p>
</div></section><section class="slide" data-pos="4-2-7">
<span class="pos">4-2-7</span>
<div class="slidecontent"><p>Having done that we need to <strong>add a script to run the linter</strong>. Put the following into the <code>scripts</code> section of <code>package.json</code>:</p>
<pre><code>  <span class="hljs-string">"lintless"</span>: <span class="hljs-string">"stylelint styles.less"</span>,
</code></pre><p>Make sure your command matches what you&#39;ve chosen to call your style file.</p>
</div></section><section class="slide" data-pos="4-2-8">
<span class="pos">4-2-8</span>
<div class="slidecontent"><p>To test, <strong>make a change in the LESS file that violates a rule</strong> and run...</p>
<pre><code>npm <span class="hljs-keyword">run</span><span class="bash"> lintless</span>
</code></pre><p>...and you&#39;ll see something like:</p>
<p><img src="resources/images/stylelintoutput.png" alt=""></p>
</div></section><section class="slide" data-pos="4-2-9">
<span class="pos">4-2-9</span>
<div class="slidecontent"><p>It would also be valuable to <strong>get this feedback directly in the editor</strong>. In VSC, go to the extensions tab and <strong>find the Stylelint extension</strong>:</p>
<p><img src="resources/images/stylelintextension.png" alt=""></p>
</div></section><section class="slide" data-pos="4-2-10">
<span class="pos">4-2-10</span>
<div class="slidecontent"><p>Now VSC will <strong>show the errors as you code</strong>:</p>
<p><img src="resources/images/stylelintineditor.png" alt=""></p>
</div></section><section class="slide num numB" data-pos="4-2-11">
<span class="pos">4-2-11</span>
<div class="slidecontent">
<p>Ok! Time to make a very similar journey for our <strong>JavaScript</strong>. Our linting tool here will be <a href="https://eslint.org/">ESLint</a>.</p>
<p><img src="resources/images/eslint.png" alt=""></p>
</div></section><section class="slide" data-pos="4-2-12">
<span class="pos">4-2-12</span>
<div class="slidecontent"><p>We <strong>install it from npm</strong> as per usual, yet again:</p>
<pre><code>npm install --<span class="hljs-built_in">save</span>-<span class="hljs-built_in">dev</span> eslint
</code></pre></div></section><section class="slide" data-pos="4-2-13">
<span class="pos">4-2-13</span>
<div class="slidecontent"><p>We&#39;ll need <strong>two new files</strong>:</p>
<p><img src="resources/images/eslintfiles.png" alt=""></p>
</div></section><section class="slide" data-pos="4-2-14">
<span class="pos">4-2-14</span>
<div class="slidecontent"><p>The <strong>configuration</strong> in <strong><code>.eslintrc</code></strong> looks like this:</p>
<pre><code class="lang-json">{
  <span class="hljs-attr">"parserOptions"</span>: { <span class="hljs-attr">"ecmaVersion"</span>: <span class="hljs-number">6</span> },
  <span class="hljs-attr">"rules"</span>: {
      <span class="hljs-attr">"quotes"</span>: [<span class="hljs-string">"error"</span>, <span class="hljs-string">"double"</span>]
  }
}
</code></pre>
<p>Again the <code>quotes</code> rule is just an example of what you can do.</p>
<p>See the <a href="https://eslint.org/docs/rules/">full list of ESLint rules</a> and pick what you like!</p>
</div></section><section class="slide" data-pos="4-2-15">
<span class="pos">4-2-15</span>
<div class="slidecontent"><p>The other file, <strong><code>.eslintignore</code></strong>, is for - surprise - listing <strong>paths that should not be linted</strong>. We have a few of those:</p>
<pre><code>webpack<span class="hljs-selector-class">.config</span><span class="hljs-selector-class">.js</span>
distribution
</code></pre><p>Go ahead and add the above to your file!</p>
</div></section><section class="slide" data-pos="4-2-16">
<span class="pos">4-2-16</span>
<div class="slidecontent"><p>Next up we need a <strong>script to run ESLint</strong>. Add the following to the script sections of <code>package.json</code>:</p>
<pre><code>  <span class="hljs-string">"lintjs"</span>: <span class="hljs-string">"eslint ."</span>
</code></pre><p>This simply tells ESLint to lint everything in the current folder.</p>
</div></section><section class="slide question" data-pos="4-2-17">
<span class="pos">4-2-17</span>
<div class="slidecontent">
<p>Instead of linting the whole folder and ignoring some stuff, couldn&#39;t we have <strong>moved our source files into a separate directory</strong>, then tell ESLint to lint <strong>only that directory</strong>?</p>
</div></section><section class="slide answer" data-pos="4-2-18">
<span class="pos">4-2-18</span>
<div class="slidecontent">
<p>Yes. And that would probably be much better, especially when the number of source files grow.</p>
<p>But then I wouldn&#39;t get to show you <code>.eslintignore</code>! :D</p>
</div></section><section class="slide" data-pos="4-2-19">
<span class="pos">4-2-19</span>
<div class="slidecontent"><p>Time to make VSC aware of what we just did! We need the <strong>ESLint extension</strong>:</p>
<p><img src="resources/images/eslintextension.png" alt=""></p>
<p>As you can see this extension is <strong>ridiculously popular</strong>.</p>
</div></section><section class="slide" data-pos="4-2-20">
<span class="pos">4-2-20</span>
<div class="slidecontent"><p>Having done that, we now get <strong>JS rules violation feedback in the editor</strong>:</p>
<p><img src="resources/images/eslintineditor.png" alt=""></p>
</div></section><section class="slide" data-pos="4-2-21">
<span class="pos">4-2-21</span>
<div class="slidecontent"><div class="checklist"></div>

<p>You are done when...</p>
<ul>
<li>there&#39;s a <code>lintjs</code> command</li>
<li>non-source js files are not linted</li>
<li>there&#39;s a <code>lintless</code> command</li>
<li>there&#39;s a <code>lint</code> cmnd that runs both</li>
<li>errors from both linters are shown in VSC</li>
</ul>
</div></section><section class="slide" data-pos="4-2-22">
<span class="pos">4-2-22</span>
<div class="slidecontent"><div class="solution"></div>

<p>If you get stuck, see the <a href="https://github.com/krawaller/js-app-solutions/tree/master/lint">Lint</a> solution.</p>
</div></section>
</section>
<section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>4-3.</span> Continuous Integration</h3>
      
    </div>
  </section>
  <section class="slide" data-pos="4-3-1">
<span class="pos">4-3-1</span>
<div class="slidecontent"><div class="learn"></div>

<p>Understand what <strong>continuous integration</strong> is and why we do it</p>
</div></section><section class="slide" data-pos="4-3-2">
<span class="pos">4-3-2</span>
<div class="slidecontent"><p>In modern JS development, <strong>continuous integration</strong> is a very important term.</p>
<p>The idea behind it is to make it <strong>cheaper to merge new code</strong>.</p>
</div></section><section class="slide" data-pos="4-3-3">
<span class="pos">4-3-3</span>
<div class="slidecontent"><p>We accomplish this by <strong>automating all checks possible</strong>. This frequently includes:</p>
<ul>
<li>Making sure the <strong>build works</strong></li>
<li>Applying the <strong>linter rules</strong></li>
<li>Running the <strong>unit tests</strong></li>
</ul>
</div></section><section class="slide question" data-pos="4-3-4">
<span class="pos">4-3-4</span>
<div class="slidecontent">
<p>Wait... shouldn&#39;t the <strong>developers always do this</strong>?</p>
</div></section><section class="slide answer" data-pos="4-3-5">
<span class="pos">4-3-5</span>
<div class="slidecontent">
<p><strong>Yes</strong>. But...</p>
<blockquote>
<p>This is such a small change, surely nothing can break</p>
</blockquote>
<p>...etc. In essence, <strong>humans can&#39;t be trusted</strong>.</p>
</div></section><section class="slide" data-pos="4-3-6">
<span class="pos">4-3-6</span>
<div class="slidecontent"><p>Also, research shows that simply <strong>knowing that rigorous testing is applied to all code</strong> will make the team...</p>
<ul>
<li>feel more <strong>ownership</strong> for the code</li>
<li>feel more <strong>trust</strong> for the code</li>
</ul>
<p>...which are both very valuable things.</p>
</div></section><section class="slide" data-pos="4-3-7">
<span class="pos">4-3-7</span>
<div class="slidecontent"><p>So, how is this all accomplished? We use a <strong>continuous integration system</strong>.</p>
<p>These used to be server-based, such as <a href="https://jenkins.io/">https://jenkins.io/</a>. Very powerful, but also rather <strong>fiddly to set up</strong>.</p>
</div></section><section class="slide" data-pos="4-3-8">
<span class="pos">4-3-8</span>
<div class="slidecontent"><p>Now it is more popular to use <strong>CI as a service solutions</strong>.</p>
<p>Two popular ones are <a href="https://travis-ci.org/">https://travis-ci.org/</a> and <a href="https://circleci.com/">https://circleci.com/</a>.</p>
<p>Next up we&#39;ll try our hand at the latter!</p>
</div></section>
</section>
<section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>4-4.</span> Exercise - CircleCI</h3>
      
    </div>
  </section>
  <section class="slide" data-pos="4-4-1">
<span class="pos">4-4-1</span>
<div class="slidecontent"><div class="goal"></div>

<p>Goal: Hooking up CircleCI</p>
</div></section><section class="slide" data-pos="4-4-2">
<span class="pos">4-4-2</span>
<div class="slidecontent"><p>As previously mentioned there are <strong>many tools available</strong> to do continuous integration as a service.</p>
<p>We&#39;ll be using CircleCI!</p>
<p><img src="resources/images/circleci.png" alt=""></p>
</div></section><section class="slide list" data-pos="4-4-3">
<span class="pos">4-4-3</span>
<div class="slidecontent">
<p>Here&#39;s the battleplan:</p>
<ul>
<li><span>a</span>Sign up for CircleCI</li>
<li><span>b</span>Setup a project</li>
<li><span>c</span>Configure our repo</li>
<li><span>d</span>Try it out</li>
</ul>
</div></section><section class="slide num numA" data-pos="4-4-4">
<span class="pos">4-4-4</span>
<div class="slidecontent">
<p>First we have to <strong>sign up</strong>.</p>
<ul>
<li>Go to <a href="https://circleci.com/">https://circleci.com</a> and hit the <strong>sign up</strong> button to the top right**</li>
<li>Next, choose <strong>Sign up with Github</strong></li>
<li>On the new screen, <strong>log in with your Github credentials</strong></li>
<li>Next, <strong>agree to authorize CircleCI</strong></li>
</ul>
<p>You should now arrive at your brand new <strong>CircleCI dashboard</strong>!</p>
</div></section><section class="slide num numB" data-pos="4-4-5">
<span class="pos">4-4-5</span>
<div class="slidecontent">
<p>Time to <strong>connect your repo</strong>!</p>
<p>Hit the <strong>Add project</strong> button to the far right:</p>
<p><img src="resources/images/circleci-addprojects.png" alt=""></p>
</div></section><section class="slide" data-pos="4-4-6">
<span class="pos">4-4-6</span>
<div class="slidecontent"><p>You&#39;ll now see a <strong>filterable list of all your repos</strong> on Github.</p>
<p>Find the correct repo and hit the <strong>Setup project</strong> button next to it.</p>
<p><img src="resources/images/circleci-setuprepo.png" alt=""></p>
</div></section><section class="slide" data-pos="4-4-7">
<span class="pos">4-4-7</span>
<div class="slidecontent"><p>On the <strong>settings screen</strong> choose <strong>Linux</strong>, version <strong>2.0</strong> and <strong>Node</strong>:</p>
<p><img src="resources/images/circleci-settings.png" alt=""></p>
<p>All done here, well done!</p>
</div></section><section class="slide num numC" data-pos="4-4-8">
<span class="pos">4-4-8</span>
<div class="slidecontent">
<p>Finally we have to <strong>configure CircleCI</strong> by adding <strong>configuration files to our repo</strong>!</p>
<p>In your project, add a <strong>folder called <code>.circleci</code></strong> with a <strong><code>config.yml</code></strong> inside it!</p>
<p><img src="resources/images/circleci-folder.png" alt=""></p>
</div></section><section class="slide" data-pos="4-4-9">
<span class="pos">4-4-9</span>
<div class="slidecontent"><p>Inside <strong><code>config.yml</code></strong>, paste the following:</p>
<pre><code class="lang-yaml"><span class="hljs-attr">version:</span> <span class="hljs-number">2</span>
<span class="hljs-attr">jobs:</span>
<span class="hljs-attr">  build:</span>
<span class="hljs-attr">    working_directory:</span> <span class="hljs-string">~/tmp</span>
<span class="hljs-attr">    docker:</span>
<span class="hljs-attr">      - image:</span> <span class="hljs-string">circleci/node:7</span>
<span class="hljs-attr">    steps:</span>
<span class="hljs-bullet">      -</span> <span class="hljs-string">checkout</span>
<span class="hljs-attr">      - run:</span> <span class="hljs-string">npm</span> <span class="hljs-string">install</span>
<span class="hljs-attr">      - run:</span> <span class="hljs-string">npm</span> <span class="hljs-string">run</span> <span class="hljs-string">build</span>
<span class="hljs-attr">      - run:</span> <span class="hljs-string">npm</span> <span class="hljs-string">run</span> <span class="hljs-string">lint</span>
</code></pre>
<p>This instructs CircleCI how to <strong>build and lint the project</strong>.</p>
</div></section><section class="slide num numD" data-pos="4-4-10">
<span class="pos">4-4-10</span>
<div class="slidecontent">
<p>Time to <strong>try this out</strong>! Do a regular <strong>add, commit and push</strong> of your new config file.</p>
</div></section><section class="slide" data-pos="4-4-11">
<span class="pos">4-4-11</span>
<div class="slidecontent"><p>Now go back to the <strong>CircleCI dashboard</strong> in the browser and <strong>click <code>Builds</code></strong> in the top left corner. You&#39;ll see something like this...</p>
<p><img src="resources/images/circleci-running.png" alt=""></p>
<p>...which will then turn into <strong>this</strong>:</p>
<p><img src="resources/images/circleci-running.png" alt=""></p>
</div></section><section class="slide" data-pos="4-4-12">
<span class="pos">4-4-12</span>
<div class="slidecontent"><p>...except if there was a <strong>problem</strong>. Then you&#39;d instead see red, and clicking that would <strong>show the output log</strong>. You&#39;d also get an <strong>email</strong> saying things went belly-up.</p>
<p>Try this by</p>
<ul>
<li>making a small lint violation in your LESS file</li>
<li>adding, committing and pushing the error</li>
</ul>
</div></section><section class="slide" data-pos="4-4-13">
<span class="pos">4-4-13</span>
<div class="slidecontent"><div class="checklist"></div>

<p>You are done when...</p>
<ul>
<li>CircleCI tries to build and lint your app on every push</li>
<li>You are notified via mail when it fails</li>
</ul>
</div></section><section class="slide" data-pos="4-4-14">
<span class="pos">4-4-14</span>
<div class="slidecontent"><div class="solution"></div>

<p>If you get stuck, see the <a href="https://github.com/krawaller/js-app-solutions/tree/master/circleci">CircleCI</a> solution.</p>
</div></section>
</section>
<section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>4-5.</span> Pull requests</h3>
      <p>Or: why programming is AWESOME</p>
</p>
    </div>
  </section>
  <section class="slide" data-pos="4-5-1">
<span class="pos">4-5-1</span>
<div class="slidecontent"><div class="learn"></div>

<p>Employing <strong>continuous integration</strong> for pull requests</p>
</div></section><section class="slide" data-pos="4-5-2">
<span class="pos">4-5-2</span>
<div class="slidecontent"><p>Getting an <strong>email</strong> whenever someone <strong>pushes faulty code</strong> is useful.</p>
<p>But, ideally, we&#39;d want to <strong>prevent that from happening at all</strong>. Fortunately this is rather easy to do, since we can <strong>disallow merging of pull requests with errors</strong>!</p>
</div></section><section class="slide" data-pos="4-5-3">
<span class="pos">4-5-3</span>
<div class="slidecontent"><p>Here&#39;s the <strong>normal flow when we work</strong>:</p>
<ul>
<li>team member has <strong>repo cloned on local machine</strong></li>
<li>she creates a <strong>new branch</strong> whenever she starts a new feature</li>
<li>she <strong>implements the feature in that branch</strong></li>
<li>when done she&#39;ll <strong>open a pull request</strong> from that branch to master</li>
<li>others will <strong>look through the code</strong> (&quot;code review&quot;)</li>
<li>when enough ppl have agreed the branch is <strong>merged</strong></li>
</ul>
</div></section><section class="slide" data-pos="4-5-4">
<span class="pos">4-5-4</span>
<div class="slidecontent"><p>Hooking up <strong>continuous integration into the Pull Request flow</strong> simply means that we want Github to <strong>prevent merging unless CircleCI says all is ok</strong>!</p>
</div></section><section class="slide" data-pos="4-5-5">
<span class="pos">4-5-5</span>
<div class="slidecontent"><p>This will purely be a <strong>configuration on Github</strong>. Github provides a plethora of integration possibilities, and listening to CircleCI + friends is just one of them.</p>
</div></section>
</section>
<section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>4-6.</span> Exercise - Run CircleCI on PR:s</h3>
      
    </div>
  </section>
  <section class="slide" data-pos="4-6-1">
<span class="pos">4-6-1</span>
<div class="slidecontent"><div class="goal"></div>

<p>Goal: Prevent breaking PR:s</p>
</div></section><section class="slide list" data-pos="4-6-2">
<span class="pos">4-6-2</span>
<div class="slidecontent">
<p>Here&#39;s the plan:</p>
<ul>
<li><span>a</span>set up your master branch to be protected</li>
<li><span>b</span>make a PR to someone else</li>
<li><span>c</span>have someone else make a PR to you</li>
</ul>
</div></section><section class="slide num numA" data-pos="4-6-3">
<span class="pos">4-6-3</span>
<div class="slidecontent">
<p>First off, head over to <strong>your repo Github</strong> to start setting it up!</p>
<p>Go to the <strong>settings tab</strong> to the far right.</p>
<p><img src="resources/images/github-repo-settings.png" alt=""></p>
</div></section><section class="slide" data-pos="4-6-4">
<span class="pos">4-6-4</span>
<div class="slidecontent"><p>Once there choose <strong>Branches</strong> and <strong>select <code>master</code> as the protected branch</strong>:</p>
<p><img src="resources/images/github-settings-branches.png" alt=""></p>
</div></section><section class="slide" data-pos="4-6-5">
<span class="pos">4-6-5</span>
<div class="slidecontent"><p><strong>Tick the boxes</strong> like this...</p>
<p><img src="resources/images/github-protection.png" alt=""></p>
<p>...and hit <strong><code>Save changes</code></strong> at the bottom.</p>
</div></section><section class="slide" data-pos="4-6-6">
<span class="pos">4-6-6</span>
<div class="slidecontent"><p>That&#39;s it - now <strong>CircleCI will run on every pull request</strong>!</p>
</div></section><section class="slide num numB" data-pos="4-6-7">
<span class="pos">4-6-7</span>
<div class="slidecontent">
<p>Time to <strong>test the protection of a friend</strong>!</p>
<p>Go <strong>find a classmate</strong> who has completed the previous step.</p>
</div></section><section class="slide" data-pos="4-6-8">
<span class="pos">4-6-8</span>
<div class="slidecontent"><p>Navigate to <strong>their repo on Github</strong>, click <strong><code>Clone or download</code></strong> and then the <strong>Copy to clipboard</strong> button!</p>
<p><img src="resources/images/github-clone.png" alt=""></p>
</div></section><section class="slide" data-pos="4-6-9">
<span class="pos">4-6-9</span>
<div class="slidecontent"><p>In your terminal, navigate somewhere were you can put new projects and type:</p>
<pre><code class="lang-bash">git <span class="hljs-built_in">clone</span> &lt;paste-to-get-url-here&gt;
</code></pre>
<p>You paste the address by <strong>right-clicking in the terminal and selecting <code>paste</code></strong>.</p>
</div></section><section class="slide" data-pos="4-6-10">
<span class="pos">4-6-10</span>
<div class="slidecontent"><p>Now <strong>navigate into the new project</strong>. The folder has the same name as the repo you cloned.</p>
<pre><code class="lang-bash"><span class="hljs-built_in">cd</span> myfriendsreviewsite
</code></pre>
<p>Once inside, <strong>create a new branch</strong>.</p>
<pre><code>git checkout -<span class="hljs-selector-tag">b</span> somenewbranchname
</code></pre></div></section><section class="slide" data-pos="4-6-11">
<span class="pos">4-6-11</span>
<div class="slidecontent"><p><strong>Open the folder in VSC</strong>, and make a <strong>bad change to a file somewhere</strong> so that the linter protests of the build won&#39;t work.</p>
<p>Then do:</p>
<pre><code class="lang-bash">git add .
git commit -m <span class="hljs-string">"awesome change"</span>
git push -u origin somenewbranchname
</code></pre>
</div></section><section class="slide" data-pos="4-6-12">
<span class="pos">4-6-12</span>
<div class="slidecontent"><p>Now go <strong>back to their repo on Github</strong>. Github will see your new branch and <strong>show a convenient <code>Compare &amp; pull request button</code></strong>. Hit that!</p>
<p><img src="resources/images/github-prbutton.png" alt=""></p>
</div></section><section class="slide" data-pos="4-6-13">
<span class="pos">4-6-13</span>
<div class="slidecontent"><p>On the next screen add a <strong>message explaining what you&#39;ve done</strong> and hit <strong><code>Create pull request</code></strong>!</p>
<p><img src="resources/images/github-makepr.png" alt=""></p>
</div></section><section class="slide" data-pos="4-6-14">
<span class="pos">4-6-14</span>
<div class="slidecontent"><p>Inside the PR you&#39;ll <strong>see the CircleCI tests running</strong>, and eventually <strong>show an error</strong>.</p>
<p>On your friend&#39;s machine the <strong>merge button will be shown in red</strong>.</p>
<p>Now <strong>fix the code</strong> and push a new commit. Watch the <strong>PR update</strong> and the <strong>merge button go green</strong>!</p>
</div></section><section class="slide num numC" data-pos="4-6-15">
<span class="pos">4-6-15</span>
<div class="slidecontent">
<p>Having done all that, <strong>make someone do the same to you</strong> to make sure that your branch is protected too!</p>
</div></section><section class="slide" data-pos="4-6-16">
<span class="pos">4-6-16</span>
<div class="slidecontent"><div class="checklist"></div>

<p>You are done when...</p>
<ul>
<li>a breaking PR cannot be merged to your repo</li>
<li>someone has successfully merged a PR to your project</li>
<li>you have a PR merged to someone else&#39;s repo</li>
</ul>
</div></section>
</section>
<section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>4-7.</span> Netlify</h3>
      
    </div>
  </section>
  <section class="slide" data-pos="4-7-1">
<span class="pos">4-7-1</span>
<div class="slidecontent"><div class="learn"></div>

<p>Learn about <strong>hosting services</strong></p>
</div></section><section class="slide" data-pos="4-7-2">
<span class="pos">4-7-2</span>
<div class="slidecontent"><p>Meet your new best friend!</p>
<p><img src="resources/images/netlify.jpg" alt=""></p>
</div></section><section class="slide" data-pos="4-7-3">
<span class="pos">4-7-3</span>
<div class="slidecontent"><p><a href="https://www.netlify.com/">Netlify</a> is a <strong>hosting service</strong>. The tagline:</p>
<blockquote>
<p>Write frontend code. Push it. We handle the rest.</p>
</blockquote>
</div></section><section class="slide" data-pos="4-7-4">
<span class="pos">4-7-4</span>
<div class="slidecontent"><p>It&#39;s not just a pure hosting service though - the beautiful thing is that it...</p>
<ul>
<li><strong>integrates with Github</strong></li>
<li>can <strong>publish a subdirectory</strong></li>
<li>knows Node and can <strong>run build scripts</strong></li>
</ul>
<p>...which all seems like an <strong>excellent fit</strong> for our setup!</p>
</div></section><section class="slide" data-pos="4-7-5">
<span class="pos">4-7-5</span>
<div class="slidecontent"><p>And we&#39;ll go fix it right now, with step-by-step instructions in the exercise!</p>
</div></section>
</section>
<section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>4-8.</span> Exercise - Netlify</h3>
      
    </div>
  </section>
  <section class="slide" data-pos="4-8-1">
<span class="pos">4-8-1</span>
<div class="slidecontent"><div class="goal"></div>

<p>Goal: Autopublish our app online</p>
</div></section><section class="slide list" data-pos="4-8-2">
<span class="pos">4-8-2</span>
<div class="slidecontent">
<ul>
<li><span>a</span>sign up on Netlify</li>
<li><span>b</span>connect your repo</li>
<li><span>c</span>configure the build</li>
<li><span>d</span>configure the site</li>
</ul>
</div></section><section class="slide num numA" data-pos="4-8-3">
<span class="pos">4-8-3</span>
<div class="slidecontent">
<p>Go to <a href="https://app.netlify.com/signup">https://app.netlify.com/signup</a>, and choose to sign up with your <strong>Github credentials</strong>.</p>
<p>This will allow Netlify to connect to your repos.</p>
</div></section><section class="slide num numB" data-pos="4-8-4">
<span class="pos">4-8-4</span>
<div class="slidecontent">
<p>Once logged in, click <strong>New site from Git</strong>:</p>
<p><img src="resources/images/newnetlify.png" alt=""></p>
</div></section><section class="slide" data-pos="4-8-5">
<span class="pos">4-8-5</span>
<div class="slidecontent"><p>On the next screen, select <strong>Github</strong>:</p>
<p><img src="resources/images/newnetlifygithub.png" alt=""></p>
</div></section><section class="slide" data-pos="4-8-6">
<span class="pos">4-8-6</span>
<div class="slidecontent"><p>Next you&#39;ll have to <strong>find the correct repo</strong> among a list of all your repos. If you have many, use the search field to the right.</p>
<p><img src="resources/images/newnetlifyfindrepo.png" alt=""></p>
<p>Once you find it, click it!</p>
</div></section><section class="slide num numC" data-pos="4-8-7">
<span class="pos">4-8-7</span>
<div class="slidecontent">
<p>We must now tell Netlify <strong>which folder to publish</strong> and <strong>what command to run</strong>:</p>
<p><img src="resources/images/newnetlifyconfig.png" alt=""></p>
<p>We can also specify a <strong>branch</strong> and <strong>advanced options</strong>, but we won&#39;t need either.</p>
</div></section><section class="slide num numD" data-pos="4-8-8">
<span class="pos">4-8-8</span>
<div class="slidecontent">
<p>Your new app will get a <strong>random name</strong> - let&#39;s fix that! Go to the <strong>Settings tab</strong>:</p>
<p><img src="resources/images/newnetlifysettings.png" alt=""></p>
</div></section><section class="slide" data-pos="4-8-9">
<span class="pos">4-8-9</span>
<div class="slidecontent"><p>On that screen, in the <strong>Site information</strong> section, hit <strong>Change site name</strong>:</p>
<p><img src="resources/images/newnetlifynewname.png" alt=""></p>
</div></section><section class="slide" data-pos="4-8-10">
<span class="pos">4-8-10</span>
<div class="slidecontent"><p>Now for the magic - if you change your site name to <code>myawesomereviewsite</code>, then...</p>
<ul>
<li>your site is visitable at <strong><code>http://myawesomereviewsite.netlify.com</code></strong></li>
<li>it <strong>updates whenever you push to Github</strong>!</li>
</ul>
<p>But, since I&#39;ve already used <code>myawesomereviewsite</code>, you&#39;ll have to pick something else! :)</p>
</div></section><section class="slide" data-pos="4-8-11">
<span class="pos">4-8-11</span>
<div class="slidecontent"><div class="checklist"></div>

<p>You are done when...</p>
<ul>
<li>The app is visitable online</li>
<li>Pushing to <code>master</code> updates the app</li>
</ul>
</div></section>
</section>

  </div>
  
</div>
<div class="chaptercontainer">
  <div class="chapterstart">
    <span>chapter 5 / 6</span>
    <h2>The next level</h2>
    <p>Upping the ante</p>
</p>
  </div>
  
  <div class="chaptersectionlist">
  <h3>Sections in this chapter:</h3>
  <ul>
    <li>1. TypeScript</li>
<li>2. Exercise - Converting to TypeScript</li>
<li>3. Exercise - Using TypeScript</li>
<li>4. Intro to AngularJS</li>
<li>5. Exercise - installing AngularJS</li>
<li>6. More AngularJS</li>
<li>7. Exercise - AngularJS Controller</li>
<li>8. Controller variant</li>
<li>9. Exercise - Controller, take 2</li>
<li>10. What comes next?</li>
<li>11. Exercise - Exploring AngularJS Component</li>
  </ul>
</div>

  <div class="chaptersections">
    <section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>5-1.</span> TypeScript</h3>
      <p>Fooling the devil</p>
</p>
    </div>
  </section>
  <section class="slide" data-pos="5-1-1">
<span class="pos">5-1-1</span>
<div class="slidecontent"><div class="learn"></div>

<p>Learn about <strong>TypeScript</strong></p>
</div></section><section class="slide" data-pos="5-1-2">
<span class="pos">5-1-2</span>
<div class="slidecontent"><p>So - </p>
<p><img src="resources/images/typescript.svg" alt=""></p>
</div></section><section class="slide" data-pos="5-1-3">
<span class="pos">5-1-3</span>
<div class="slidecontent"><p>The <strong>catchphrase</strong> for <a href="https://www.typescriptlang.org/">TypeScript</a> is...</p>
<blockquote>
<p>JavaScript that scales</p>
</blockquote>
<p>...and that&#39;s a pretty good description! TypeScript is regular JavaScript (ES6, to be more precise), but with some <strong>useful tools added on top</strong>. In mathetical terms this means a <strong>superset of JavaScript</strong>.</p>
</div></section><section class="slide" data-pos="5-1-4">
<span class="pos">5-1-4</span>
<div class="slidecontent"><p>The browsers can&#39;t understand TypeScript, however, so we must <strong>compile</strong> it before we serve it:</p>
<p><img src="resources/diagrams/ts-compile.svg" alt=""></p>
<p>Conceptually the <strong>same as we did for LESS</strong>!</p>
</div></section><section class="slide" data-pos="5-1-5">
<span class="pos">5-1-5</span>
<div class="slidecontent"><p>So <strong>what does TypeScript add</strong>? Many things!</p>
<p>Most importantly <strong>types</strong>, as the name suggests.</p>
</div></section><section class="slide" data-pos="5-1-6">
<span class="pos">5-1-6</span>
<div class="slidecontent"><p>We can <strong>add type annotations to variables, parameters and functions</strong>:</p>
<pre><code class="lang-typescript"><span class="hljs-keyword">let</span> name: <span class="hljs-built_in">string</span> = <span class="hljs-string">'foo'</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isAllowedInToTheBar</span>(<span class="hljs-params">age: <span class="hljs-built_in">number</span></span>): <span class="hljs-title">boolean</span> </span>{
  <span class="hljs-keyword">return</span> age &gt;= <span class="hljs-number">18</span>;
}
</code></pre>
<p>Now, if some other code <strong>violates these annotations</strong>, TypeScript would <strong>flag this as a problem</strong>. (During compilation, or even earlier, if your editor is TypeScript-aware.)</p>
</div></section><section class="slide" data-pos="5-1-7">
<span class="pos">5-1-7</span>
<div class="slidecontent"><p>However, the <strong>real power of TypeScript</strong> is that it does <strong>static analysis</strong> of your code. So if we later typed this...</p>
<pre><code class="lang-typescript"><span class="hljs-keyword">let</span> willHaveFunTonight = isAllowedInToTheBar(<span class="hljs-number">16</span>);
</code></pre>
<p>...and hovered above <code>willHaveFunTonight</code>, a TypeScript-aware editor would <strong>tell you that this is a boolean</strong>!</p>
</div></section><section class="slide" data-pos="5-1-8">
<span class="pos">5-1-8</span>
<div class="slidecontent"><p>In other words, <strong>this example code</strong>...</p>
<pre><code class="lang-typescript"><span class="hljs-keyword">let</span> name: <span class="hljs-built_in">string</span> = <span class="hljs-string">'foo'</span>;
</code></pre>
<p>...was <strong>unnecessarily complex</strong>, as <strong>this would be enough</strong>:</p>
<pre><code class="lang-typescript"><span class="hljs-keyword">let</span> name = <span class="hljs-string">'foo'</span>;
</code></pre>
<p>TypeScript <strong>sees from the assignment that <code>name</code> is a string</strong>, and will treat it as such.</p>
</div></section><section class="slide" data-pos="5-1-9">
<span class="pos">5-1-9</span>
<div class="slidecontent"><p>In other words - simply by activating TypeScript we <strong>get a lot of power</strong>, even if we <strong>don&#39;t use any type annotations</strong>!</p>
</div></section><section class="slide" data-pos="5-1-10">
<span class="pos">5-1-10</span>
<div class="slidecontent"><p>Perhaps the most powerful part of TypeScript is that it allows us to <strong>create types for object shapes</strong>:</p>
<pre><code class="lang-typescript"><span class="hljs-keyword">type</span> User {
  name: <span class="hljs-built_in">string</span>,
  age: <span class="hljs-built_in">number</span>
}
</code></pre>
</div></section><section class="slide" data-pos="5-1-11">
<span class="pos">5-1-11</span>
<div class="slidecontent"><p>Now we can <strong>type our objects</strong>...</p>
<pre><code class="lang-typescript"><span class="hljs-keyword">let</span> me: User = { name: <span class="hljs-string">"David"</span>, age: <span class="hljs-number">37</span> };
</code></pre>
<p>...and <strong>TypeScript will ensure compliance</strong>:</p>
<pre><code class="lang-typescript"><span class="hljs-keyword">let</span> you: User = { name: <span class="hljs-string">"Bob"</span> }; <span class="hljs-comment">// angry red squiggly line since we're missing age</span>
</code></pre>
</div></section><section class="slide" data-pos="5-1-12">
<span class="pos">5-1-12</span>
<div class="slidecontent"><p>Note that <strong>types are purely a development artifact</strong>, there&#39;ll be <strong>no trace of them in the generated JS code</strong>.</p>
<p>Which means there&#39;s <strong>no performance or bloat penalty</strong> to using them, but we gain in <strong>code clarity</strong> and <strong>bug prevention</strong>!</p>
</div></section><section class="slide" data-pos="5-1-13">
<span class="pos">5-1-13</span>
<div class="slidecontent"><p>There is a lot more to say about TypeScript. In fact, we have a <a href="https://edument.se/education/categories/webdevelopment/typescript">whole course just about TypeScript</a>!</p>
</div></section>
</section>
<section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>5-2.</span> Exercise - Converting to TypeScript</h3>
      
    </div>
  </section>
  <section class="slide" data-pos="5-2-1">
<span class="pos">5-2-1</span>
<div class="slidecontent"><div class="goal"></div>

<p>Goal: Install TypeScript</p>
</div></section><section class="slide list" data-pos="5-2-2">
<span class="pos">5-2-2</span>
<div class="slidecontent">
<p>Specifically, we will:</p>
<ul>
<li><span>a</span>Get dependencies</li>
<li><span>b</span>TypeScriptify code files</li>
<li><span>c</span>Configure TypeScript</li>
<li><span>d</span>Make Webpack use typescript</li>
<li><span>e</span>Fix a TS linter</li>
</ul>
</div></section><section class="slide num numA" data-pos="5-2-3">
<span class="pos">5-2-3</span>
<div class="slidecontent">
<p>First we need to <strong>install</strong>..</p>
<ul>
<li><strong>TypeScript</strong>, which includes the compiler</li>
<li><strong>TS-loader</strong>, which is what allows webpack to read the typescript files and turn them into regular JavaScript</li>
</ul>
<pre><code class="lang-bash">npm install --save-dev typescript ts-loader
</code></pre>
</div></section><section class="slide num numB" data-pos="5-2-4">
<span class="pos">5-2-4</span>
<div class="slidecontent">
<p>Now we need to <strong>turn our files into typescript files</strong>!</p>
<p>First, simply <strong>rename them to <code>.ts</code></strong>!</p>
<p><img src="resources/images/tsfiles.png" alt=""></p>
</div></section><section class="slide" data-pos="5-2-5">
<span class="pos">5-2-5</span>
<div class="slidecontent"><p>We also have to use <strong><code>import</code>/<code>export</code> syntax</strong>.</p>
<p>In <strong><code>data.ts</code></strong>, instead of doing <code>module.exports</code>, do:</p>
<pre><code class="lang-typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> movieData = {
 <span class="hljs-comment">// truncated</span>
};
</code></pre>
</div></section><section class="slide" data-pos="5-2-6">
<span class="pos">5-2-6</span>
<div class="slidecontent"><p>And in <strong><code>code.ts</code></strong> we exchange the <code>require</code> bits to:</p>
<pre><code class="lang-typescript"><span class="hljs-keyword">import</span> {movieData} <span class="hljs-keyword">from</span> <span class="hljs-string">"./data"</span>;
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> $ <span class="hljs-keyword">from</span> <span class="hljs-string">"jquery"</span>;
</code></pre>
<p>For those of you who already used the <code>import/export</code> syntax - note how we <strong>must do <code>import * as $</code></strong> for jQuery instead of just <strong> <code>import $</code></strong>.</p>
</div></section><section class="slide num numC" data-pos="5-2-7">
<span class="pos">5-2-7</span>
<div class="slidecontent">
<p>Next we need to <strong>configure TypeScript</strong>. Create a new file with the magical name <strong><code>tsconfig.json</code></strong>:</p>
<p><img src="resources/images/tsconfigfile.png" alt=""></p>
</div></section><section class="slide" data-pos="5-2-8">
<span class="pos">5-2-8</span>
<div class="slidecontent"><p>In that file put <strong>this content</strong>:</p>
<pre><code class="lang-json">{
  <span class="hljs-attr">"compilerOptions"</span>: {
    <span class="hljs-attr">"sourceMap"</span>: <span class="hljs-literal">true</span>
  }
}
</code></pre>
</div></section><section class="slide" data-pos="5-2-9">
<span class="pos">5-2-9</span>
<div class="slidecontent"><p>There are of course <strong>a lot more options</strong> that can go into here, but this will suffice for now!</p>
</div></section><section class="slide num numD" data-pos="5-2-10">
<span class="pos">5-2-10</span>
<div class="slidecontent">
<p>Time to <strong>make WebPack aware of TypeScript</strong> by doing some <strong>changes to <code>webpack.config.js</code></strong>!</p>
<p>First we need to <strong>change the <code>entry</code></strong> from <code>code.js</code> to <code>code.ts</code> since we renamed the file:</p>
<pre><code class="lang-javascript">  entry: <span class="hljs-string">'./code.ts'</span>,
</code></pre>
</div></section><section class="slide" data-pos="5-2-11">
<span class="pos">5-2-11</span>
<div class="slidecontent"><p>Next we must tell WebPack to <strong>care about <code>.ts</code> files</strong>, otherwise it&#39;ll just ignore them! This is done with a <strong><code>resolve</code></strong> key, like this:</p>
<pre><code class="lang-javascript">  resolve: {
    <span class="hljs-attr">extensions</span>: [<span class="hljs-string">'.ts'</span>, <span class="hljs-string">'.js'</span>]
  }
</code></pre>
</div></section><section class="slide" data-pos="5-2-12">
<span class="pos">5-2-12</span>
<div class="slidecontent"><p>Finally, below <code>resolve</code>, we must tell it to <strong>use TypeScript to read those files</strong>:</p>
<pre><code class="lang-javascript">  <span class="hljs-built_in">module</span>: {
    <span class="hljs-attr">rules</span>: [
      <span class="hljs-comment">// all files with a `.ts` extension will be handled by `ts-loader`</span>
      { <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.ts$/</span>, <span class="hljs-attr">loader</span>: <span class="hljs-string">'ts-loader'</span> }
    ]
  },
</code></pre>
</div></section><section class="slide" data-pos="5-2-13">
<span class="pos">5-2-13</span>
<div class="slidecontent"><p>After all this, you should be able to do...</p>
<pre><code>npm <span class="hljs-keyword">run</span><span class="bash"> bundle</span>
</code></pre><p>...and it should still work like before!</p>
</div></section><section class="slide num numE" data-pos="5-2-14">
<span class="pos">5-2-14</span>
<div class="slidecontent">
<p>Final item on the agenda - we must <strong>fix the code linting</strong>!</p>
<p>ESLint doesn&#39;t understand TS, so, start by <strong>removing it</strong>! That is,</p>
<ul>
<li><strong>delete <code>.eslintrc</code></strong></li>
<li><strong>delete <code>.eslintignore</code></strong></li>
<li><strong>remove it from dependency in package.json</strong></li>
</ul>
</div></section><section class="slide" data-pos="5-2-15">
<span class="pos">5-2-15</span>
<div class="slidecontent"><p>Instead we&#39;ll be using <a href="https://palantir.github.io/tslint/">TSLint</a>! So go do:</p>
<pre><code>npm install --<span class="hljs-built_in">save</span>-<span class="hljs-built_in">dev</span> tslint
</code></pre></div></section><section class="slide" data-pos="5-2-16">
<span class="pos">5-2-16</span>
<div class="slidecontent"><p>Now <strong>create a file called <code>tslint.json</code></strong> and paste in the following:</p>
<pre><code>{
    <span class="hljs-attr">"defaultSeverity"</span>: <span class="hljs-string">"error"</span>,
    <span class="hljs-attr">"extends"</span>: [
        <span class="hljs-string">"tslint:recommended"</span>
    ],
    <span class="hljs-attr">"jsRules"</span>: {},
    <span class="hljs-attr">"rules"</span>: {},
    <span class="hljs-attr">"rulesDirectory"</span>: []
}
</code></pre><p>The <strong><code>&quot;extends&quot; : [&quot;tslint:recommended&quot;]</code></strong> part will give us a whole bunch of sane <strong>defaults</strong>. Remove it if it annoys you. :)</p>
</div></section><section class="slide" data-pos="5-2-17">
<span class="pos">5-2-17</span>
<div class="slidecontent"><p>Of course we should <strong>add a few rules of our own choosing too</strong>!</p>
<ul>
<li>See the full list at <a href="https://palantir.github.io/tslint/rules/">https://palantir.github.io/tslint/rules/</a></li>
<li>Pick a few that you like</li>
<li>Add them to the <code>tslint.json</code> file in the <code>rules</code> section</li>
</ul>
</div></section><section class="slide" data-pos="5-2-18">
<span class="pos">5-2-18</span>
<div class="slidecontent"><p>And as before we must <strong>make VSC aware</strong> of our linter! Find the <strong><code>TSLint</code> extension</strong> in the marketplace tab:</p>
<p><img src="resources/images/vsc-tslint.png" alt=""></p>
<p>After reloading the VSC window you should now get linting in your ts files!</p>
</div></section><section class="slide" data-pos="5-2-19">
<span class="pos">5-2-19</span>
<div class="slidecontent"><p>Final order of linting business - we must <strong>replace the <code>lintjs</code> script</strong> with something using TSLint instead!</p>
<pre><code>   <span class="hljs-string">"lintts"</span>: <span class="hljs-string">"tslint -c tslint.json '*.ts'"</span>
</code></pre><p>If you have deep folders you might need <code>tslint -c tslint.json &#39;**/*.ts&#39;</code> instead.</p>
</div></section><section class="slide" data-pos="5-2-20">
<span class="pos">5-2-20</span>
<div class="slidecontent"><p>Final final order of linting business -  don&#39;t forget to update <code>.circleci/config.yml</code> to use this new command!</p>
</div></section><section class="slide question" data-pos="5-2-21">
<span class="pos">5-2-21</span>
<div class="slidecontent">
<p>So, after all this - <strong>what did we actually gain</strong>?</p>
</div></section><section class="slide answer" data-pos="5-2-22">
<span class="pos">5-2-22</span>
<div class="slidecontent">
<p>So far - <strong>nothing</strong>!</p>
<p>But now that TypeScript is in place, we can <strong>reap the rewards</strong> in the <strong>next exercise</strong>!</p>
</div></section><section class="slide" data-pos="5-2-24">
<span class="pos">5-2-24</span>
<div class="slidecontent"><div class="checklist"></div>

<p>You are done when...</p>
<ul>
<li>The files are <code>.ts</code> files</li>
<li>Running <code>npm run bundle</code> generates a bundle like before</li>
<li>The app hasn&#39;t changed at all, it still runs</li>
</ul>
</div></section><section class="slide" data-pos="5-2-25">
<span class="pos">5-2-25</span>
<div class="slidecontent"><div class="solution"></div>

<p>If you get stuck, see the <a href="https://github.com/krawaller/js-app-solutions/tree/master/typescript_start">TypeScript Start</a> solution.</p>
</div></section>
</section>
<section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>5-3.</span> Exercise - Using TypeScript</h3>
      <p>Reaping the rewards</p>
</p>
    </div>
  </section>
  <section class="slide" data-pos="5-3-1">
<span class="pos">5-3-1</span>
<div class="slidecontent"><div class="goal"></div>

<p>Goal: Employ TypeScript power in our code</p>
</div></section><section class="slide list" data-pos="5-3-2">
<span class="pos">5-3-2</span>
<div class="slidecontent">
<p>Here&#39;s the plan:</p>
<ul>
<li><span>a</span>Utilize ES6 syntax</li>
<li><span>b</span>Add a type for our review data</li>
<li><span>c</span>Get type help for jQuery</li>
</ul>
</div></section><section class="slide num numA" data-pos="5-3-3">
<span class="pos">5-3-3</span>
<div class="slidecontent">
<p>Since <strong>TypeScript contains the ES6 syntax</strong>, perhaps we could use some other neat ES6 feature? For instance, use an <strong>arrow function</strong> as event handler!</p>
<pre><code class="lang-typescript">ui.rating.on(<span class="hljs-string">"click"</span>, <span class="hljs-string">"span"</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  <span class="hljs-comment">// truncated</span>
});
</code></pre>
<p>For <strong>more tips on ES6 stuff</strong>, see the <strong>ES6 appendix</strong>!</p>
</div></section><section class="slide num numB" data-pos="5-3-4">
<span class="pos">5-3-4</span>
<div class="slidecontent">
<p>We have one <strong>implicit class</strong> in our app right now - the <strong>review data</strong>!</p>
<p>That has a certain shape, but inside the code we get <strong>no help enforcing the correctness</strong> of our usage.</p>
<p>Let&#39;s fix that!</p>
</div></section><section class="slide" data-pos="5-3-5">
<span class="pos">5-3-5</span>
<div class="slidecontent"><p>I like to add such stuff in a separate <strong><code>interfaces.ts</code></strong> file:</p>
<p><img src="resources/images/interfacesfile.png" alt=""></p>
</div></section><section class="slide" data-pos="5-3-6">
<span class="pos">5-3-6</span>
<div class="slidecontent"><p>Inside that file we&#39;ll <strong>create an object type</strong> and export it. Here&#39;s the one for my review data:</p>
<pre><code class="lang-typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> Review = {
  title: <span class="hljs-built_in">string</span>
  imgUrl: <span class="hljs-built_in">string</span>
  review: <span class="hljs-built_in">string</span>
  actors: <span class="hljs-built_in">string</span>[]
}
</code></pre>
<p>Add one that matches your data!</p>
</div></section><section class="slide" data-pos="5-3-7">
<span class="pos">5-3-7</span>
<div class="slidecontent"><p>Then we should <strong>use that type in <code>data.ts</code></strong>!</p>
<pre><code class="lang-typescript"><span class="hljs-keyword">import</span> { Review } <span class="hljs-keyword">from</span> <span class="hljs-string">"./interfaces"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> movieData: Review = {
  <span class="hljs-comment">// truncated</span>
};
</code></pre>
</div></section><section class="slide" data-pos="5-3-8">
<span class="pos">5-3-8</span>
<div class="slidecontent"><p>...and also in <strong><code>code.ts</code></strong> to <strong>type the <code>renderMovie</code> parameter</strong>:</p>
<pre><code><span class="hljs-keyword">import</span> { Review } <span class="hljs-keyword">from</span> <span class="hljs-string">"./interfaces"</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">renderMovie</span>(<span class="hljs-params">data: Review</span>)</span>{
  <span class="hljs-comment">// truncated</span>
}
</code></pre></div></section><section class="slide" data-pos="5-3-9">
<span class="pos">5-3-9</span>
<div class="slidecontent"><p>Because, having done that we get <strong>full intellisense</strong> for our custom data:</p>
<p><img src="resources/images/intellisense.png" alt=""></p>
</div></section><section class="slide num numC" data-pos="5-3-10">
<span class="pos">5-3-10</span>
<div class="slidecontent">
<p>TypeScript can also help us with <strong>intellisense for 3rd party code</strong>. Let&#39;s fix that for <strong><code>jQuery</code></strong>!</p>
<p>Simply <strong>install the official typings for jQuery</strong>...</p>
<pre><code><span class="hljs-built_in">npm</span> install --save-dev @types/jquery
</code></pre></div></section><section class="slide" data-pos="5-3-11">
<span class="pos">5-3-11</span>
<div class="slidecontent"><p>...and <strong>register them in <code>tsconfig.json</code></strong>:</p>
<pre><code class="lang-json">{
  <span class="hljs-attr">"compilerOptions"</span>: {
    <span class="hljs-attr">"sourceMap"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">"types"</span>: [
      <span class="hljs-string">"jquery"</span>
    ]
  }
}
</code></pre>
</div></section><section class="slide" data-pos="5-3-12">
<span class="pos">5-3-12</span>
<div class="slidecontent"><p>Having done that we get <strong>full intellisense for jQuery</strong> too!</p>
<p><img src="resources/images/intellisensejquery.png" alt=""></p>
</div></section><section class="slide" data-pos="5-3-13">
<span class="pos">5-3-13</span>
<div class="slidecontent"><div class="checklist"></div>

<p>You are done when...</p>
<ul>
<li>You&#39;re using some <strong>ES6 feature</strong></li>
<li>You get <strong>intellisense for movie review</strong> data</li>
<li>You get <strong>intellisense for jQuery</strong></li>
</ul>
</div></section><section class="slide" data-pos="5-3-14">
<span class="pos">5-3-14</span>
<div class="slidecontent"><div class="solution"></div>

<p>If you get stuck, see the <a href="https://github.com/krawaller/js-app-solutions/tree/master/typescript_next">TypeScript Next</a> solution.</p>
</div></section>
</section>
<section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>5-4.</span> Intro to AngularJS</h3>
      <p>Your first JS framework!</p>
</p>
    </div>
  </section>
  <section class="slide" data-pos="5-4-1">
<span class="pos">5-4-1</span>
<div class="slidecontent"><div class="learn"></div>

<p>Learn about <strong>AngularJS</strong></p>
</div></section><section class="slide" data-pos="5-4-2">
<span class="pos">5-4-2</span>
<div class="slidecontent"><p>So! Time to <strong>get to know AngularJS</strong>, a JavaScript <strong>framework</strong> by Google.</p>
</div></section><section class="slide question" data-pos="5-4-3">
<span class="pos">5-4-3</span>
<div class="slidecontent">
<p><strong>How many JS frameworks</strong> are there?</p>
</div></section><section class="slide answer" data-pos="5-4-4">
<span class="pos">5-4-4</span>
<div class="slidecontent">
<p>Well.</p>
<p><a href="https://dayssincelastjavascriptframework.com/">https://dayssincelastjavascriptframework.com/</a></p>
</div></section><section class="slide question" data-pos="5-4-5">
<span class="pos">5-4-5</span>
<div class="slidecontent">
<p>Speaking of many frameworks - can you <strong>spot the difference</strong> between these two?</p>
<div class="equality">
<img src="resources/images/angular1.png" alt="">
<span></span>
<img src="resources/images/angular2.svg" alt="">
</div></div></section><section class="slide answer" data-pos="5-4-6">
<span class="pos">5-4-6</span>
<div class="slidecontent">
<p>Obviously;</p>
<ul>
<li>The first is the logo for <strong>AngularJS</strong>, the framework we&#39;re talking about</li>
<li>The second represents <strong>Angular</strong>, a spiritual successor to AngularJS but a <strong>completely different framework</strong> (even though it started on version 2.0.0)</li>
</ul>
</div></section><section class="slide" data-pos="5-4-7">
<span class="pos">5-4-7</span>
<div class="slidecontent"><p>Some more comparisons:</p>
<table class="small">
  <thead>
    <tr>
      <th></th><th>Angular v1</th><th>Angular v2+</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Official name</td>
      <td>AngularJS</td>
      <td>Angular</td>
    </tr>
    <tr>
      <td>Homepage</td>
      <td><a href="http://angularjs.org">http://angularjs.org</a></td>
      <td><a href="http://angular.io">http://angular.io</a></td>
    </tr>
    <tr>
      <td>NPM package</td>
      <td><a href="https://www.npmjs.com/package/angular">angular</a></td>
      <td><a href="https://www.npmjs.com/package/@angular/core">@angular</a></td>
    </tr>
    <tr>
      <td>Git repo</td>
      <td><a href="https://github.com/angular/angular.js">angular/angular.js</a></td>
      <td><a href="https://github.com/angular/angular">angular/angular</a></td>
    </tr>
    <tr>
      <td>version (nov 2017)</td>
      <td>1.6.6</td>
      <td>5.0.2</td>
    </tr>
  </tbody>
</table></div></section><section class="slide question" data-pos="5-4-8">
<span class="pos">5-4-8</span>
<div class="slidecontent">
<p>...isn&#39;t this <strong>hugely confusing</strong>?</p>
</div></section><section class="slide answer" data-pos="5-4-9">
<span class="pos">5-4-9</span>
<div class="slidecontent">
<p>Yes. Yes, it is.</p>
</div></section><section class="slide" data-pos="5-4-10">
<span class="pos">5-4-10</span>
<div class="slidecontent"><p>Anyhow! Frameworks. They are all about <strong>providing convenient infrastructure</strong>.</p>
<p>But before we get to how AngularJS does that, let&#39;s talk about <strong>how to get it up and running</strong>!</p>
</div></section><section class="slide" data-pos="5-4-11">
<span class="pos">5-4-11</span>
<div class="slidecontent"><p>We start an AngularJS application by <strong>creating an app module</strong>:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> angular <span class="hljs-keyword">from</span> <span class="hljs-string">"angular"</span>;

<span class="hljs-keyword">let</span> app = angular.module(<span class="hljs-string">"myawesomeapp"</span>, []);
</code></pre>
<p>The empty array at the end is for <strong>module dependencies</strong>, if we had any (3rd party ui components, etc).</p>
</div></section><section class="slide" data-pos="5-4-12">
<span class="pos">5-4-12</span>
<div class="slidecontent"><p>We must then <strong>mark where in the HTML the app should instantiate</strong>. We do this by placing a <code>ng-app</code> &quot;directive&quot; in our HTML, telling AngularJS to <strong>connect that element to our app</strong>.</p>
<p>This is often done on the body:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">ng-app</span>=<span class="hljs-string">"myawesomeapp"</span>&gt;</span>
</code></pre>
</div></section><section class="slide" data-pos="5-4-13">
<span class="pos">5-4-13</span>
<div class="slidecontent"><p>The app itself doesn&#39;t do anything until we <strong>controllers</strong> to it:</p>
<pre><code class="lang-javascript">app.controller(<span class="hljs-string">"myawesomecontroller"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$scope</span>)</span>{
  $scope.message = <span class="hljs-string">"Hello world!"</span>;
});
</code></pre>
<p>Everything we attach to our weird-looking <strong><code>$scope</code></strong> thing will be available for use in the HTML!</p>
</div></section><section class="slide" data-pos="5-4-14">
<span class="pos">5-4-14</span>
<div class="slidecontent"><p>We can then <strong>connect the controller to an element within the app</strong>:</p>
<pre><code>&lt;div <span class="hljs-attribute">ng-controller</span>=<span class="hljs-string">"myawesomecontroller"</span>&gt;
</code></pre><p>And inside of <strong>that</strong>, we can access the values on <strong><code>$scope</code></strong> via <strong>interpolation</strong>:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{{message}}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
</code></pre>
</div></section><section class="slide" data-pos="5-4-15">
<span class="pos">5-4-15</span>
<div class="slidecontent"><p>There is so much more to tell, but what you just saw is the <strong>basic pattern of AngularJS</strong>!</p>
</div></section>
</section>
<section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>5-5.</span> Exercise - installing AngularJS</h3>
      
    </div>
  </section>
  <section class="slide" data-pos="5-5-1">
<span class="pos">5-5-1</span>
<div class="slidecontent"><div class="goal"></div>

<p>Goal: Install AngularJS</p>
</div></section><section class="slide" data-pos="5-5-2">
<span class="pos">5-5-2</span>
<div class="slidecontent"><p>In this exercise we&#39;ll just <strong>install angular</strong> and make sure it&#39;s working.</p>
<p>We&#39;ll <strong>let our existing jQuery logic stay</strong> for now.</p>
</div></section><section class="slide list" data-pos="5-5-3">
<span class="pos">5-5-3</span>
<div class="slidecontent">
<p>Here&#39;s the battle plan:</p>
<ul>
<li><span>a</span>install angular</li>
<li><span>b</span>create minimal app and controller</li>
<li><span>c</span>hook it into HTML</li>
</ul>
</div></section><section class="slide num numA" data-pos="5-5-4">
<span class="pos">5-5-4</span>
<div class="slidecontent">
<p>First we <strong>install and download the package</strong>:</p>
<pre><code class="lang-bash">npm install --save angular
</code></pre>
</div></section><section class="slide" data-pos="5-5-5">
<span class="pos">5-5-5</span>
<div class="slidecontent"><p>We&#39;ll also want to <strong>fix the typings</strong>! First we install them...</p>
<pre><code class="lang-bash">npm install --save-dev @types/angular
</code></pre>
<p>...and then we <strong>register them in <code>tsconfig.json</code></strong>:</p>
<pre><code class="lang-json">{
  <span class="hljs-attr">"compilerOptions"</span>: {
    <span class="hljs-attr">"sourceMap"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">"types"</span>: [
      <span class="hljs-string">"angular"</span>,
      <span class="hljs-string">"jquery"</span>
    ]
  }
}
</code></pre>
</div></section><section class="slide num numB" data-pos="5-5-6">
<span class="pos">5-5-6</span>
<div class="slidecontent">
<p>Next we create a minimal <strong>app</strong> and <strong>controller</strong>. Put this at the top of <code>code.ts</code>:</p>
<pre><code class="lang-typescript"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> angular <span class="hljs-keyword">from</span> <span class="hljs-string">"angular"</span>;

<span class="hljs-keyword">let</span> app = angular.module(<span class="hljs-string">"reviewApp"</span>, []);

app.controller(<span class="hljs-string">"reviewController"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$scope</span>)</span>{
  $scope.message = <span class="hljs-string">"Hello from Angular!"</span>;
});
</code></pre>
</div></section><section class="slide num numC" data-pos="5-5-7">
<span class="pos">5-5-7</span>
<div class="slidecontent">
<p>Finally, let&#39;s hook this up to the HTML in <code>index.html</code>!</p>
<p>First, use <strong><code>ng-app</code></strong> to tell AngularJS to start the app in the <code>body</code>:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">ng-app</span>=<span class="hljs-string">"reviewApp"</span>&gt;</span>
</code></pre>
</div></section><section class="slide" data-pos="5-5-8">
<span class="pos">5-5-8</span>
<div class="slidecontent"><p>Next we <strong>connect the controller</strong> to the container div using <strong><code>ng-controller</code></strong>:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">ng-controller</span>=<span class="hljs-string">"reviewController"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span>
</code></pre>
</div></section><section class="slide" data-pos="5-5-9">
<span class="pos">5-5-9</span>
<div class="slidecontent"><p>Finally, just inside that div, we <strong>interpolate the <code>message</code></strong> from the controller just to make sure things work:</p>
<pre><code class="lang-html">{{message}}
</code></pre>
</div></section><section class="slide" data-pos="5-5-10">
<span class="pos">5-5-10</span>
<div class="slidecontent"><p>If it all works out you should <strong>see the message</strong> in the rendered app!</p>
<p><img src="resources/images/message.png" alt=""></p>
</div></section><section class="slide" data-pos="5-5-11">
<span class="pos">5-5-11</span>
<div class="slidecontent"><div class="checklist"></div>

<p>You are done when...</p>
<ul>
<li>You see the message from AngularJS</li>
<li>Nothing else changed</li>
</ul>
</div></section><section class="slide" data-pos="5-5-12">
<span class="pos">5-5-12</span>
<div class="slidecontent"><div class="solution"></div>

<p>If you get stuck, see the <a href="https://github.com/krawaller/js-app-solutions/tree/master/angular_start">Angular Start</a> solution.</p>
</div></section>
</section>
<section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>5-6.</span> More AngularJS</h3>
      <p>An AngularJS cookbook</p>
</p>
    </div>
  </section>
  <section class="slide" data-pos="5-6-1">
<span class="pos">5-6-1</span>
<div class="slidecontent"><div class="learn"></div>

<p>Learn about the <strong>AngularJS nitty-gritty</strong></p>
</div></section><section class="slide" data-pos="5-6-2">
<span class="pos">5-6-2</span>
<div class="slidecontent"><p>Of course, what we just did didn&#39;t accomplish anything (except for making our bundle 10x bigger).</p>
<p>Time to start <strong>actually using AngularJS</strong>!</p>
</div></section><section class="slide list" data-pos="5-6-3">
<span class="pos">5-6-3</span>
<div class="slidecontent">
<p>Here you&#39;ll get some <strong>useful patterns</strong> that we will emply later!</p>
<ul>
<li><span>a</span>interpolation</li>
<li><span>b</span>rendering lists</li>
<li><span>c</span>conditional class</li>
<li><span>d</span>handling events</li>
<li><span>e</span>dynamic images</li>
<li><span>f</span>hide unhandled templates</li>
</ul>
</div></section><section class="slide num numA" data-pos="5-6-4">
<span class="pos">5-6-4</span>
<div class="slidecontent">
<p>You&#39;ve <strong>already seen this</strong>, but let&#39;s repeat: In the controller we can <strong>attach data to the <code>$scope</code></strong>...</p>
<pre><code class="lang-javascript">app.controller(<span class="hljs-string">"myawesomecontroller"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$scope</span>)</span>{
  $scope.greeting = <span class="hljs-string">"Hello world!"</span>;
});
</code></pre>
<p>...which can then be <strong>accessed in the template</strong>:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">ng-controller</span>=<span class="hljs-string">"myawesomecontroller"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{{greeting}}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
</div></section><section class="slide num numB" data-pos="5-6-5">
<span class="pos">5-6-5</span>
<div class="slidecontent">
<p>AngularJS has an <strong><code>ng-repeat</code></strong> directive to <strong>repeat an HTML element for each item in a list</strong>. Say we expose a list:</p>
<pre><code class="lang-javascript">$scope.chores = [<span class="hljs-string">"make bed"</span>, <span class="hljs-string">"take out trash"</span>, <span class="hljs-string">"do dishes"</span>];
</code></pre>
<p>Then in the HTML we can do this:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">ng-repeat</span>=<span class="hljs-string">"item in chores"</span>&gt;</span>{{item}}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
</code></pre>
<p>Here <code>item</code> is just an iteration variable name that we make up, like <code>i</code> in a for loop.</p>
</div></section><section class="slide num numC" data-pos="5-6-6">
<span class="pos">5-6-6</span>
<div class="slidecontent">
<p>AngularJS has a syntax to <strong>conditionally give an element a class</strong>. Let&#39;s say we have this CSS...</p>
<pre><code><span class="hljs-selector-class">.highlight</span> {
  <span class="hljs-attribute">border</span>: <span class="hljs-number">3px</span> solid gold;
}
</code></pre><p>...and we expose a <code>isHighlighted</code> boolean in the controller:</p>
<pre><code><span class="hljs-meta">$</span><span class="bash">scope.isHighlighted = <span class="hljs-literal">true</span>;</span>
</code></pre></div></section><section class="slide" data-pos="5-6-7">
<span class="pos">5-6-7</span>
<div class="slidecontent"><p>Then in the HTML we have a paragraph that we want to <strong>get the <code>.hightlight</code> class when the <code>isHighlighted</code> flag is true</strong>. We accomplish that using the <strong><code>ng-class</code></strong> directive:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">ng-class</span>=<span class="hljs-string">"{highlight: isHighlighted}"</span>&gt;</span>
</code></pre>
<p>It has an <strong>object-like syntax</strong>; the keys are classes that we maybe get, and the values determine if we get that particular key.</p>
</div></section><section class="slide num numD" data-pos="5-6-8">
<span class="pos">5-6-8</span>
<div class="slidecontent">
<p>AngularJS lets us catch event via <strong>event-specific directives</strong>. For example we capture click events using <strong><code>ng-click</code></strong>!</p>
<p>There are <strong>two parts to this</strong> - first we <strong>expose a handler in our controller</strong>:</p>
<pre><code class="lang-javascript">$scope.handleClick = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
  alert(<span class="hljs-string">"BOOM went the world!"</span>);
}
</code></pre>
</div></section><section class="slide" data-pos="5-6-9">
<span class="pos">5-6-9</span>
<div class="slidecontent"><p>Secondly, in the HTML, we&#39;ll <strong>call that handler</strong> from code written inside <strong><code>ng-click</code></strong>:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">ng-click</span>=<span class="hljs-string">"handleClick()"</span>&gt;</span>Don't press me<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
</code></pre>
<p>As you can see this is <strong>very similar to oldschool <code>onclick</code></strong>!</p>
</div></section><section class="slide num numE" data-pos="5-6-10">
<span class="pos">5-6-10</span>
<div class="slidecontent">
<p>Let&#39;s say we have a <strong>dynamic URL for an image</strong> that we expose in the controller:</p>
<pre><code class="lang-javascript">$scope.urlToImage = <span class="hljs-string">"https://img.bricklink.com/ItemImage/SL/6086-1.png"</span>
</code></pre>
<p>In the HTML we could use normal interpolation in the <code>src</code> attribute:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"{{urlToImage}}"</span>/&gt;</span>
</code></pre>
</div></section><section class="slide" data-pos="5-6-11">
<span class="pos">5-6-11</span>
<div class="slidecontent"><p>However, if we do, we&#39;ll get an ugly 404 as <strong>the browser will try to download the url <code>{{urlToImage}}</code></strong>, since it parses the document before AngularJS has had the chance to transform that to the actual data.</p>
<p>The solution is to use the <strong><code>ng-src</code> directive</strong> instead:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">ng-src</span>=<span class="hljs-string">"{{urlToImage}}"</span>/&gt;</span>
</code></pre>
</div></section><section class="slide num numF" data-pos="5-6-12">
<span class="pos">5-6-12</span>
<div class="slidecontent">
<p>Speaking of that - we&#39;ll still see <strong>ugly <code>{{message}}</code> stuff flash by</strong> elsewhere in our template when the page first shows, before AngularJS has kicked off. The solution is the <strong><code>ng-cloak</code></strong> directive.</p>
</div></section><section class="slide" data-pos="5-6-13">
<span class="pos">5-6-13</span>
<div class="slidecontent"><p>First, <strong>add this style</strong>:</p>
<pre><code class="lang-css"><span class="hljs-selector-attr">[ng-cloak]</span> {
  <span class="hljs-attribute">display</span>: none <span class="hljs-meta">!important</span>;
}
</code></pre>
<p>As you can see, this style will <strong>hide all elements with an <code>ng-cloak</code> attribute</strong>.</p>
</div></section><section class="slide" data-pos="5-6-14">
<span class="pos">5-6-14</span>
<div class="slidecontent"><p>Next, <strong>add that attribute to the root</strong> of your app:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">ng-app</span>=<span class="hljs-string">"myawesomeapp"</span> <span class="hljs-attr">ng-cloak</span>&gt;</span>
</code></pre>
<p>When AngularJS encounters that attribute it will <strong>remove it</strong>. The end result is that the <strong>app will become visible when AngularJS has parsed the template</strong>, which prevents the user from seeing the ghastly <code>{{ ... }}</code> stuff!</p>
</div></section>
</section>
<section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>5-7.</span> Exercise - AngularJS Controller</h3>
      <p>Wrestling the beast</p>
</p>
    </div>
  </section>
  <section class="slide" data-pos="5-7-1">
<span class="pos">5-7-1</span>
<div class="slidecontent"><div class="goal"></div>

<p>Goal: Simplify our code with AngularJS</p>
</div></section><section class="slide" data-pos="5-7-2">
<span class="pos">5-7-2</span>
<div class="slidecontent"><p>Time to finally <strong>start using AngularJS for real</strong>!</p>
</div></section><section class="slide list" data-pos="5-7-3">
<span class="pos">5-7-3</span>
<div class="slidecontent">
<p>Here&#39;s the plan:</p>
<ul>
<li><span>a</span>Kick out jQuery</li>
<li><span>b</span>Let AngularJS render the data</li>
<li><span>c</span>Handle the star clicks with AngularJS</li>
</ul>
</div></section><section class="slide num numA" data-pos="5-7-4">
<span class="pos">5-7-4</span>
<div class="slidecontent">
<p>First point of business - we <strong>won&#39;t need jQuery anymore</strong>, so...</p>
<ul>
<li><strong>remove all jQuery code</strong> from <code>code.js</code>. Yes, this means all of <code>renderMovie</code>, <code>changeStarRating</code> and the event handler setup!</li>
<li><strong>remove all jQuery references</strong> elsewhere in the app (package.json, tsconfig.json, etc)</li>
</ul>
</div></section><section class="slide num numB" data-pos="5-7-5">
<span class="pos">5-7-5</span>
<div class="slidecontent">
<p>Now we have to <strong>make AngularJS show the data</strong> instead!</p>
<p>Begin with <strong>exposing the movie data in the controller</strong> by <strong>attaching it to <code>$scope</code></strong> (or <code>this</code> if you use that syntax).</p>
<p>You could expose the 4 keys one by one, but it is probably easier to expose the entire object:</p>
<pre><code class="lang-javascript">$scope.movie = movieData;
</code></pre>
</div></section><section class="slide" data-pos="5-7-6">
<span class="pos">5-7-6</span>
<div class="slidecontent"><p>Having done that, go back to the template and <strong>interpolate the data</strong> one piece at a time!</p>
<ul>
<li>The <strong>title</strong> and <strong>description</strong> will just be <strong>straightforward interpolation</strong>.</li>
<li>The <strong>image url</strong> will require you to use the <strong><code>ng-src</code></strong> directive.</li>
<li>The <strong>actor list</strong> will need the <strong><code>ng-repeat</code></strong> directive.</li>
</ul>
</div></section><section class="slide num numC" data-pos="5-7-7">
<span class="pos">5-7-7</span>
<div class="slidecontent">
<p>Time to <strong>handle the rating selection</strong>! Because AngularJS templates are <strong>data-driven</strong>, we need to stop cheating and actually start <strong>track the current rating</strong>.</p>
<pre><code class="lang-javascript">$scope.rating = <span class="hljs-number">0</span>;
</code></pre>
</div></section><section class="slide" data-pos="5-7-8">
<span class="pos">5-7-8</span>
<div class="slidecontent"><p>Now, with the <code>rating</code> in place, we can <strong>dynamically give <code>filled</code> classes to the stars</strong> depending on the rating value, using <code>ng-class</code>.</p>
<p>For example, the <strong>third star</strong> could look like this:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">ng-class</span>=<span class="hljs-string">"{filled: rating&gt;=3}"</span>&gt;</span>&amp;#9733;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
</code></pre>
</div></section><section class="slide" data-pos="5-7-9">
<span class="pos">5-7-9</span>
<div class="slidecontent"><p>Next we <strong>expose a handler</strong> in which we update that rating:</p>
<pre><code class="lang-javascript">$scope.changeStarRating = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">newRating</span>)</span>{
  $scope.rating = newRating;
}
</code></pre>
</div></section><section class="slide question" data-pos="5-7-10">
<span class="pos">5-7-10</span>
<div class="slidecontent">
<p>Wait - after we update the rating, don&#39;t we have to <strong>tell AngularJS to rerender</strong>?</p>
</div></section><section class="slide answer" data-pos="5-7-11">
<span class="pos">5-7-11</span>
<div class="slidecontent">
<p>That&#39;s the beauty of framework magic - <strong>no</strong>, we don&#39;t! AngularJS takes over the responsibility of &quot;triggering <code>renderMovie</code>&quot;, so to speak.</p>
</div></section><section class="slide" data-pos="5-7-12">
<span class="pos">5-7-12</span>
<div class="slidecontent"><p>Anyhow - with the handler exposed, now <strong>use it in <code>ng-click</code> directives on the star elements</strong> in the HTML!</p>
</div></section><section class="slide" data-pos="5-7-13">
<span class="pos">5-7-13</span>
<div class="slidecontent"><div class="checklist"></div>

<p>You are done when...</p>
<ul>
<li>The app works exactly like before</li>
<li>No <code>{{ .. }}</code> ever flash by and there are no silly image 404 errors</li>
<li>jQuery has been thrown out</li>
</ul>
</div></section><section class="slide" data-pos="5-7-14">
<span class="pos">5-7-14</span>
<div class="slidecontent"><div class="solution"></div>

<p>If you get stuck, see the <a href="https://github.com/krawaller/js-app-solutions/tree/master/angular_next">Angular Next</a> solution.</p>
</div></section>
</section>
<section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>5-8.</span> Controller variant</h3>
      <p>Because there&#39;s many ways to skin a cat</p>
</p>
    </div>
  </section>
  <section class="slide" data-pos="5-8-1">
<span class="pos">5-8-1</span>
<div class="slidecontent"><div class="learn"></div>

<p>Learn about the <strong>alternate controller syntax</strong></p>
</div></section><section class="slide" data-pos="5-8-2">
<span class="pos">5-8-2</span>
<div class="slidecontent"><p>AngularJS has been around for a long time. So long, in fact, that it has <strong>the same problems as the web</strong>!</p>
<ul>
<li>we realise there are <strong>better ways</strong> to do certain things</li>
<li>but we can&#39;t change because we want to be <strong>backwards compatible</strong></li>
</ul>
<p>Of course we can get around this through <strong>versioning</strong>, but AngularJS hasn&#39;t always done that to good effect.</p>
</div></section><section class="slide" data-pos="5-8-3">
<span class="pos">5-8-3</span>
<div class="slidecontent"><p>One of the things they found a better way for is really fundamental, namely, <strong>interpolation</strong>. You&#39;ve seen how we <strong>attach values to <code>$scope</code></strong> in the controller:</p>
<pre><code class="lang-javascript">app.controller(<span class="hljs-string">"myawesomecontroller"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$scope</span>)</span>{
  $scope.greeting = <span class="hljs-string">"Hello world!"</span>;
});
</code></pre>
<p>...which can then be <strong>accessed in the template</strong>:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">ng-controller</span>=<span class="hljs-string">"myawesomecontroller"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{{greeting}}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
</div></section><section class="slide" data-pos="5-8-4">
<span class="pos">5-8-4</span>
<div class="slidecontent"><p>There is a <strong>competing syntax</strong> for this - we can define our controller to <strong>work with <code>this</code></strong> instead of <strong><code>$scope</code></strong>:</p>
<pre><code class="lang-javascript">app.controller(<span class="hljs-string">"myawesomecontroller"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
  <span class="hljs-keyword">this</span>.message = <span class="hljs-string">"Hello world!"</span>;
});
</code></pre>
<p>We no longer attach data to <code>$scope</code>, but to <code>this</code> instead.</p>
</div></section><section class="slide" data-pos="5-8-5">
<span class="pos">5-8-5</span>
<div class="slidecontent"><p>For this alternate syntax we must connect the controller <strong>slightly differently</strong> by giving it an alias...</p>
<pre><code>&lt;div <span class="hljs-attribute">ng-controller</span>=<span class="hljs-string">"myawesomecontroller as ctrl"</span>&gt;
</code></pre><p>...and when we interpolate we must <strong>access the variables off of the alias</strong>:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{{ctrl.message}}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
</code></pre>
</div></section><section class="slide question" data-pos="5-8-6">
<span class="pos">5-8-6</span>
<div class="slidecontent">
<p>Fine, getting rid of <code>$scope</code> was nice, but isn&#39;t this new syntax <strong>fiddlier</strong> since we have to use an alias?</p>
</div></section><section class="slide answer" data-pos="5-8-7">
<span class="pos">5-8-7</span>
<div class="slidecontent">
<p>Yup, it is. But the advantage is that with <strong>nested scopes</strong> it becomes super clear where the variables come from:</p>
<pre><code><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">ng-controller</span>=<span class="hljs-string">"myawesomecontroller as ctrl"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span></span><span class="hljs-template-variable">{{ctrl.title}}</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">ng-controller</span>=<span class="hljs-string">"innercontroller as ctrl2"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span></span><span class="hljs-template-variable">{{ctrl2.content}}</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
</code></pre></div></section>
</section>
<section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>5-9.</span> Exercise - Controller, take 2</h3>
      <p>Wrestling the beast again</p>
</p>
    </div>
  </section>
  <section class="slide" data-pos="5-9-1">
<span class="pos">5-9-1</span>
<div class="slidecontent"><div class="goal"></div>

<p>Goal: Try the other controller syntax</p>
</div></section><section class="slide" data-pos="5-9-2">
<span class="pos">5-9-2</span>
<div class="slidecontent"><p>Not much to say beyond the goal text; your mission is to <strong>convert your app to the newer controller syntax</strong>!</p>
</div></section><section class="slide" data-pos="5-9-3">
<span class="pos">5-9-3</span>
<div class="slidecontent"><div class="checklist"></div>

<p>You are done when...</p>
<ul>
<li>There are no mentions of <code>$scope</code> in the code</li>
<li>The app still works</li>
</ul>
</div></section><section class="slide" data-pos="5-9-4">
<span class="pos">5-9-4</span>
<div class="slidecontent"><div class="solution"></div>

<p>If you get stuck, see the <a href="https://github.com/krawaller/js-app-solutions/tree/master/angular_next_alt">Angular Next Alt</a> solution.</p>
</div></section>
</section>
<section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>5-10.</span> What comes next?</h3>
      <p>The rest of the story</p>
</p>
    </div>
  </section>
  <section class="slide" data-pos="5-10-1">
<span class="pos">5-10-1</span>
<div class="slidecontent"><div class="learn"></div>

<p>Learn about <strong>what remains to learn in AngularJS</strong></p>
</div></section><section class="slide" data-pos="5-10-2">
<span class="pos">5-10-2</span>
<div class="slidecontent"><p>You taken a good bite out of <strong>core AngularJS functionality</strong>, but there&#39;s so much more we haven&#39;t covered.</p>
<p>Let&#39;s just walk through some things so you <strong>know what lies ahead</strong>!</p>
</div></section><section class="slide" data-pos="5-10-3">
<span class="pos">5-10-3</span>
<div class="slidecontent"><p>You&#39;ll likely want to <strong>handle routing</strong> within your app, to allow the user to use bookmarks and back/forward buttons to navigate your app.</p>
</div></section><section class="slide" data-pos="5-10-4">
<span class="pos">5-10-4</span>
<div class="slidecontent"><p>AngularJS allows you to package your controllers + related HTML as <strong>reusable components</strong>.</p>
<p>We&#39;ll take a short peek at that shortly!</p>
</div></section><section class="slide" data-pos="5-10-5">
<span class="pos">5-10-5</span>
<div class="slidecontent"><p>There&#39;s also a concept called <strong>services</strong> - this is an abstraction to house...</p>
<ul>
<li>app-wide logic</li>
<li>app-wide state</li>
<li>backend interaction</li>
<li>inter-component communication</li>
</ul>
<p>In a small app you won&#39;t need them, but when things grow they are very useful.</p>
</div></section>
</section>
<section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>5-11.</span> Exercise - Exploring AngularJS Component</h3>
      <p>Putting code in a can</p>
</p>
    </div>
  </section>
  <section class="slide" data-pos="5-11-1">
<span class="pos">5-11-1</span>
<div class="slidecontent"><div class="goal"></div>

<p>Goal: Understanding the power of components</p>
</div></section><section class="slide" data-pos="5-11-2">
<span class="pos">5-11-2</span>
<div class="slidecontent"><p>As mentioned, AngularJS has a <strong>component syntax</strong> which lets us <strong>bundle controllers and their related HTML together</strong>.</p>
<p>This is hugely useful, and at the core of more modern frameworks such as React (or the new Angular). So, let&#39;s <strong>explore it</strong>!</p>
</div></section><section class="slide" data-pos="5-11-3">
<span class="pos">5-11-3</span>
<div class="slidecontent"><p>In the solution bundle for this exercise you&#39;ll find yet another version of the movie app where I&#39;ve <strong>componentalised the review</strong> part. This let&#39;s me do this:</p>
<p><img src="resources/images/tworeviews.png" alt=""></p>
</div></section><section class="slide" data-pos="5-11-4">
<span class="pos">5-11-4</span>
<div class="slidecontent"><p>Your mission is simply to <strong>explore my source code</strong> and see if you can figure out how it all fits together!</p>
<p><a href="https://github.com/krawaller/js-app-solutions/tree/master/angular_component">Angular Component</a> solution.</p>
<p>And, if you feel adventurous and have the time, <strong>try to employ it in your code</strong>!</p>
</div></section><section class="slide" data-pos="5-11-5">
<span class="pos">5-11-5</span>
<div class="slidecontent"><div class="checklist"></div>

<p>You are done when...</p>
<ul>
<li>You have explored the source code</li>
<li>You have an idea of how components work</li>
</ul>
</div></section>
</section>

  </div>
  
</div>
<div class="chaptercontainer">
  <div class="chapterstart">
    <span>chapter 6 / 6</span>
    <h2>Appendix: ES2015</h2>
    <p>The new shinies</p>
</p>
  </div>
  <section class="slide">

<div class="slidecontent"><p>In this appendix chapter we will more fully <strong>explore the new features in ES2015</strong>!</p>
</div></section>
  <div class="chaptersectionlist">
  <h3>Sections in this chapter:</h3>
  <ul>
    <li>1. Versatile object definitions</li>
<li>2. Destructuring and rest</li>
<li>3. Versatile function definitions</li>
<li>4. Spreads</li>
<li>5. Modules</li>
<li>6. Classes</li>
<li>7. Decorators</li>
<li>8. Miscellaneous</li>
  </ul>
</div>

  <div class="chaptersections">
    <section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>6-1.</span> Versatile object definitions</h3>
      <p>defining objects like a boss</p>
</p>
    </div>
  </section>
  <section class="slide list" data-pos="6-1-1">
<span class="pos">6-1-1</span>
<div class="slidecontent">
<p>In ES2015 we got five small but nice features for <strong>defining objects in a smoother way</strong>:</p>
<ul>
<li><span>a</span>dynamic keys</li>
<li><span>b</span>automatic same-key-value</li>
<li><span>c</span>method shorthand</li>
<li><span>d</span>getters</li>
<li><span>e</span>setters</li>
</ul>
</div></section><section class="slide num numA" data-pos="6-1-2">
<span class="pos">6-1-2</span>
<div class="slidecontent">
<p>If we wanted to create an <strong>object with a dynamic key</strong> we had to go about it in a roundabout way before:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> obj = {};
<span class="hljs-keyword">var</span> obj[dynamicKey] = someValue;
</code></pre>
</div></section><section class="slide" data-pos="6-1-3">
<span class="pos">6-1-3</span>
<div class="slidecontent"><p>Now, instead, we can use the <strong>dynamic key syntax</strong> by wrapping it in brackets:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> obj = {[dynamicKey]: someValue};
</code></pre>
</div></section><section class="slide num numB" data-pos="6-1-4">
<span class="pos">6-1-4</span>
<div class="slidecontent">
<p>Also, if our value is in a <strong>variable with the same name as the intended key</strong>, like here:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> person = {
  <span class="hljs-attr">name</span>: name,
  <span class="hljs-attr">age</span>: age
};
</code></pre>
</div></section><section class="slide" data-pos="6-1-5">
<span class="pos">6-1-5</span>
<div class="slidecontent"><p>...ES2015 introduces a <strong>shorthand syntax</strong>:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> person = {name, age};
</code></pre>
</div></section><section class="slide num numC" data-pos="6-1-6">
<span class="pos">6-1-6</span>
<div class="slidecontent">
<p>And if we define an <strong>object with a method</strong>:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> obj = {
  <span class="hljs-attr">method</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">arg1,arg2</span>)</span>{
    <span class="hljs-comment">// do advanced stuff</span>
  }
};
</code></pre>
</div></section><section class="slide" data-pos="6-1-7">
<span class="pos">6-1-7</span>
<div class="slidecontent"><p>...ES2015 lets us be less verbose by using the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Method_definitions">method shorthand syntax</a>:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> obj = {
  method(arg1,arg2){
    <span class="hljs-comment">// do advanced stuff</span>
  }
};
</code></pre>
</div></section><section class="slide" data-pos="6-1-8">
<span class="pos">6-1-8</span>
<div class="slidecontent"><p>This can also be <strong>combined with the dynamic key syntax</strong>:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> obj = {
  [methodName](arg1,arg2){
    <span class="hljs-comment">// do advanced stuff</span>
  }
};
</code></pre>
</div></section><section class="slide num numD" data-pos="6-1-9">
<span class="pos">6-1-9</span>
<div class="slidecontent">
<p>Finally, ES2015 also introduced <strong>getters and setters</strong>.</p>
<p>Let&#39;s look at <strong>getters</strong> first. They are very useful for dealing with <strong>computed properties</strong>.</p>
</div></section><section class="slide" data-pos="6-1-10">
<span class="pos">6-1-10</span>
<div class="slidecontent"><p>Say we&#39;re working with <strong>user objects</strong> like this:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> user = {
  <span class="hljs-attr">firstName</span>: <span class="hljs-string">"John"</span>,
  <span class="hljs-attr">lastName</span>: <span class="hljs-string">"Doe"</span>
};
</code></pre>
<p>Now we want to implement a <strong>computed property <code>fullName</code></strong>.</p>
</div></section><section class="slide" data-pos="6-1-11">
<span class="pos">6-1-11</span>
<div class="slidecontent"><p>Here&#39;s an <strong>ES3 solution</strong> doing it as a <strong>method</strong>:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> user = {
  <span class="hljs-attr">firstName</span>: <span class="hljs-string">"John"</span>,
  <span class="hljs-attr">lastName</span>: <span class="hljs-string">"Doe"</span>,
  <span class="hljs-attr">fullName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.firstName + <span class="hljs-string">' '</span> + <span class="hljs-keyword">this</span>.lastName;
  }
}

user.fullName(); <span class="hljs-comment">// John Doe</span>
</code></pre>
</div></section><section class="slide" data-pos="6-1-12">
<span class="pos">6-1-12</span>
<div class="slidecontent"><p>By using an <strong>ES2015 getter</strong> we can access the computed property normally instead:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> user = {
  <span class="hljs-attr">firstName</span>: <span class="hljs-string">"John"</span>,
  <span class="hljs-attr">lastName</span>: <span class="hljs-string">"Doe"</span>,
  get fullName() {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.firstName + <span class="hljs-string">' '</span> + <span class="hljs-keyword">this</span>.lastName;
  }
}

user.fullName; <span class="hljs-comment">// John Doe, without invocation!</span>
</code></pre>
<p>Cf. <a href="https://en.wikipedia.org/wiki/Uniform_access_principle">uniform access principle</a>.</p>
</div></section><section class="slide num numE" data-pos="6-1-13">
<span class="pos">6-1-13</span>
<div class="slidecontent">
<p>A <strong>setter</strong> let&#39;s you <strong>act upon prop mutation</strong>, for example <strong>logging</strong>...</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> user = {
  set userName(str) {
    log(<span class="hljs-keyword">this</span>._userName + <span class="hljs-string">" changed name to "</span> + str);
    <span class="hljs-keyword">this</span>._userName = str;
  }
}

user.userName = <span class="hljs-string">"Steve"</span>; <span class="hljs-comment">// Bob changed name to Steve</span>
</code></pre>
</div></section><section class="slide" data-pos="6-1-14">
<span class="pos">6-1-14</span>
<div class="slidecontent"><p>...or <strong>validation</strong>:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> user = {
  set userName(str) {
    <span class="hljs-keyword">if</span> (str.match(<span class="hljs-regexp">/[^a-z]/</span>)){
      <span class="hljs-keyword">throw</span> <span class="hljs-string">"Name can only contain lowercase letters!"</span>;
    }
    <span class="hljs-keyword">this</span>._userName = str;
  }
}

user.userName = <span class="hljs-string">"Bob the 1 and only"</span>; <span class="hljs-comment">// Name can only contain..</span>
</code></pre>
</div></section><section class="slide question" data-pos="6-1-15">
<span class="pos">6-1-15</span>
<div class="slidecontent">
<p>Did you note that we used a <strong>different property name</strong> inside the setter? The setter was for <code>userName</code>, but inside it we instead set <code>_userName</code>.</p>
<p>Why do you think that is?</p>
</div></section><section class="slide answer" data-pos="6-1-16">
<span class="pos">6-1-16</span>
<div class="slidecontent">
<p>If we mutated the same property inside the setter then that would trigger the setter to be called, which would mutate the property, which would trigger the setter, etc. We would end up in an <strong>infinite loop</strong>.</p>
</div></section>
</section>
<section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>6-2.</span> Destructuring and rest</h3>
      <p>cherry-picking the raisins from the cookie</p>
</p>
    </div>
  </section>
  <section class="slide" data-pos="6-2-1">
<span class="pos">6-2-1</span>
<div class="slidecontent"><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment">Destructuring</a> is a way to pick values from nested structures without having to do the manual digging.</p>
</div></section><section class="slide" data-pos="6-2-2">
<span class="pos">6-2-2</span>
<div class="slidecontent"><p>Let&#39;s say we have an <strong>array of <code>contenders</code></strong>, each represented by an object.</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">let</span> contenders = [
  {<span class="hljs-attr">name</span>: <span class="hljs-string">"David"</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">37</span>},
  {<span class="hljs-attr">name</span>: <span class="hljs-string">"Carl"</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">38</span>}
  <span class="hljs-comment">/* and a few others */</span>
];
</code></pre>
<p>They are <strong>sorted by position</strong> so the first contender won, etc.</p>
</div></section><section class="slide" data-pos="6-2-3">
<span class="pos">6-2-3</span>
<div class="slidecontent"><p>If we wanted the <strong>name of the winner</strong> we would do something like this in ES5:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">let</span> winnersName = contenders[<span class="hljs-number">0</span>].name;
</code></pre>
</div></section><section class="slide" data-pos="6-2-4">
<span class="pos">6-2-4</span>
<div class="slidecontent"><p>With <strong>destructuring</strong>, we can instead do this:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">let</span> [{<span class="hljs-attr">name</span>: winnersName}] = contenders;
</code></pre>
<p>Or, combined with the <strong>same-key-value shorthand</strong>:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">let</span> [{name}] = contenders;
</code></pre>
</div></section><section class="slide" data-pos="6-2-5">
<span class="pos">6-2-5</span>
<div class="slidecontent"><p>Destructuring also allows us to use the powerful <strong>rest</strong> element which can <strong>lump up many array elements into one</strong>, making for some very succinct code:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">let</span> [winner, ...losers] = contenders;
</code></pre>
</div></section><section class="slide" data-pos="6-2-6">
<span class="pos">6-2-6</span>
<div class="slidecontent"><p>Note that the rest element <strong>has to be the last one in the array</strong>, so this wouldn&#39;t work:</p>
<pre><code><span class="hljs-keyword">let</span> [...others, superloser] = contenders; <span class="hljs-comment">// syntax error</span>
</code></pre></div></section><section class="slide question" data-pos="6-2-7">
<span class="pos">6-2-7</span>
<div class="slidecontent">
<p>Wait.. Theoretically, <strong>the rest could be placed <em>anywhere</em></strong>, as long as there&#39;s just one. The parser should still be able to figure out what&#39;s what!</p>
<p>Right?</p>
</div></section><section class="slide answer" data-pos="6-2-8">
<span class="pos">6-2-8</span>
<div class="slidecontent">
<p>True. But that would <strong>require lookahead</strong>, which is <strong>complex and more taxing</strong>. And so the choice was made to only allow the rest element in the last position.</p>
</div></section>
</section>
<section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>6-3.</span> Versatile function definitions</h3>
      <p>defining function like a boss</p>
</p>
    </div>
  </section>
  <section class="slide list" data-pos="6-3-1">
<span class="pos">6-3-1</span>
<div class="slidecontent">
<p>ES2015 provides <strong>several neat features for defining functions</strong>:</p>
<ul>
<li><span>a</span>default parameter values</li>
<li><span>b</span>rest parameters</li>
<li><span>c</span>destructuring parameters</li>
<li><span>d</span>arrow functions</li>
</ul>
</div></section><section class="slide num numA" data-pos="6-3-2">
<span class="pos">6-3-2</span>
<div class="slidecontent">
<p><strong>Default parameter values</strong> exist in many languages, and was popularised in JS through <a href="">CoffeeScript</a>.</p>
<p>The idea is to <strong>handle optional parameters</strong> in a smoother way.</p>
</div></section><section class="slide" data-pos="6-3-3">
<span class="pos">6-3-3</span>
<div class="slidecontent"><p>Creating a <strong>function with an optional parameter</strong> in ES3 meant we had to do a sometimes tedious dance of initialization:</p>
<pre><code class="lang-javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">makePerson</span>(<span class="hljs-params">name, age</span>) </span>{
  <span class="hljs-keyword">var</span> age = age || <span class="hljs-string">'unknown'</span>;
  <span class="hljs-comment">// do complex stuff</span>
}
</code></pre>
<p>This may or may not do what you want. (Hint: is <code>0</code> a reasonable value for <code>age</code>?)</p>
</div></section><section class="slide" data-pos="6-3-4">
<span class="pos">6-3-4</span>
<div class="slidecontent"><p>With <strong>default parameter values</strong> we can instead do this: </p>
<pre><code class="lang-javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">makePerson</span>(<span class="hljs-params">name, age = <span class="hljs-string">'unknown'</span></span>) </span>{
  <span class="hljs-comment">// do complex stuff</span>
}
</code></pre>
</div></section><section class="slide num numB" data-pos="6-3-5">
<span class="pos">6-3-5</span>
<div class="slidecontent">
<p>The second new feature, <strong>rest parameters</strong>, is a way of capturing multiple arguments into a single variable like a rest element in a destructuring.</p>
<p>This can often save us from having to do awkward stuff with the not-quite-an-array <code>arguments</code> object.</p>
</div></section><section class="slide" data-pos="6-3-6">
<span class="pos">6-3-6</span>
<div class="slidecontent"><p>Imagine a <code>competition</code> function that is called with all contenders one by one:</p>
<pre><code class="lang-javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">competition</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">var</span> contenders = <span class="hljs-built_in">Array</span>.prototype.slice.call(<span class="hljs-built_in">arguments</span>);
  <span class="hljs-keyword">var</span> winner = contenders[<span class="hljs-number">0</span>];
  <span class="hljs-keyword">var</span> losers = contenders.slice(<span class="hljs-number">1</span>);
  <span class="hljs-comment">// do something with winner and losers</span>
}
</code></pre>
</div></section><section class="slide" data-pos="6-3-7">
<span class="pos">6-3-7</span>
<div class="slidecontent"><p>Using rest parameters, this function simply becomes:</p>
<pre><code class="lang-javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">competition</span>(<span class="hljs-params">winner, ...losers</span>) </span>{
  <span class="hljs-comment">// do something with winner and losers</span>
}
</code></pre>
</div></section><section class="slide" data-pos="6-3-8">
<span class="pos">6-3-8</span>
<div class="slidecontent"><p>Note that the rest parameter <strong>has to be the last parameter</strong>, just like the rest element, and for the same reason.</p>
</div></section><section class="slide num numC" data-pos="6-3-9">
<span class="pos">6-3-9</span>
<div class="slidecontent">
<p>Remember <strong>destructuring</strong>? We can <strong>use that in signatures</strong>:</p>
<pre><code class="lang-javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">introduce</span>(<span class="hljs-params">{name, age}</span>) </span>{
  <span class="hljs-built_in">console</span>.log(name,<span class="hljs-string">"is"</span>,age,<span class="hljs-string">"years old"</span>);
}
<span class="hljs-keyword">var</span> me = {<span class="hljs-attr">name</span>: <span class="hljs-string">"David"</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">37</span>};
introduce(me); <span class="hljs-comment">// David is 37 years old</span>
</code></pre>
</div></section><section class="slide num numD" data-pos="6-3-10">
<span class="pos">6-3-10</span>
<div class="slidecontent">
<p>Finally - know how <strong>defining anonymous functions</strong> in JS is rather verbose?</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> mcboatify = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">arg</span>) </span>{
  <span class="hljs-keyword">return</span> <span class="hljs-string">"Boaty Mc"</span>+arg+<span class="hljs-string">"Face"</span>;
};
</code></pre>
</div></section><section class="slide" data-pos="6-3-11">
<span class="pos">6-3-11</span>
<div class="slidecontent"><p>With <strong>arrow functions</strong> things feel less heavy:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> mcboatify = <span class="hljs-function">(<span class="hljs-params">arg</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> <span class="hljs-string">"Boaty Mc"</span> + arg + <span class="hljs-string">"Face"</span>;
};
</code></pre>
</div></section><section class="slide" data-pos="6-3-12">
<span class="pos">6-3-12</span>
<div class="slidecontent"><p>They can become smaller still - if we have <strong>exactly one parameter</strong>, we can <strong>omit the parenthesis</strong> in the signature:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> mcboatify = <span class="hljs-function"><span class="hljs-params">arg</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> <span class="hljs-string">"Boaty Mc"</span> + arg + <span class="hljs-string">"Face"</span>;
};
</code></pre>
</div></section><section class="slide" data-pos="6-3-13">
<span class="pos">6-3-13</span>
<div class="slidecontent"><p>Finally, if you <strong>just want to return an expression</strong>, we can <strong>skip brackets and the return keyword</strong>:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> mcboatify = <span class="hljs-function"><span class="hljs-params">arg</span> =&gt;</span> <span class="hljs-string">"Boaty Mc"</span> + arg + <span class="hljs-string">"Face"</span>;
</code></pre>
<p>Now the function body consists of a single expression, which will be implicitly returned.</p>
</div></section><section class="slide" data-pos="6-3-14">
<span class="pos">6-3-14</span>
<div class="slidecontent"><p>Note however that if you want to use the <strong>single expression form with an object literal</strong>, we have to <strong>wrap it in parenthesis</strong> to distinguish it from a regular function block:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> createUser = <span class="hljs-function">(<span class="hljs-params">name,age</span>)=&gt;</span> ({name,age})
</code></pre>
</div></section><section class="slide" data-pos="6-3-15">
<span class="pos">6-3-15</span>
<div class="slidecontent"><p>Arrow functions are not only less heavy to write, they are also lighter for the interpreter since they <strong>don&#39;t get an implicit context parameter</strong>.</p>
</div></section><section class="slide" data-pos="6-3-16">
<span class="pos">6-3-16</span>
<div class="slidecontent"><p>Which means that if you refer to <code>this</code> inside an arrow function, it is the <strong>same <code>this</code> as on the outside</strong>.</p>
<pre><code><span class="hljs-keyword">var</span> me = <span class="hljs-keyword">this</span>;
setTimeout(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">this</span> === me); <span class="hljs-comment">// true</span>
}, <span class="hljs-number">10</span>)
setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">this</span> === me); <span class="hljs-comment">// false</span>
}, <span class="hljs-number">10</span>)
</code></pre></div></section><section class="slide" data-pos="6-3-17">
<span class="pos">6-3-17</span>
<div class="slidecontent"><p>As a final note; arrow functions can beautifully describe the flow for <strong>nested higher order callbacks</strong>. Remember the <strong><code>multiplier</code> example</strong> from the functional programming section?</p>
<pre><code class="lang-javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">multiplier</span>(<span class="hljs-params">func,times</span>)</span>{
  <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; times; i = i + <span class="hljs-number">1</span>){
      func();
    }
  };
}
</code></pre>
</div></section><section class="slide" data-pos="6-3-18">
<span class="pos">6-3-18</span>
<div class="slidecontent"><p>With arrow functions, that becomes:</p>
<pre><code><span class="hljs-keyword">var</span> multiplier = (<span class="hljs-function"><span class="hljs-keyword">func</span>,<span class="hljs-title">times</span>)=&gt; <span class="hljs-params">()</span></span>=&gt; {
  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; times; i = i + <span class="hljs-number">1</span>){
    <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span>;
  }
}
</code></pre></div></section>
</section>
<section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>6-4.</span> Spreads</h3>
      <p>the dark side of rests</p>
</p>
    </div>
  </section>
  <section class="slide" data-pos="6-4-1">
<span class="pos">6-4-1</span>
<div class="slidecontent"><p>You have already seen how we use <strong>rest</strong> element/parameter to capture several array elements into a single variable:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> [winner, ...losers] = competitors;
</code></pre>
</div></section><section class="slide" data-pos="6-4-2">
<span class="pos">6-4-2</span>
<div class="slidecontent"><p>Now imagine <strong>the opposite scenario</strong> - we have the <code>winner</code> and <code>losers</code> variables, and want to define <code>competitors</code>. In ES3 this is done like this:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> competitors = [winner].concat(losers);
</code></pre>
</div></section><section class="slide" data-pos="6-4-3">
<span class="pos">6-4-3</span>
<div class="slidecontent"><p>ES2015 gives us a new options - <strong>spreads</strong>! It looks exactly like rest, but we use it on the <em>right side</em> instead (or when we <em>call</em> a function as opposed to when we define it):</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> competitors = [winner, ...losers];
</code></pre>
<p>We say that we <em>spread</em> the contents of the expression into the outer array.</p>
</div></section><section class="slide" data-pos="6-4-4">
<span class="pos">6-4-4</span>
<div class="slidecontent"><p>Spreads gives us a less verbose way to <strong>copy an object and add properties to it</strong>, which is otherwise done like this:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> augmentedObj = <span class="hljs-built_in">Object</span>.assign({}, oldObj, newProps);
</code></pre>
</div></section><section class="slide" data-pos="6-4-5">
<span class="pos">6-4-5</span>
<div class="slidecontent"><p>With spreads we can instead do this:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> augmentedObj = {...oldObj, ...newProps};
</code></pre>
</div></section><section class="slide" data-pos="6-4-6">
<span class="pos">6-4-6</span>
<div class="slidecontent"><p>Note that while spreads and rests <em>with arrays</em> are in the spec for ES2015, <strong>object spread is still a Stage 3 proposal</strong> (November 2017).</p>
<p>It is <strong>expected to be accepted into an upcoming release</strong> of the language, and is already supported by Babel and the like.</p>
</div></section>
</section>
<section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>6-5.</span> Modules</h3>
      <p>getting into the import/export business</p>
</p>
    </div>
  </section>
  <section class="slide" data-pos="6-5-1">
<span class="pos">6-5-1</span>
<div class="slidecontent"><p>As we saw earlier, <strong>Node gave us modules</strong> through the <code>require</code> and <code>module.exports</code> globals it provides.</p>
<p>But with ES2015, we got <strong>native modules</strong> for the very first time!</p>
</div></section><section class="slide" data-pos="6-5-2">
<span class="pos">6-5-2</span>
<div class="slidecontent"><p>While <strong>Node modules</strong> followed the <strong>CommonJS module standard</strong>, what was implemented in the language follows <strong>another syntax</strong>, named <strong>ES modules</strong>.</p>
<p>But the <strong>concepts are the same</strong>. While you would do this in <strong>CommonJS</strong>...</p>
<pre><code>// file1.js
module.exports = <span class="hljs-meta">{..}</span>;

//file2.js
<span class="hljs-keyword">var</span> lib = require(<span class="hljs-string">"./file1.js"</span>);
</code></pre></div></section><section class="slide" data-pos="6-5-3">
<span class="pos">6-5-3</span>
<div class="slidecontent"><p>...you would do this with <strong>ES modules</strong>:</p>
<pre><code>// file1.js
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> lib = <span class="hljs-meta">{..}</span>;

//file2.js
<span class="hljs-keyword">import</span> lib <span class="hljs-keyword">from</span> './file1.js'
</code></pre><p>We have to <strong>name our exports</strong> here, otherwise things are <strong>pretty similar</strong>.</p>
</div></section><section class="slide" data-pos="6-5-4">
<span class="pos">6-5-4</span>
<div class="slidecontent"><p>There are <strong>other differences too</strong>, so for the full scope you should <strong>check the MDN docs</strong> for <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import">import</a> and <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/export">export</a></p>
</div></section><section class="slide" data-pos="6-5-5">
<span class="pos">6-5-5</span>
<div class="slidecontent"><p>Note that even though this is now <strong>part of the language</strong>, there are <strong>no browsers that implement the functionality yet</strong>.</p>
<p>This is mainly because it <strong>wouldn&#39;t be practical</strong> - we&#39;d get a <strong>gazillion http requests for small files</strong>.</p>
</div></section><section class="slide" data-pos="6-5-6">
<span class="pos">6-5-6</span>
<div class="slidecontent"><p>And since we <strong>likely have a build step anyway</strong> to do minification and transpiling and similar, you can easily <strong>bundle your code into a single file</strong>, too.</p>
<p>But, with the advent of HTTP2, <strong>who knows what the future will hold</strong>!</p>
</div></section>
</section>
<section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>6-6.</span> Classes</h3>
      <p>Waiter, there are classes in my JS!</p>
</p>
    </div>
  </section>
  <section class="slide" data-pos="6-6-1">
<span class="pos">6-6-1</span>
<div class="slidecontent"><p>Before ES2015, JavaScript used to famously <strong>lack classes</strong>.</p>
<p>This was <strong>not an oversight</strong>. Consider what <strong>classes are normally used for</strong>:</p>
<ul>
<li><strong>resusing functionality</strong> and </li>
<li>setting up <strong>hierarchies</strong></li>
</ul>
</div></section><section class="slide" data-pos="6-6-2">
<span class="pos">6-6-2</span>
<div class="slidecontent"><p>In <strong>JavaScript</strong> this is addressed by</p>
<ul>
<li>simply <strong>grabbing methods</strong> and/or <strong>mixing objects</strong></li>
<li><strong>prototypal &quot;inheritance&quot;</strong>, which should really be called delegation</li>
</ul>
</div></section><section class="slide" data-pos="6-6-3">
<span class="pos">6-6-3</span>
<div class="slidecontent"><p>This means that <strong>classes didn&#39;t really serve a purpose</strong>. Yet they were <strong>still frequently used</strong>, through the weird, bolted-on <strong><code>new</code></strong> syntax which <strong>makes functions behave like constructors</strong>:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> user = <span class="hljs-keyword">new</span> User(<span class="hljs-string">"David"</span>, <span class="hljs-number">1979</span>);
</code></pre>
</div></section><section class="slide" data-pos="6-6-4">
<span class="pos">6-6-4</span>
<div class="slidecontent"><p>But to really make this <strong>behave like normal classes</strong>...</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> lucas = <span class="hljs-keyword">new</span> Dog(<span class="hljs-string">"Lucas"</span>);
lucas instanceOf Dog; <span class="hljs-comment">// true</span>
lucas instanceOf Animal; <span class="hljs-comment">// true</span>
lucas.bark(); <span class="hljs-comment">// Lucas goes woof!</span>
</code></pre>
</div></section><section class="slide" data-pos="6-6-5">
<span class="pos">6-6-5</span>
<div class="slidecontent"><p>...then lots of <strong>jumping through hoops</strong> had to be done:</p>
<pre><code class="lang-javascript">Dog.prototype = <span class="hljs-keyword">new</span> Animal();
Dog.prototype.constructor = Animal;
Dog.prototype.bark = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">this</span>.name, <span class="hljs-string">"goes woof!"</span>);
}
</code></pre>
</div></section><section class="slide" data-pos="6-6-6">
<span class="pos">6-6-6</span>
<div class="slidecontent"><p>To <strong>facilitate &quot;class&quot; use</strong> in JavaScript, <strong>ES2015 introduced the <code>class</code></strong> syntax:</p>
<pre><code class="lang-javascript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Dog</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Animal</span> </span>{
  bark() {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">this</span>.name, <span class="hljs-string">"goes woof!"</span>);
  }
}
</code></pre>
<p>Note how <strong>method shorthands</strong> are available in class declarations too!</p>
</div></section><section class="slide" data-pos="6-6-7">
<span class="pos">6-6-7</span>
<div class="slidecontent"><p>But it is important to note that this does <strong>not mean that JavaScript has actual classes</strong>.</p>
<p>Under the hood the same weird <code>prototype</code> and <code>constructor</code> dance happens.</p>
</div></section><section class="slide list" data-pos="6-6-8">
<span class="pos">6-6-8</span>
<div class="slidecontent">
<p>Still, since the <strong>syntax hides the mismatch</strong>, it can be a <strong>convenient way to package functionality</strong>. And Angular makes heavy use of this construct, so let&#39;s <strong>check out some details</strong>! Specifically:</p>
<ul>
<li><span>a</span>constructor</li>
<li><span>b</span>methods</li>
<li><span>c</span>properties</li>
</ul>
</div></section><section class="slide num numA" data-pos="6-6-9">
<span class="pos">6-6-9</span>
<div class="slidecontent">
<p>First off, what <strong>used to go in the fake constructor</strong>...</p>
<pre><code class="lang-javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Animal</span>(<span class="hljs-params">name</span>) </span>{
  <span class="hljs-keyword">this</span>.name = name;
}
</code></pre>
</div></section><section class="slide" data-pos="6-6-10">
<span class="pos">6-6-10</span>
<div class="slidecontent"><p>...is now placed in a literal <strong><code>constructor</code> method</strong> in the class declaration:</p>
<pre><code class="lang-javascript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Animal</span> </span>{
  <span class="hljs-keyword">constructor</span>(name) {
    <span class="hljs-keyword">this</span>.name = name;
  }
}
</code></pre>
</div></section><section class="slide" data-pos="6-6-11">
<span class="pos">6-6-11</span>
<div class="slidecontent"><p>If you want <strong>the inherited constructor to be invoked too</strong>, you must <strong>do so yourself</strong> with the new <strong><code>super</code> keyword</strong>:</p>
<pre><code class="lang-javascript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Dog</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Animal</span> </span>{
  <span class="hljs-keyword">constructor</span>(name) {
    <span class="hljs-keyword">super</span>(name);
    <span class="hljs-keyword">this</span>.nickname = name + <span class="hljs-string">'y boy'</span>;
  }
}
</code></pre>
</div></section><section class="slide num numB" data-pos="6-6-12">
<span class="pos">6-6-12</span>
<div class="slidecontent">
<p>And you&#39;ve <strong>already seen methods</strong>:</p>
<pre><code class="lang-javascript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Dog</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Animal</span> </span>{
  <span class="hljs-keyword">constructor</span>() { ... }
  bark() {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">this</span>.name,<span class="hljs-string">"goes woof!"</span>);
  }
}
</code></pre>
<p>Similar to object methods, <strong><code>this</code></strong> (normally) <strong>points to the instance</strong>.</p>
</div></section><section class="slide num numC" data-pos="6-6-13">
<span class="pos">6-6-13</span>
<div class="slidecontent">
<p>Finally, as you saw, <strong>properties are normally initialised in the constructor</strong>:</p>
<pre><code class="lang-javascript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Animal</span> </span>{
  <span class="hljs-keyword">constructor</span>(name) {
    <span class="hljs-keyword">this</span>.name = name;
  }
}
</code></pre>
</div></section><section class="slide" data-pos="6-6-14">
<span class="pos">6-6-14</span>
<div class="slidecontent"><p>...but when we use <strong>TypeScript</strong> we can also <strong>initialise properties directly on the class declaration</strong>:</p>
<pre><code class="lang-typescript"><span class="hljs-keyword">class</span> Dog {
  numberOfLegs = <span class="hljs-number">4</span>;
}
</code></pre>
<p>This is <strong>likely to become a part of JavaScript syntax</strong> too.</p>
</div></section><section class="slide" data-pos="6-6-15">
<span class="pos">6-6-15</span>
<div class="slidecontent"><p>So, to <strong>recap</strong>:</p>
<ul>
<li>classes are just a <strong>light syntactic sugar</strong> introduced in ES2015</li>
<li>we normally <strong>don&#39;t need them in JavaScript</strong></li>
<li>but they are a <strong>convenient way to bundle related functionality</strong></li>
<li>which <strong>Angular makes heavy use of</strong>!</li>
</ul>
</div></section>
</section>
<section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>6-7.</span> Decorators</h3>
      <p>dewhatnow?</p>
</p>
    </div>
  </section>
  <section class="slide" data-pos="6-7-1">
<span class="pos">6-7-1</span>
<div class="slidecontent"><p>The <strong>situation around decorators is rather confusing</strong>;</p>
<ul>
<li>There is a <a href="http://tc39.github.io/proposal-decorators/">proposal</a> to add it as a language feature</li>
<li>There is a slightly different <a href="https://www.typescriptlang.org/docs/handbook/decorators.html">implementation in TypeScript</a></li>
<li>There is the parallel idea in <strong><code>Reflect</code></strong></li>
<li>There is <a href="https://github.com/wycats/javascript-decorators/issues/48">disagreement</a> on whether decorators are a good idea at all</li>
<li>There is (was?) something called <a href="http://blog.thoughtram.io/angular/2015/05/03/the-difference-between-annotations-and-decorators.html">annotations</a> that is sort of the same... yet not</li>
</ul>
</div></section><section class="slide" data-pos="6-7-2">
<span class="pos">6-7-2</span>
<div class="slidecontent"><p>Focusing on the <strong>TypeScript implementation</strong>, decorators are a way of decorating a class...</p>
<ul>
<li><strong>declaration</strong></li>
<li><strong>property</strong></li>
<li><strong>getter</strong> or <strong>setter</strong></li>
<li><strong>method</strong></li>
<li><strong>method parameter</strong></li>
</ul>
</div></section><section class="slide" data-pos="6-7-3">
<span class="pos">6-7-3</span>
<div class="slidecontent"><p>As a simple example, imagine that we have a <strong><code>debounce</code> function</strong> that <strong>throttles other functions</strong>:</p>
<pre><code class="lang-javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">debounce</span>(<span class="hljs-params">fn</span>) </span>{
  <span class="hljs-comment">// ... create a throttled version of `fn`...</span>
  <span class="hljs-keyword">return</span> throttledFn;
}
</code></pre>
</div></section><section class="slide" data-pos="6-7-4">
<span class="pos">6-7-4</span>
<div class="slidecontent"><p>And then we have a class with a <strong>method that is very expensive</strong> to call:</p>
<pre><code class="lang-javascript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">myClass</span> </span>{
  myExpensiveMethod: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">// lots of heavy lifting here</span>
  }
}
</code></pre>
</div></section><section class="slide" data-pos="6-7-5">
<span class="pos">6-7-5</span>
<div class="slidecontent"><p><strong>Without decorators</strong> we would do this:</p>
<pre><code class="lang-javascript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">myClass</span> </span>{
  myExpensiveMethod: debounce(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">// lots of heavy lifting here</span>
  })
}
</code></pre>
</div></section><section class="slide" data-pos="6-7-6">
<span class="pos">6-7-6</span>
<div class="slidecontent"><p><strong>With decorators</strong>, instead, we use the <code>@</code> syntax:</p>
<pre><code class="lang-javascript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">myClass</span> </span>{
  @debounce
  myExpensiveMethod: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">// lots of heavy lifting here</span>
  }
}
</code></pre>
<p>The <strong>end result is the same thing</strong>.</p>
</div></section><section class="slide" data-pos="6-7-7">
<span class="pos">6-7-7</span>
<div class="slidecontent"><p>We can also have <strong>decorators that take additional arguments</strong>. For instance <code>debounce</code> could accept a <strong>minimum number of milliseconds</strong>:</p>
<pre><code class="lang-javascript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">myClass</span> </span>{
  @debounce(<span class="hljs-number">300</span>)
  myExpensiveMethod: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">// lots of heavy lifting here</span>
  }
}
</code></pre>
</div></section><section class="slide" data-pos="6-7-8">
<span class="pos">6-7-8</span>
<div class="slidecontent"><p>In other words, <strong>decorators are just a light syntax sugar</strong>.</p>
<p>But since an Angular app consists mainly of <strong>classes with core functionality sprinkled in</strong>, then <strong>decorators make a lot of sense</strong>.</p>
</div></section><section class="slide" data-pos="6-7-9">
<span class="pos">6-7-9</span>
<div class="slidecontent"><p>This is what a <strong>Hello-World component looks like without them</strong>:</p>
<pre><code class="lang-typescript">AppComponent = Component({
  selector: <span class="hljs-string">'my-app'</span>,
  template: <span class="hljs-string">'&lt;h1&gt;My First Angular App&lt;/h1&gt;'</span>
}).Class({
  <span class="hljs-keyword">constructor</span>: function(<span class="hljs-params"></span>) {},
  <span class="hljs-comment">// other model-specific stuff</span>
});
</code></pre>
</div></section><section class="slide" data-pos="6-7-10">
<span class="pos">6-7-10</span>
<div class="slidecontent"><p>And here it is in <strong>using decorators</strong> (through TypeScript):</p>
<pre><code class="lang-typescript"><span class="hljs-meta">@Component</span>({
  selector: <span class="hljs-string">'my-app'</span>,
  template: <span class="hljs-string">'&lt;h1&gt;My First Angular App&lt;/h1&gt;'</span>
})
<span class="hljs-keyword">class</span> AppComponent {
  <span class="hljs-comment">// other model-specific stuff</span>
}
</code></pre>
</div></section><section class="slide" data-pos="6-7-11">
<span class="pos">6-7-11</span>
<div class="slidecontent"><p>If you want to <strong>dig deeper into decorators</strong>, check out...</p>
<ul>
<li>The <a href="https://www.typescriptlang.org/docs/handbook/decorators.html">decorator section</a> of the TypeScript handbook</li>
<li>This <a href="https://github.com/arolson101/typescript-decorators">concice and clear explanation</a> with examples and interactive links</li>
</ul>
</div></section>
</section>
<section class="chaptersection">
  <section class="sectionheader">
    <div>
      <h3><span>6-8.</span> Miscellaneous</h3>
      <p>odds and ends</p>
</p>
    </div>
  </section>
  <section class="slide list" data-pos="6-8-1">
<span class="pos">6-8-1</span>
<div class="slidecontent">
<p>There&#39;s three more things worth mentioning:</p>
<ul>
<li><span>a</span>declaring variables with <strong><code>let</code></strong></li>
<li><span>b</span>declaring variables with <strong><code>const</code></strong></li>
<li><span>c</span><strong>template strings</strong></li>
</ul>
</div></section><section class="slide num numA" data-pos="6-8-2">
<span class="pos">6-8-2</span>
<div class="slidecontent">
<p>Variables in JavaScript have <strong>functional scope</strong>.</p>
<p>Even if you declare them inside an <strong>if-block in the middle of a function</strong>, the variable is still <strong>visible throughout the entire function</strong>.</p>
</div></section><section class="slide" data-pos="6-8-3">
<span class="pos">6-8-3</span>
<div class="slidecontent"><p>So when you write this...</p>
<pre><code>function myFunc(arg,<span class="hljs-class"><span class="hljs-keyword">lib</span>){</span>
  <span class="hljs-keyword">if</span> (arg === <span class="hljs-number">42</span>){
    var ret = <span class="hljs-class"><span class="hljs-keyword">lib</span>.<span class="hljs-title">method</span>() + 7;</span>
    <span class="hljs-keyword">return</span> ret;
  }
  /<span class="hljs-regexp">/ do sth else
}</span>
</code></pre></div></section><section class="slide" data-pos="6-8-4">
<span class="pos">6-8-4</span>
<div class="slidecontent"><p>...this is what (conceptually) happens:</p>
<pre><code>function myFunc(arg,<span class="hljs-class"><span class="hljs-keyword">lib</span>){</span>
  var ret;
  <span class="hljs-keyword">if</span> (arg === <span class="hljs-number">42</span>){
    ret = <span class="hljs-class"><span class="hljs-keyword">lib</span>.<span class="hljs-title">method</span>() + 7;</span>
    <span class="hljs-keyword">return</span> ret;
  }
  /<span class="hljs-regexp">/ do sth else
}</span>
</code></pre><p>In other words, the <strong>declaration is hoisted to the top</strong>.</p>
</div></section><section class="slide" data-pos="6-8-5">
<span class="pos">6-8-5</span>
<div class="slidecontent"><p>This is generally considered a <strong>design mistake</strong>, and can give rise to <strong>weird bugs</strong>.</p>
<p>ES6 therefore introduces <strong><code>let</code> as an alternative to <code>var</code></strong> for declaring variables, and the <strong>only difference</strong> is that <strong><code>let</code> has block scope</strong>.</p>
</div></section><section class="slide num numB" data-pos="6-8-6">
<span class="pos">6-8-6</span>
<div class="slidecontent">
<p>In most languages there&#39;s a way to <strong>define constants</strong>, meaning a <strong>variable that cannot change</strong>.</p>
<p>This is <strong>missing from JavaScript</strong>.</p>
</div></section><section class="slide" data-pos="6-8-7">
<span class="pos">6-8-7</span>
<div class="slidecontent"><p>A common &quot;hack&quot; is to <strong>name constants in all capitals</strong>:</p>
<pre><code>var SOME_CONST = <span class="hljs-number">42</span><span class="hljs-comment">;</span>
</code></pre><p>But this has <strong>no technical significance</strong>, it is just a hint.</p>
</div></section><section class="slide" data-pos="6-8-8">
<span class="pos">6-8-8</span>
<div class="slidecontent"><p>ES6 therefore introduces <strong><code>const</code> as another alternative to <code>var</code></strong>, and the <strong>only difference</strong> is that you <strong>cannot reassign the value</strong>.</p>
<pre><code>const answer = <span class="hljs-number">42</span><span class="hljs-comment">;</span>
<span class="hljs-attribute">answer</span> = <span class="hljs-number">43</span><span class="hljs-comment">; // throws an error</span>
</code></pre></div></section><section class="slide num numC" data-pos="6-8-9">
<span class="pos">6-8-9</span>
<div class="slidecontent">
<p>Finally, <strong>template strings</strong>!</p>
<pre><code><span class="hljs-keyword">let</span> userTempl = <span class="hljs-string">`
  First name: <span class="hljs-subst">${user.fname}</span>
  Last name: <span class="hljs-subst">${user.lname}</span>
`</span>;
</code></pre></div></section><section class="slide" data-pos="6-8-10">
<span class="pos">6-8-10</span>
<div class="slidecontent"><p>As you saw, template strings...</p>
<ul>
<li>are <strong>defined inside two backticks</strong></li>
<li>can <strong>contain linebreaks</strong></li>
<li>allow <strong>interpolation inside ${}</strong></li>
</ul>
</div></section><section class="slide" data-pos="6-8-11">
<span class="pos">6-8-11</span>
<div class="slidecontent"><p>There&#39;s also a <strong>semi-secret way to invoke functions with templates</strong>. Here&#39;s an example from <a href="https://github.com/yoshuawuyts/choo">Choo</a>:</p>
<pre><code><span class="xml">html`
  <span class="hljs-tag">&lt;<span class="hljs-name">main</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"app"</span>&gt;</span>
    Count: $</span><span class="hljs-template-variable">{state.counter.count}</span><span class="xml">
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">$</span></span></span><span class="hljs-template-variable">{(e) =&gt; send('counter:increment')}</span><span class="xml"><span class="hljs-tag">&gt;</span>+<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">main</span>&gt;</span>`</span>
</code></pre><p>The <strong><code>html</code> function is invoked</strong> with the templates and interpolated values.</p>
</div></section>
</section>

  </div>
  
</div>

  </div>
  <div id="indexes">
    <div class="lookupindex linklist">
  <h2>External links</h2>
  <div class="lookuplist">
    <div><span>1-1-2</span><span>krawaller</span><a href="http://twitter.com/krawaller">http://twitter.com/krawaller</a></div><div><span>1-5-16</span><span>Mozilla Developer Networks</span><a href="https://developer.mozilla.org/en-US/">https://developer.mozilla.org/en-US/</a></div><div><span>2-1-7</span><span>MDN rating docs</span><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Attribute_selectors">https://developer.mozilla.org/en-US/docs/Web/CSS/Attribute_selectors</a></div><div><span>2-2-14</span><span>Static</span><a href="https://github.com/krawaller/js-app-solutions/tree/master/static">https://github.com/krawaller/js-app-solutions/tree/master/static</a></div><div><span>2-6-19</span><span>Data</span><a href="https://github.com/krawaller/js-app-solutions/tree/master/data">https://github.com/krawaller/js-app-solutions/tree/master/data</a></div><div><span>2-8-11</span><span>Interaction</span><a href="https://github.com/krawaller/js-app-solutions/tree/master/interaction">https://github.com/krawaller/js-app-solutions/tree/master/interaction</a></div><div><span>2-8-11</span><span>Interaction alt</span><a href="https://github.com/krawaller/js-app-solutions/tree/master/interaction_alt">https://github.com/krawaller/js-app-solutions/tree/master/interaction_alt</a></div><div><span>2-10-9</span><span>jQuery</span><a href="https://github.com/krawaller/js-app-solutions/tree/master/jquery">https://github.com/krawaller/js-app-solutions/tree/master/jquery</a></div><div><span>2-10-9</span><span>jQuery alt</span><a href="https://github.com/krawaller/js-app-solutions/tree/master/jquery_alt">https://github.com/krawaller/js-app-solutions/tree/master/jquery_alt</a></div><div><span>3-2-11</span><span>Less</span><a href="https://github.com/krawaller/js-app-solutions/tree/master/less">https://github.com/krawaller/js-app-solutions/tree/master/less</a></div><div><span>3-4-13</span><span>Build</span><a href="https://github.com/krawaller/js-app-solutions/tree/master/build">https://github.com/krawaller/js-app-solutions/tree/master/build</a></div><div><span>3-5-3</span><span>Webpack</span><a href="https://webpack.js.org/">https://webpack.js.org/</a></div><div><span>3-5-15</span><span>Babel</span><a href="https://babeljs.io/">https://babeljs.io/</a></div><div><span>3-6-14</span><span>Webpack</span><a href="https://github.com/krawaller/js-app-solutions/tree/master/webpack">https://github.com/krawaller/js-app-solutions/tree/master/webpack</a></div><div><span>3-7-2</span><span>Webpack dev server</span><a href="https://github.com/webpack/webpack-dev-server">https://github.com/webpack/webpack-dev-server</a></div><div><span>3-8-5</span><span>Webpack Dev</span><a href="https://github.com/krawaller/js-app-solutions/tree/master/webpack_dev">https://github.com/krawaller/js-app-solutions/tree/master/webpack_dev</a></div><div><span>3-10-12</span><span>Distribution</span><a href="https://github.com/krawaller/js-app-solutions/tree/master/distribution">https://github.com/krawaller/js-app-solutions/tree/master/distribution</a></div><div><span>4-2-3</span><span>Stylelint</span><a href="https://stylelint.io/">https://stylelint.io/</a></div><div><span>4-2-6</span><span>full list of rules</span><a href="https://stylelint.io/user-guide/rules/">https://stylelint.io/user-guide/rules/</a></div><div><span>4-2-11</span><span>ESLint</span><a href="https://eslint.org/">https://eslint.org/</a></div><div><span>4-2-14</span><span>full list of ESLint rules</span><a href="https://eslint.org/docs/rules/">https://eslint.org/docs/rules/</a></div><div><span>4-2-22</span><span>Lint</span><a href="https://github.com/krawaller/js-app-solutions/tree/master/lint">https://github.com/krawaller/js-app-solutions/tree/master/lint</a></div><div><span>4-4-14</span><span>CircleCI</span><a href="https://github.com/krawaller/js-app-solutions/tree/master/circleci">https://github.com/krawaller/js-app-solutions/tree/master/circleci</a></div><div><span>4-7-3</span><span>Netlify</span><a href="https://www.netlify.com/">https://www.netlify.com/</a></div><div><span>5-1-3</span><span>TypeScript</span><a href="https://www.typescriptlang.org/">https://www.typescriptlang.org/</a></div><div><span>5-1-13</span><span>whole course just about TypeScript</span><a href="https://edument.se/education/categories/webdevelopment/typescript">https://edument.se/education/categories/webdevelopment/typescript</a></div><div><span>5-2-15</span><span>TSLint</span><a href="https://palantir.github.io/tslint/">https://palantir.github.io/tslint/</a></div><div><span>5-2-25</span><span>TypeScript Start</span><a href="https://github.com/krawaller/js-app-solutions/tree/master/typescript_start">https://github.com/krawaller/js-app-solutions/tree/master/typescript_start</a></div><div><span>5-3-14</span><span>TypeScript Next</span><a href="https://github.com/krawaller/js-app-solutions/tree/master/typescript_next">https://github.com/krawaller/js-app-solutions/tree/master/typescript_next</a></div><div><span>5-4-7</span><span>@angular</span><a href="https://www.npmjs.com/package/@angular/core">https://www.npmjs.com/package/@angular/core</a></div><div><span>5-4-7</span><span>angular</span><a href="https://www.npmjs.com/package/angular">https://www.npmjs.com/package/angular</a></div><div><span>5-4-7</span><span>angular/angular</span><a href="https://github.com/angular/angular">https://github.com/angular/angular</a></div><div><span>5-4-7</span><span>angular/angular.js</span><a href="https://github.com/angular/angular.js">https://github.com/angular/angular.js</a></div><div><span>5-5-12</span><span>Angular Start</span><a href="https://github.com/krawaller/js-app-solutions/tree/master/angular_start">https://github.com/krawaller/js-app-solutions/tree/master/angular_start</a></div><div><span>5-7-14</span><span>Angular Next</span><a href="https://github.com/krawaller/js-app-solutions/tree/master/angular_next">https://github.com/krawaller/js-app-solutions/tree/master/angular_next</a></div><div><span>5-9-4</span><span>Angular Next Alt</span><a href="https://github.com/krawaller/js-app-solutions/tree/master/angular_next_alt">https://github.com/krawaller/js-app-solutions/tree/master/angular_next_alt</a></div><div><span>5-11-4</span><span>Angular Component</span><a href="https://github.com/krawaller/js-app-solutions/tree/master/angular_component">https://github.com/krawaller/js-app-solutions/tree/master/angular_component</a></div><div><span>6-1-7</span><span>method shorthand syntax</span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Method_definitions">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Method_definitions</a></div><div><span>6-1-12</span><span>uniform access principle</span><a href="https://en.wikipedia.org/wiki/Uniform_access_principle">https://en.wikipedia.org/wiki/Uniform_access_principle</a></div><div><span>6-2-1</span><span>Destructuring</span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment</a></div><div><span>6-5-4</span><span>export</span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/export">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/export</a></div><div><span>6-5-4</span><span>import</span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import</a></div><div><span>6-7-1</span><span>annotations</span><a href="http://blog.thoughtram.io/angular/2015/05/03/the-difference-between-annotations-and-decorators.html">http://blog.thoughtram.io/angular/2015/05/03/the-difference-between-annotations-and-decorators.html</a></div><div><span>6-7-1</span><span>disagreement</span><a href="https://github.com/wycats/javascript-decorators/issues/48">https://github.com/wycats/javascript-decorators/issues/48</a></div><div><span>6-7-1</span><span>implementation in TypeScript</span><a href="https://www.typescriptlang.org/docs/handbook/decorators.html">https://www.typescriptlang.org/docs/handbook/decorators.html</a></div><div><span>6-7-1</span><span>proposal</span><a href="http://tc39.github.io/proposal-decorators/">http://tc39.github.io/proposal-decorators/</a></div><div><span>6-7-11</span><span>concice and clear explanation</span><a href="https://github.com/arolson101/typescript-decorators">https://github.com/arolson101/typescript-decorators</a></div><div><span>6-7-11</span><span>decorator section</span><a href="https://www.typescriptlang.org/docs/handbook/decorators.html">https://www.typescriptlang.org/docs/handbook/decorators.html</a></div><div><span>6-8-11</span><span>Choo</span><a href="https://github.com/yoshuawuyts/choo">https://github.com/yoshuawuyts/choo</a></div>
  </div>
</div>

  </div>
</div>

</body>
</html>
